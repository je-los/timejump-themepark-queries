function ud(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const l in a)if(l!=="default"&&!(l in e)){const s=Object.getOwnPropertyDescriptor(a,l);s&&Object.defineProperty(e,l,s.get?s:{enumerable:!0,get:()=>a[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function cd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Du={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wa=Symbol.for("react.element"),md=Symbol.for("react.portal"),dd=Symbol.for("react.fragment"),fd=Symbol.for("react.strict_mode"),pd=Symbol.for("react.profiler"),hd=Symbol.for("react.provider"),yd=Symbol.for("react.context"),gd=Symbol.for("react.forward_ref"),vd=Symbol.for("react.suspense"),Ed=Symbol.for("react.memo"),Nd=Symbol.for("react.lazy"),Gi=Symbol.iterator;function Sd(e){return e===null||typeof e!="object"?null:(e=Gi&&e[Gi]||e["@@iterator"],typeof e=="function"?e:null)}var Pu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Iu=Object.assign,Lu={};function Kn(e,t,n){this.props=e,this.context=t,this.refs=Lu,this.updater=n||Pu}Kn.prototype.isReactComponent={};Kn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Kn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ru(){}Ru.prototype=Kn.prototype;function Qs(e,t,n){this.props=e,this.context=t,this.refs=Lu,this.updater=n||Pu}var Ks=Qs.prototype=new Ru;Ks.constructor=Qs;Iu(Ks,Kn.prototype);Ks.isPureReactComponent=!0;var Ji=Array.isArray,Au=Object.prototype.hasOwnProperty,qs={current:null},Mu={key:!0,ref:!0,__self:!0,__source:!0};function Fu(e,t,n){var a,l={},s=null,i=null;if(t!=null)for(a in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)Au.call(t,a)&&!Mu.hasOwnProperty(a)&&(l[a]=t[a]);var u=arguments.length-2;if(u===1)l.children=n;else if(1<u){for(var o=Array(u),m=0;m<u;m++)o[m]=arguments[m+2];l.children=o}if(e&&e.defaultProps)for(a in u=e.defaultProps,u)l[a]===void 0&&(l[a]=u[a]);return{$$typeof:Wa,type:e,key:s,ref:i,props:l,_owner:qs.current}}function kd(e,t){return{$$typeof:Wa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Gs(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wa}function wd(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Yi=/\/+/g;function gl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wd(""+e.key):t.toString(36)}function yr(e,t,n,a,l){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Wa:case md:i=!0}}if(i)return i=e,l=l(i),e=a===""?"."+gl(i,0):a,Ji(l)?(n="",e!=null&&(n=e.replace(Yi,"$&/")+"/"),yr(l,t,n,"",function(m){return m})):l!=null&&(Gs(l)&&(l=kd(l,n+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(Yi,"$&/")+"/")+e)),t.push(l)),1;if(i=0,a=a===""?".":a+":",Ji(e))for(var u=0;u<e.length;u++){s=e[u];var o=a+gl(s,u);i+=yr(s,t,n,o,l)}else if(o=Sd(e),typeof o=="function")for(e=o.call(e),u=0;!(s=e.next()).done;)s=s.value,o=a+gl(s,u++),i+=yr(s,t,n,o,l);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ja(e,t,n){if(e==null)return e;var a=[],l=0;return yr(e,a,"","",function(s){return t.call(n,s,l++)}),a}function _d(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ue={current:null},gr={transition:null},bd={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:gr,ReactCurrentOwner:qs};function Uu(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:Ja,forEach:function(e,t,n){Ja(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ja(e,function(){t++}),t},toArray:function(e){return Ja(e,function(t){return t})||[]},only:function(e){if(!Gs(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};le.Component=Kn;le.Fragment=dd;le.Profiler=pd;le.PureComponent=Qs;le.StrictMode=fd;le.Suspense=vd;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bd;le.act=Uu;le.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=Iu({},e.props),l=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=qs.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(o in t)Au.call(t,o)&&!Mu.hasOwnProperty(o)&&(a[o]=t[o]===void 0&&u!==void 0?u[o]:t[o])}var o=arguments.length-2;if(o===1)a.children=n;else if(1<o){u=Array(o);for(var m=0;m<o;m++)u[m]=arguments[m+2];a.children=u}return{$$typeof:Wa,type:e.type,key:l,ref:s,props:a,_owner:i}};le.createContext=function(e){return e={$$typeof:yd,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hd,_context:e},e.Consumer=e};le.createElement=Fu;le.createFactory=function(e){var t=Fu.bind(null,e);return t.type=e,t};le.createRef=function(){return{current:null}};le.forwardRef=function(e){return{$$typeof:gd,render:e}};le.isValidElement=Gs;le.lazy=function(e){return{$$typeof:Nd,_payload:{_status:-1,_result:e},_init:_d}};le.memo=function(e,t){return{$$typeof:Ed,type:e,compare:t===void 0?null:t}};le.startTransition=function(e){var t=gr.transition;gr.transition={};try{e()}finally{gr.transition=t}};le.unstable_act=Uu;le.useCallback=function(e,t){return Ue.current.useCallback(e,t)};le.useContext=function(e){return Ue.current.useContext(e)};le.useDebugValue=function(){};le.useDeferredValue=function(e){return Ue.current.useDeferredValue(e)};le.useEffect=function(e,t){return Ue.current.useEffect(e,t)};le.useId=function(){return Ue.current.useId()};le.useImperativeHandle=function(e,t,n){return Ue.current.useImperativeHandle(e,t,n)};le.useInsertionEffect=function(e,t){return Ue.current.useInsertionEffect(e,t)};le.useLayoutEffect=function(e,t){return Ue.current.useLayoutEffect(e,t)};le.useMemo=function(e,t){return Ue.current.useMemo(e,t)};le.useReducer=function(e,t,n){return Ue.current.useReducer(e,t,n)};le.useRef=function(e){return Ue.current.useRef(e)};le.useState=function(e){return Ue.current.useState(e)};le.useSyncExternalStore=function(e,t,n){return Ue.current.useSyncExternalStore(e,t,n)};le.useTransition=function(){return Ue.current.useTransition()};le.version="18.3.1";Du.exports=le;var c=Du.exports;const r=cd(c),Cd=ud({__proto__:null,default:r},[c]);var Ou={exports:{}},Ge={},zu={exports:{}},$u={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,W){var B=F.length;F.push(W);e:for(;0<B;){var ne=B-1>>>1,Y=F[ne];if(0<l(Y,W))F[ne]=W,F[B]=Y,B=ne;else break e}}function n(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var W=F[0],B=F.pop();if(B!==W){F[0]=B;e:for(var ne=0,Y=F.length,z=Y>>>1;ne<z;){var H=2*(ne+1)-1,X=F[H],ae=H+1,$=F[ae];if(0>l(X,B))ae<Y&&0>l($,X)?(F[ne]=$,F[ae]=B,ne=ae):(F[ne]=X,F[H]=B,ne=H);else if(ae<Y&&0>l($,B))F[ne]=$,F[ae]=B,ne=ae;else break e}}return W}function l(F,W){var B=F.sortIndex-W.sortIndex;return B!==0?B:F.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,u=i.now();e.unstable_now=function(){return i.now()-u}}var o=[],m=[],p=1,f=null,y=3,v=!1,_=!1,b=!1,k=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(F){for(var W=n(m);W!==null;){if(W.callback===null)a(m);else if(W.startTime<=F)a(m),W.sortIndex=W.expirationTime,t(o,W);else break;W=n(m)}}function N(F){if(b=!1,h(F),!_)if(n(o)!==null)_=!0,G(C);else{var W=n(m);W!==null&&re(N,W.startTime-F)}}function C(F,W){_=!1,b&&(b=!1,g(S),S=-1),v=!0;var B=y;try{for(h(W),f=n(o);f!==null&&(!(f.expirationTime>W)||F&&!I());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,y=f.priorityLevel;var Y=ne(f.expirationTime<=W);W=e.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(o)&&a(o),h(W)}else a(o);f=n(o)}if(f!==null)var z=!0;else{var H=n(m);H!==null&&re(N,H.startTime-W),z=!1}return z}finally{f=null,y=B,v=!1}}var E=!1,x=null,S=-1,D=5,T=-1;function I(){return!(e.unstable_now()-T<D)}function M(){if(x!==null){var F=e.unstable_now();T=F;var W=!0;try{W=x(!0,F)}finally{W?K():(E=!1,x=null)}}else E=!1}var K;if(typeof d=="function")K=function(){d(M)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,U=P.port2;P.port1.onmessage=M,K=function(){U.postMessage(null)}}else K=function(){k(M,0)};function G(F){x=F,E||(E=!0,K())}function re(F,W){S=k(function(){F(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){_||v||(_=!0,G(C))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(o)},e.unstable_next=function(F){switch(y){case 1:case 2:case 3:var W=3;break;default:W=y}var B=y;y=W;try{return F()}finally{y=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,W){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var B=y;y=F;try{return W()}finally{y=B}},e.unstable_scheduleCallback=function(F,W,B){var ne=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ne+B:ne):B=ne,F){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=B+Y,F={id:p++,callback:W,priorityLevel:F,startTime:B,expirationTime:Y,sortIndex:-1},B>ne?(F.sortIndex=B,t(m,F),n(o)===null&&F===n(m)&&(b?(g(S),S=-1):b=!0,re(N,B-ne))):(F.sortIndex=Y,t(o,F),_||v||(_=!0,G(C))),F},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(F){var W=y;return function(){var B=y;y=W;try{return F.apply(this,arguments)}finally{y=B}}}})($u);zu.exports=$u;var xd=zu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Td=c,qe=xd;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bu=new Set,ba={};function gn(e,t){$n(e,t),$n(e+"Capture",t)}function $n(e,t){for(ba[e]=t,e=0;e<t.length;e++)Bu.add(t[e])}var Ct=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ql=Object.prototype.hasOwnProperty,Dd=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xi={},Zi={};function Pd(e){return ql.call(Zi,e)?!0:ql.call(Xi,e)?!1:Dd.test(e)?Zi[e]=!0:(Xi[e]=!0,!1)}function Id(e,t,n,a){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ld(e,t,n,a){if(t===null||typeof t>"u"||Id(e,t,n,a))return!0;if(a)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Oe(e,t,n,a,l,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var Pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pe[e]=new Oe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pe[t]=new Oe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pe[e]=new Oe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pe[e]=new Oe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pe[e]=new Oe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pe[e]=new Oe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pe[e]=new Oe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pe[e]=new Oe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pe[e]=new Oe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Js=/[\-:]([a-z])/g;function Ys(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Js,Ys);Pe[t]=new Oe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Js,Ys);Pe[t]=new Oe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Js,Ys);Pe[t]=new Oe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pe[e]=new Oe(e,1,!1,e.toLowerCase(),null,!1,!1)});Pe.xlinkHref=new Oe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pe[e]=new Oe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Xs(e,t,n,a){var l=Pe.hasOwnProperty(t)?Pe[t]:null;(l!==null?l.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ld(t,n,l,a)&&(n=null),a||l===null?Pd(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,a=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}var Pt=Td.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ya=Symbol.for("react.element"),kn=Symbol.for("react.portal"),wn=Symbol.for("react.fragment"),Zs=Symbol.for("react.strict_mode"),Gl=Symbol.for("react.profiler"),ju=Symbol.for("react.provider"),Vu=Symbol.for("react.context"),ei=Symbol.for("react.forward_ref"),Jl=Symbol.for("react.suspense"),Yl=Symbol.for("react.suspense_list"),ti=Symbol.for("react.memo"),Rt=Symbol.for("react.lazy"),Wu=Symbol.for("react.offscreen"),eo=Symbol.iterator;function na(e){return e===null||typeof e!="object"?null:(e=eo&&e[eo]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Object.assign,vl;function da(e){if(vl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);vl=t&&t[1]||""}return`
`+vl+e}var El=!1;function Nl(e,t){if(!e||El)return"";El=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var a=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){a=m}e.call(t.prototype)}else{try{throw Error()}catch(m){a=m}e()}}catch(m){if(m&&a&&typeof m.stack=="string"){for(var l=m.stack.split(`
`),s=a.stack.split(`
`),i=l.length-1,u=s.length-1;1<=i&&0<=u&&l[i]!==s[u];)u--;for(;1<=i&&0<=u;i--,u--)if(l[i]!==s[u]){if(i!==1||u!==1)do if(i--,u--,0>u||l[i]!==s[u]){var o=`
`+l[i].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=i&&0<=u);break}}}finally{El=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?da(e):""}function Rd(e){switch(e.tag){case 5:return da(e.type);case 16:return da("Lazy");case 13:return da("Suspense");case 19:return da("SuspenseList");case 0:case 2:case 15:return e=Nl(e.type,!1),e;case 11:return e=Nl(e.type.render,!1),e;case 1:return e=Nl(e.type,!0),e;default:return""}}function Xl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case wn:return"Fragment";case kn:return"Portal";case Gl:return"Profiler";case Zs:return"StrictMode";case Jl:return"Suspense";case Yl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Vu:return(e.displayName||"Context")+".Consumer";case ju:return(e._context.displayName||"Context")+".Provider";case ei:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ti:return t=e.displayName||null,t!==null?t:Xl(e.type)||"Memo";case Rt:t=e._payload,e=e._init;try{return Xl(e(t))}catch{}}return null}function Ad(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xl(t);case 8:return t===Zs?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Gt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Md(e){var t=Hu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){a=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(i){a=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xa(e){e._valueTracker||(e._valueTracker=Md(e))}function Qu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=Hu(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Dr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Zl(e,t){var n=t.checked;return ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function to(e,t){var n=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;n=Gt(t.value!=null?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ku(e,t){t=t.checked,t!=null&&Xs(e,"checked",t,!1)}function es(e,t){Ku(e,t);var n=Gt(t.value),a=t.type;if(n!=null)a==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ts(e,t.type,n):t.hasOwnProperty("defaultValue")&&ts(e,t.type,Gt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function no(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ts(e,t,n){(t!=="number"||Dr(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var fa=Array.isArray;function An(e,t,n,a){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Gt(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,a&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function ns(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ao(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(O(92));if(fa(n)){if(1<n.length)throw Error(O(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Gt(n)}}function qu(e,t){var n=Gt(t.value),a=Gt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),a!=null&&(e.defaultValue=""+a)}function ro(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Gu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function as(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Gu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Za,Ju=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,a,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,a,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Za=Za||document.createElement("div"),Za.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Za.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ca(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ya={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fd=["Webkit","ms","Moz","O"];Object.keys(ya).forEach(function(e){Fd.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ya[t]=ya[e]})});function Yu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ya.hasOwnProperty(e)&&ya[e]?(""+t).trim():t+"px"}function Xu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var a=n.indexOf("--")===0,l=Yu(n,t[n],a);n==="float"&&(n="cssFloat"),a?e.setProperty(n,l):e[n]=l}}var Ud=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rs(e,t){if(t){if(Ud[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function ls(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ss=null;function ni(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var is=null,Mn=null,Fn=null;function lo(e){if(e=Ka(e)){if(typeof is!="function")throw Error(O(280));var t=e.stateNode;t&&(t=rl(t),is(e.stateNode,e.type,t))}}function Zu(e){Mn?Fn?Fn.push(e):Fn=[e]:Mn=e}function ec(){if(Mn){var e=Mn,t=Fn;if(Fn=Mn=null,lo(e),t)for(e=0;e<t.length;e++)lo(t[e])}}function tc(e,t){return e(t)}function nc(){}var Sl=!1;function ac(e,t,n){if(Sl)return e(t,n);Sl=!0;try{return tc(e,t,n)}finally{Sl=!1,(Mn!==null||Fn!==null)&&(nc(),ec())}}function xa(e,t){var n=e.stateNode;if(n===null)return null;var a=rl(n);if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(O(231,t,typeof n));return n}var os=!1;if(Ct)try{var aa={};Object.defineProperty(aa,"passive",{get:function(){os=!0}}),window.addEventListener("test",aa,aa),window.removeEventListener("test",aa,aa)}catch{os=!1}function Od(e,t,n,a,l,s,i,u,o){var m=Array.prototype.slice.call(arguments,3);try{t.apply(n,m)}catch(p){this.onError(p)}}var ga=!1,Pr=null,Ir=!1,us=null,zd={onError:function(e){ga=!0,Pr=e}};function $d(e,t,n,a,l,s,i,u,o){ga=!1,Pr=null,Od.apply(zd,arguments)}function Bd(e,t,n,a,l,s,i,u,o){if($d.apply(this,arguments),ga){if(ga){var m=Pr;ga=!1,Pr=null}else throw Error(O(198));Ir||(Ir=!0,us=m)}}function vn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function so(e){if(vn(e)!==e)throw Error(O(188))}function jd(e){var t=e.alternate;if(!t){if(t=vn(e),t===null)throw Error(O(188));return t!==e?null:e}for(var n=e,a=t;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(a=l.return,a!==null){n=a;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return so(l),e;if(s===a)return so(l),t;s=s.sibling}throw Error(O(188))}if(n.return!==a.return)n=l,a=s;else{for(var i=!1,u=l.child;u;){if(u===n){i=!0,n=l,a=s;break}if(u===a){i=!0,a=l,n=s;break}u=u.sibling}if(!i){for(u=s.child;u;){if(u===n){i=!0,n=s,a=l;break}if(u===a){i=!0,a=s,n=l;break}u=u.sibling}if(!i)throw Error(O(189))}}if(n.alternate!==a)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?e:t}function lc(e){return e=jd(e),e!==null?sc(e):null}function sc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sc(e);if(t!==null)return t;e=e.sibling}return null}var ic=qe.unstable_scheduleCallback,io=qe.unstable_cancelCallback,Vd=qe.unstable_shouldYield,Wd=qe.unstable_requestPaint,ve=qe.unstable_now,Hd=qe.unstable_getCurrentPriorityLevel,ai=qe.unstable_ImmediatePriority,oc=qe.unstable_UserBlockingPriority,Lr=qe.unstable_NormalPriority,Qd=qe.unstable_LowPriority,uc=qe.unstable_IdlePriority,el=null,pt=null;function Kd(e){if(pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(el,e,void 0,(e.current.flags&128)===128)}catch{}}var ot=Math.clz32?Math.clz32:Jd,qd=Math.log,Gd=Math.LN2;function Jd(e){return e>>>=0,e===0?32:31-(qd(e)/Gd|0)|0}var er=64,tr=4194304;function pa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Rr(e,t){var n=e.pendingLanes;if(n===0)return 0;var a=0,l=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var u=i&~l;u!==0?a=pa(u):(s&=i,s!==0&&(a=pa(s)))}else i=n&~l,i!==0?a=pa(i):s!==0&&(a=pa(s));if(a===0)return 0;if(t!==0&&t!==a&&!(t&l)&&(l=a&-a,s=t&-t,l>=s||l===16&&(s&4194240)!==0))return t;if(a&4&&(a|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)n=31-ot(t),l=1<<n,a|=e[n],t&=~l;return a}function Yd(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xd(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,l=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-ot(s),u=1<<i,o=l[i];o===-1?(!(u&n)||u&a)&&(l[i]=Yd(u,t)):o<=t&&(e.expiredLanes|=u),s&=~u}}function cs(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cc(){var e=er;return er<<=1,!(er&4194240)&&(er=64),e}function kl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ha(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ot(t),e[t]=n}function Zd(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-ot(n),s=1<<l;t[l]=0,a[l]=-1,e[l]=-1,n&=~s}}function ri(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-ot(n),l=1<<a;l&t|e[a]&t&&(e[a]|=t),n&=~l}}var ue=0;function mc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var dc,li,fc,pc,hc,ms=!1,nr=[],$t=null,Bt=null,jt=null,Ta=new Map,Da=new Map,Mt=[],ef="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oo(e,t){switch(e){case"focusin":case"focusout":$t=null;break;case"dragenter":case"dragleave":Bt=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":Ta.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Da.delete(t.pointerId)}}function ra(e,t,n,a,l,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[l]},t!==null&&(t=Ka(t),t!==null&&li(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function tf(e,t,n,a,l){switch(t){case"focusin":return $t=ra($t,e,t,n,a,l),!0;case"dragenter":return Bt=ra(Bt,e,t,n,a,l),!0;case"mouseover":return jt=ra(jt,e,t,n,a,l),!0;case"pointerover":var s=l.pointerId;return Ta.set(s,ra(Ta.get(s)||null,e,t,n,a,l)),!0;case"gotpointercapture":return s=l.pointerId,Da.set(s,ra(Da.get(s)||null,e,t,n,a,l)),!0}return!1}function yc(e){var t=ln(e.target);if(t!==null){var n=vn(t);if(n!==null){if(t=n.tag,t===13){if(t=rc(n),t!==null){e.blockedOn=t,hc(e.priority,function(){fc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ds(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);ss=a,n.target.dispatchEvent(a),ss=null}else return t=Ka(n),t!==null&&li(t),e.blockedOn=n,!1;t.shift()}return!0}function uo(e,t,n){vr(e)&&n.delete(t)}function nf(){ms=!1,$t!==null&&vr($t)&&($t=null),Bt!==null&&vr(Bt)&&(Bt=null),jt!==null&&vr(jt)&&(jt=null),Ta.forEach(uo),Da.forEach(uo)}function la(e,t){e.blockedOn===t&&(e.blockedOn=null,ms||(ms=!0,qe.unstable_scheduleCallback(qe.unstable_NormalPriority,nf)))}function Pa(e){function t(l){return la(l,e)}if(0<nr.length){la(nr[0],e);for(var n=1;n<nr.length;n++){var a=nr[n];a.blockedOn===e&&(a.blockedOn=null)}}for($t!==null&&la($t,e),Bt!==null&&la(Bt,e),jt!==null&&la(jt,e),Ta.forEach(t),Da.forEach(t),n=0;n<Mt.length;n++)a=Mt[n],a.blockedOn===e&&(a.blockedOn=null);for(;0<Mt.length&&(n=Mt[0],n.blockedOn===null);)yc(n),n.blockedOn===null&&Mt.shift()}var Un=Pt.ReactCurrentBatchConfig,Ar=!0;function af(e,t,n,a){var l=ue,s=Un.transition;Un.transition=null;try{ue=1,si(e,t,n,a)}finally{ue=l,Un.transition=s}}function rf(e,t,n,a){var l=ue,s=Un.transition;Un.transition=null;try{ue=4,si(e,t,n,a)}finally{ue=l,Un.transition=s}}function si(e,t,n,a){if(Ar){var l=ds(e,t,n,a);if(l===null)Ll(e,t,a,Mr,n),oo(e,a);else if(tf(l,e,t,n,a))a.stopPropagation();else if(oo(e,a),t&4&&-1<ef.indexOf(e)){for(;l!==null;){var s=Ka(l);if(s!==null&&dc(s),s=ds(e,t,n,a),s===null&&Ll(e,t,a,Mr,n),s===l)break;l=s}l!==null&&a.stopPropagation()}else Ll(e,t,a,null,n)}}var Mr=null;function ds(e,t,n,a){if(Mr=null,e=ni(a),e=ln(e),e!==null)if(t=vn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Mr=e,null}function gc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hd()){case ai:return 1;case oc:return 4;case Lr:case Qd:return 16;case uc:return 536870912;default:return 16}default:return 16}}var Ut=null,ii=null,Er=null;function vc(){if(Er)return Er;var e,t=ii,n=t.length,a,l="value"in Ut?Ut.value:Ut.textContent,s=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(a=1;a<=i&&t[n-a]===l[s-a];a++);return Er=l.slice(e,1<a?1-a:void 0)}function Nr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ar(){return!0}function co(){return!1}function Je(e){function t(n,a,l,s,i){this._reactName=n,this._targetInst=l,this.type=a,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ar:co,this.isPropagationStopped=co,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ar)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ar)},persist:function(){},isPersistent:ar}),t}var qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oi=Je(qn),Qa=ye({},qn,{view:0,detail:0}),lf=Je(Qa),wl,_l,sa,tl=ye({},Qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ui,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sa&&(sa&&e.type==="mousemove"?(wl=e.screenX-sa.screenX,_l=e.screenY-sa.screenY):_l=wl=0,sa=e),wl)},movementY:function(e){return"movementY"in e?e.movementY:_l}}),mo=Je(tl),sf=ye({},tl,{dataTransfer:0}),of=Je(sf),uf=ye({},Qa,{relatedTarget:0}),bl=Je(uf),cf=ye({},qn,{animationName:0,elapsedTime:0,pseudoElement:0}),mf=Je(cf),df=ye({},qn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ff=Je(df),pf=ye({},qn,{data:0}),fo=Je(pf),hf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gf[e])?!!t[e]:!1}function ui(){return vf}var Ef=ye({},Qa,{key:function(e){if(e.key){var t=hf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Nr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ui,charCode:function(e){return e.type==="keypress"?Nr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Nf=Je(Ef),Sf=ye({},tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),po=Je(Sf),kf=ye({},Qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ui}),wf=Je(kf),_f=ye({},qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),bf=Je(_f),Cf=ye({},tl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xf=Je(Cf),Tf=[9,13,27,32],ci=Ct&&"CompositionEvent"in window,va=null;Ct&&"documentMode"in document&&(va=document.documentMode);var Df=Ct&&"TextEvent"in window&&!va,Ec=Ct&&(!ci||va&&8<va&&11>=va),ho=" ",yo=!1;function Nc(e,t){switch(e){case"keyup":return Tf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _n=!1;function Pf(e,t){switch(e){case"compositionend":return Sc(t);case"keypress":return t.which!==32?null:(yo=!0,ho);case"textInput":return e=t.data,e===ho&&yo?null:e;default:return null}}function If(e,t){if(_n)return e==="compositionend"||!ci&&Nc(e,t)?(e=vc(),Er=ii=Ut=null,_n=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ec&&t.locale!=="ko"?null:t.data;default:return null}}var Lf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function go(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Lf[e.type]:t==="textarea"}function kc(e,t,n,a){Zu(a),t=Fr(t,"onChange"),0<t.length&&(n=new oi("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Ea=null,Ia=null;function Rf(e){Rc(e,0)}function nl(e){var t=xn(e);if(Qu(t))return e}function Af(e,t){if(e==="change")return t}var wc=!1;if(Ct){var Cl;if(Ct){var xl="oninput"in document;if(!xl){var vo=document.createElement("div");vo.setAttribute("oninput","return;"),xl=typeof vo.oninput=="function"}Cl=xl}else Cl=!1;wc=Cl&&(!document.documentMode||9<document.documentMode)}function Eo(){Ea&&(Ea.detachEvent("onpropertychange",_c),Ia=Ea=null)}function _c(e){if(e.propertyName==="value"&&nl(Ia)){var t=[];kc(t,Ia,e,ni(e)),ac(Rf,t)}}function Mf(e,t,n){e==="focusin"?(Eo(),Ea=t,Ia=n,Ea.attachEvent("onpropertychange",_c)):e==="focusout"&&Eo()}function Ff(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nl(Ia)}function Uf(e,t){if(e==="click")return nl(t)}function Of(e,t){if(e==="input"||e==="change")return nl(t)}function zf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ct=typeof Object.is=="function"?Object.is:zf;function La(e,t){if(ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var l=n[a];if(!ql.call(t,l)||!ct(e[l],t[l]))return!1}return!0}function No(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function So(e,t){var n=No(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=No(n)}}function bc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Cc(){for(var e=window,t=Dr();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Dr(e.document)}return t}function mi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $f(e){var t=Cc(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&bc(n.ownerDocument.documentElement,n)){if(a!==null&&mi(n)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,s=Math.min(a.start,l);a=a.end===void 0?s:Math.min(a.end,l),!e.extend&&s>a&&(l=a,a=s,s=l),l=So(n,s);var i=So(n,a);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),s>a?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Bf=Ct&&"documentMode"in document&&11>=document.documentMode,bn=null,fs=null,Na=null,ps=!1;function ko(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ps||bn==null||bn!==Dr(a)||(a=bn,"selectionStart"in a&&mi(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Na&&La(Na,a)||(Na=a,a=Fr(fs,"onSelect"),0<a.length&&(t=new oi("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=bn)))}function rr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cn={animationend:rr("Animation","AnimationEnd"),animationiteration:rr("Animation","AnimationIteration"),animationstart:rr("Animation","AnimationStart"),transitionend:rr("Transition","TransitionEnd")},Tl={},xc={};Ct&&(xc=document.createElement("div").style,"AnimationEvent"in window||(delete Cn.animationend.animation,delete Cn.animationiteration.animation,delete Cn.animationstart.animation),"TransitionEvent"in window||delete Cn.transitionend.transition);function al(e){if(Tl[e])return Tl[e];if(!Cn[e])return e;var t=Cn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in xc)return Tl[e]=t[n];return e}var Tc=al("animationend"),Dc=al("animationiteration"),Pc=al("animationstart"),Ic=al("transitionend"),Lc=new Map,wo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yt(e,t){Lc.set(e,t),gn(t,[e])}for(var Dl=0;Dl<wo.length;Dl++){var Pl=wo[Dl],jf=Pl.toLowerCase(),Vf=Pl[0].toUpperCase()+Pl.slice(1);Yt(jf,"on"+Vf)}Yt(Tc,"onAnimationEnd");Yt(Dc,"onAnimationIteration");Yt(Pc,"onAnimationStart");Yt("dblclick","onDoubleClick");Yt("focusin","onFocus");Yt("focusout","onBlur");Yt(Ic,"onTransitionEnd");$n("onMouseEnter",["mouseout","mouseover"]);$n("onMouseLeave",["mouseout","mouseover"]);$n("onPointerEnter",["pointerout","pointerover"]);$n("onPointerLeave",["pointerout","pointerover"]);gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gn("onBeforeInput",["compositionend","keypress","textInput","paste"]);gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wf=new Set("cancel close invalid load scroll toggle".split(" ").concat(ha));function _o(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,Bd(a,t,void 0,e),e.currentTarget=null}function Rc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],l=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var i=a.length-1;0<=i;i--){var u=a[i],o=u.instance,m=u.currentTarget;if(u=u.listener,o!==s&&l.isPropagationStopped())break e;_o(l,u,m),s=o}else for(i=0;i<a.length;i++){if(u=a[i],o=u.instance,m=u.currentTarget,u=u.listener,o!==s&&l.isPropagationStopped())break e;_o(l,u,m),s=o}}}if(Ir)throw e=us,Ir=!1,us=null,e}function me(e,t){var n=t[Es];n===void 0&&(n=t[Es]=new Set);var a=e+"__bubble";n.has(a)||(Ac(t,e,2,!1),n.add(a))}function Il(e,t,n){var a=0;t&&(a|=4),Ac(n,e,a,t)}var lr="_reactListening"+Math.random().toString(36).slice(2);function Ra(e){if(!e[lr]){e[lr]=!0,Bu.forEach(function(n){n!=="selectionchange"&&(Wf.has(n)||Il(n,!1,e),Il(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[lr]||(t[lr]=!0,Il("selectionchange",!1,t))}}function Ac(e,t,n,a){switch(gc(t)){case 1:var l=af;break;case 4:l=rf;break;default:l=si}n=l.bind(null,t,n,e),l=void 0,!os||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),a?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Ll(e,t,n,a,l){var s=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var i=a.tag;if(i===3||i===4){var u=a.stateNode.containerInfo;if(u===l||u.nodeType===8&&u.parentNode===l)break;if(i===4)for(i=a.return;i!==null;){var o=i.tag;if((o===3||o===4)&&(o=i.stateNode.containerInfo,o===l||o.nodeType===8&&o.parentNode===l))return;i=i.return}for(;u!==null;){if(i=ln(u),i===null)return;if(o=i.tag,o===5||o===6){a=s=i;continue e}u=u.parentNode}}a=a.return}ac(function(){var m=s,p=ni(n),f=[];e:{var y=Lc.get(e);if(y!==void 0){var v=oi,_=e;switch(e){case"keypress":if(Nr(n)===0)break e;case"keydown":case"keyup":v=Nf;break;case"focusin":_="focus",v=bl;break;case"focusout":_="blur",v=bl;break;case"beforeblur":case"afterblur":v=bl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=mo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=of;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=wf;break;case Tc:case Dc:case Pc:v=mf;break;case Ic:v=bf;break;case"scroll":v=lf;break;case"wheel":v=xf;break;case"copy":case"cut":case"paste":v=ff;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=po}var b=(t&4)!==0,k=!b&&e==="scroll",g=b?y!==null?y+"Capture":null:y;b=[];for(var d=m,h;d!==null;){h=d;var N=h.stateNode;if(h.tag===5&&N!==null&&(h=N,g!==null&&(N=xa(d,g),N!=null&&b.push(Aa(d,N,h)))),k)break;d=d.return}0<b.length&&(y=new v(y,_,null,n,p),f.push({event:y,listeners:b}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",y&&n!==ss&&(_=n.relatedTarget||n.fromElement)&&(ln(_)||_[xt]))break e;if((v||y)&&(y=p.window===p?p:(y=p.ownerDocument)?y.defaultView||y.parentWindow:window,v?(_=n.relatedTarget||n.toElement,v=m,_=_?ln(_):null,_!==null&&(k=vn(_),_!==k||_.tag!==5&&_.tag!==6)&&(_=null)):(v=null,_=m),v!==_)){if(b=mo,N="onMouseLeave",g="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(b=po,N="onPointerLeave",g="onPointerEnter",d="pointer"),k=v==null?y:xn(v),h=_==null?y:xn(_),y=new b(N,d+"leave",v,n,p),y.target=k,y.relatedTarget=h,N=null,ln(p)===m&&(b=new b(g,d+"enter",_,n,p),b.target=h,b.relatedTarget=k,N=b),k=N,v&&_)t:{for(b=v,g=_,d=0,h=b;h;h=Sn(h))d++;for(h=0,N=g;N;N=Sn(N))h++;for(;0<d-h;)b=Sn(b),d--;for(;0<h-d;)g=Sn(g),h--;for(;d--;){if(b===g||g!==null&&b===g.alternate)break t;b=Sn(b),g=Sn(g)}b=null}else b=null;v!==null&&bo(f,y,v,b,!1),_!==null&&k!==null&&bo(f,k,_,b,!0)}}e:{if(y=m?xn(m):window,v=y.nodeName&&y.nodeName.toLowerCase(),v==="select"||v==="input"&&y.type==="file")var C=Af;else if(go(y))if(wc)C=Of;else{C=Ff;var E=Mf}else(v=y.nodeName)&&v.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(C=Uf);if(C&&(C=C(e,m))){kc(f,C,n,p);break e}E&&E(e,y,m),e==="focusout"&&(E=y._wrapperState)&&E.controlled&&y.type==="number"&&ts(y,"number",y.value)}switch(E=m?xn(m):window,e){case"focusin":(go(E)||E.contentEditable==="true")&&(bn=E,fs=m,Na=null);break;case"focusout":Na=fs=bn=null;break;case"mousedown":ps=!0;break;case"contextmenu":case"mouseup":case"dragend":ps=!1,ko(f,n,p);break;case"selectionchange":if(Bf)break;case"keydown":case"keyup":ko(f,n,p)}var x;if(ci)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else _n?Nc(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(Ec&&n.locale!=="ko"&&(_n||S!=="onCompositionStart"?S==="onCompositionEnd"&&_n&&(x=vc()):(Ut=p,ii="value"in Ut?Ut.value:Ut.textContent,_n=!0)),E=Fr(m,S),0<E.length&&(S=new fo(S,e,null,n,p),f.push({event:S,listeners:E}),x?S.data=x:(x=Sc(n),x!==null&&(S.data=x)))),(x=Df?Pf(e,n):If(e,n))&&(m=Fr(m,"onBeforeInput"),0<m.length&&(p=new fo("onBeforeInput","beforeinput",null,n,p),f.push({event:p,listeners:m}),p.data=x))}Rc(f,t)})}function Aa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",a=[];e!==null;){var l=e,s=l.stateNode;l.tag===5&&s!==null&&(l=s,s=xa(e,n),s!=null&&a.unshift(Aa(e,s,l)),s=xa(e,t),s!=null&&a.push(Aa(e,s,l))),e=e.return}return a}function Sn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bo(e,t,n,a,l){for(var s=t._reactName,i=[];n!==null&&n!==a;){var u=n,o=u.alternate,m=u.stateNode;if(o!==null&&o===a)break;u.tag===5&&m!==null&&(u=m,l?(o=xa(n,s),o!=null&&i.unshift(Aa(n,o,u))):l||(o=xa(n,s),o!=null&&i.push(Aa(n,o,u)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Hf=/\r\n?/g,Qf=/\u0000|\uFFFD/g;function Co(e){return(typeof e=="string"?e:""+e).replace(Hf,`
`).replace(Qf,"")}function sr(e,t,n){if(t=Co(t),Co(e)!==t&&n)throw Error(O(425))}function Ur(){}var hs=null,ys=null;function gs(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vs=typeof setTimeout=="function"?setTimeout:void 0,Kf=typeof clearTimeout=="function"?clearTimeout:void 0,xo=typeof Promise=="function"?Promise:void 0,qf=typeof queueMicrotask=="function"?queueMicrotask:typeof xo<"u"?function(e){return xo.resolve(null).then(e).catch(Gf)}:vs;function Gf(e){setTimeout(function(){throw e})}function Rl(e,t){var n=t,a=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(a===0){e.removeChild(l),Pa(t);return}a--}else n!=="$"&&n!=="$?"&&n!=="$!"||a++;n=l}while(n);Pa(t)}function Vt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function To(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Gn=Math.random().toString(36).slice(2),ft="__reactFiber$"+Gn,Ma="__reactProps$"+Gn,xt="__reactContainer$"+Gn,Es="__reactEvents$"+Gn,Jf="__reactListeners$"+Gn,Yf="__reactHandles$"+Gn;function ln(e){var t=e[ft];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xt]||n[ft]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=To(e);e!==null;){if(n=e[ft])return n;e=To(e)}return t}e=n,n=e.parentNode}return null}function Ka(e){return e=e[ft]||e[xt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function rl(e){return e[Ma]||null}var Ns=[],Tn=-1;function Xt(e){return{current:e}}function de(e){0>Tn||(e.current=Ns[Tn],Ns[Tn]=null,Tn--)}function ce(e,t){Tn++,Ns[Tn]=e.current,e.current=t}var Jt={},Ae=Xt(Jt),je=Xt(!1),dn=Jt;function Bn(e,t){var n=e.type.contextTypes;if(!n)return Jt;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var l={},s;for(s in n)l[s]=t[s];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ve(e){return e=e.childContextTypes,e!=null}function Or(){de(je),de(Ae)}function Do(e,t,n){if(Ae.current!==Jt)throw Error(O(168));ce(Ae,t),ce(je,n)}function Mc(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return n;a=a.getChildContext();for(var l in a)if(!(l in t))throw Error(O(108,Ad(e)||"Unknown",l));return ye({},n,a)}function zr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Jt,dn=Ae.current,ce(Ae,e),ce(je,je.current),!0}function Po(e,t,n){var a=e.stateNode;if(!a)throw Error(O(169));n?(e=Mc(e,t,dn),a.__reactInternalMemoizedMergedChildContext=e,de(je),de(Ae),ce(Ae,e)):de(je),ce(je,n)}var kt=null,ll=!1,Al=!1;function Fc(e){kt===null?kt=[e]:kt.push(e)}function Xf(e){ll=!0,Fc(e)}function Zt(){if(!Al&&kt!==null){Al=!0;var e=0,t=ue;try{var n=kt;for(ue=1;e<n.length;e++){var a=n[e];do a=a(!0);while(a!==null)}kt=null,ll=!1}catch(l){throw kt!==null&&(kt=kt.slice(e+1)),ic(ai,Zt),l}finally{ue=t,Al=!1}}return null}var Dn=[],Pn=0,$r=null,Br=0,Xe=[],Ze=0,fn=null,wt=1,_t="";function tn(e,t){Dn[Pn++]=Br,Dn[Pn++]=$r,$r=e,Br=t}function Uc(e,t,n){Xe[Ze++]=wt,Xe[Ze++]=_t,Xe[Ze++]=fn,fn=e;var a=wt;e=_t;var l=32-ot(a)-1;a&=~(1<<l),n+=1;var s=32-ot(t)+l;if(30<s){var i=l-l%5;s=(a&(1<<i)-1).toString(32),a>>=i,l-=i,wt=1<<32-ot(t)+l|n<<l|a,_t=s+e}else wt=1<<s|n<<l|a,_t=e}function di(e){e.return!==null&&(tn(e,1),Uc(e,1,0))}function fi(e){for(;e===$r;)$r=Dn[--Pn],Dn[Pn]=null,Br=Dn[--Pn],Dn[Pn]=null;for(;e===fn;)fn=Xe[--Ze],Xe[Ze]=null,_t=Xe[--Ze],Xe[Ze]=null,wt=Xe[--Ze],Xe[Ze]=null}var Ke=null,Qe=null,fe=!1,it=null;function Oc(e,t){var n=et(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Io(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ke=e,Qe=Vt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ke=e,Qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=fn!==null?{id:wt,overflow:_t}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=et(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ke=e,Qe=null,!0):!1;default:return!1}}function Ss(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ks(e){if(fe){var t=Qe;if(t){var n=t;if(!Io(e,t)){if(Ss(e))throw Error(O(418));t=Vt(n.nextSibling);var a=Ke;t&&Io(e,t)?Oc(a,n):(e.flags=e.flags&-4097|2,fe=!1,Ke=e)}}else{if(Ss(e))throw Error(O(418));e.flags=e.flags&-4097|2,fe=!1,Ke=e}}}function Lo(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ke=e}function ir(e){if(e!==Ke)return!1;if(!fe)return Lo(e),fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!gs(e.type,e.memoizedProps)),t&&(t=Qe)){if(Ss(e))throw zc(),Error(O(418));for(;t;)Oc(e,t),t=Vt(t.nextSibling)}if(Lo(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Qe=Vt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Qe=null}}else Qe=Ke?Vt(e.stateNode.nextSibling):null;return!0}function zc(){for(var e=Qe;e;)e=Vt(e.nextSibling)}function jn(){Qe=Ke=null,fe=!1}function pi(e){it===null?it=[e]:it.push(e)}var Zf=Pt.ReactCurrentBatchConfig;function ia(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var a=n.stateNode}if(!a)throw Error(O(147,e));var l=a,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var u=l.refs;i===null?delete u[s]:u[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,e))}return e}function or(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ro(e){var t=e._init;return t(e._payload)}function $c(e){function t(g,d){if(e){var h=g.deletions;h===null?(g.deletions=[d],g.flags|=16):h.push(d)}}function n(g,d){if(!e)return null;for(;d!==null;)t(g,d),d=d.sibling;return null}function a(g,d){for(g=new Map;d!==null;)d.key!==null?g.set(d.key,d):g.set(d.index,d),d=d.sibling;return g}function l(g,d){return g=Kt(g,d),g.index=0,g.sibling=null,g}function s(g,d,h){return g.index=h,e?(h=g.alternate,h!==null?(h=h.index,h<d?(g.flags|=2,d):h):(g.flags|=2,d)):(g.flags|=1048576,d)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function u(g,d,h,N){return d===null||d.tag!==6?(d=Bl(h,g.mode,N),d.return=g,d):(d=l(d,h),d.return=g,d)}function o(g,d,h,N){var C=h.type;return C===wn?p(g,d,h.props.children,N,h.key):d!==null&&(d.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Rt&&Ro(C)===d.type)?(N=l(d,h.props),N.ref=ia(g,d,h),N.return=g,N):(N=xr(h.type,h.key,h.props,null,g.mode,N),N.ref=ia(g,d,h),N.return=g,N)}function m(g,d,h,N){return d===null||d.tag!==4||d.stateNode.containerInfo!==h.containerInfo||d.stateNode.implementation!==h.implementation?(d=jl(h,g.mode,N),d.return=g,d):(d=l(d,h.children||[]),d.return=g,d)}function p(g,d,h,N,C){return d===null||d.tag!==7?(d=cn(h,g.mode,N,C),d.return=g,d):(d=l(d,h),d.return=g,d)}function f(g,d,h){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Bl(""+d,g.mode,h),d.return=g,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Ya:return h=xr(d.type,d.key,d.props,null,g.mode,h),h.ref=ia(g,null,d),h.return=g,h;case kn:return d=jl(d,g.mode,h),d.return=g,d;case Rt:var N=d._init;return f(g,N(d._payload),h)}if(fa(d)||na(d))return d=cn(d,g.mode,h,null),d.return=g,d;or(g,d)}return null}function y(g,d,h,N){var C=d!==null?d.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return C!==null?null:u(g,d,""+h,N);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Ya:return h.key===C?o(g,d,h,N):null;case kn:return h.key===C?m(g,d,h,N):null;case Rt:return C=h._init,y(g,d,C(h._payload),N)}if(fa(h)||na(h))return C!==null?null:p(g,d,h,N,null);or(g,h)}return null}function v(g,d,h,N,C){if(typeof N=="string"&&N!==""||typeof N=="number")return g=g.get(h)||null,u(d,g,""+N,C);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ya:return g=g.get(N.key===null?h:N.key)||null,o(d,g,N,C);case kn:return g=g.get(N.key===null?h:N.key)||null,m(d,g,N,C);case Rt:var E=N._init;return v(g,d,h,E(N._payload),C)}if(fa(N)||na(N))return g=g.get(h)||null,p(d,g,N,C,null);or(d,N)}return null}function _(g,d,h,N){for(var C=null,E=null,x=d,S=d=0,D=null;x!==null&&S<h.length;S++){x.index>S?(D=x,x=null):D=x.sibling;var T=y(g,x,h[S],N);if(T===null){x===null&&(x=D);break}e&&x&&T.alternate===null&&t(g,x),d=s(T,d,S),E===null?C=T:E.sibling=T,E=T,x=D}if(S===h.length)return n(g,x),fe&&tn(g,S),C;if(x===null){for(;S<h.length;S++)x=f(g,h[S],N),x!==null&&(d=s(x,d,S),E===null?C=x:E.sibling=x,E=x);return fe&&tn(g,S),C}for(x=a(g,x);S<h.length;S++)D=v(x,g,S,h[S],N),D!==null&&(e&&D.alternate!==null&&x.delete(D.key===null?S:D.key),d=s(D,d,S),E===null?C=D:E.sibling=D,E=D);return e&&x.forEach(function(I){return t(g,I)}),fe&&tn(g,S),C}function b(g,d,h,N){var C=na(h);if(typeof C!="function")throw Error(O(150));if(h=C.call(h),h==null)throw Error(O(151));for(var E=C=null,x=d,S=d=0,D=null,T=h.next();x!==null&&!T.done;S++,T=h.next()){x.index>S?(D=x,x=null):D=x.sibling;var I=y(g,x,T.value,N);if(I===null){x===null&&(x=D);break}e&&x&&I.alternate===null&&t(g,x),d=s(I,d,S),E===null?C=I:E.sibling=I,E=I,x=D}if(T.done)return n(g,x),fe&&tn(g,S),C;if(x===null){for(;!T.done;S++,T=h.next())T=f(g,T.value,N),T!==null&&(d=s(T,d,S),E===null?C=T:E.sibling=T,E=T);return fe&&tn(g,S),C}for(x=a(g,x);!T.done;S++,T=h.next())T=v(x,g,S,T.value,N),T!==null&&(e&&T.alternate!==null&&x.delete(T.key===null?S:T.key),d=s(T,d,S),E===null?C=T:E.sibling=T,E=T);return e&&x.forEach(function(M){return t(g,M)}),fe&&tn(g,S),C}function k(g,d,h,N){if(typeof h=="object"&&h!==null&&h.type===wn&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Ya:e:{for(var C=h.key,E=d;E!==null;){if(E.key===C){if(C=h.type,C===wn){if(E.tag===7){n(g,E.sibling),d=l(E,h.props.children),d.return=g,g=d;break e}}else if(E.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Rt&&Ro(C)===E.type){n(g,E.sibling),d=l(E,h.props),d.ref=ia(g,E,h),d.return=g,g=d;break e}n(g,E);break}else t(g,E);E=E.sibling}h.type===wn?(d=cn(h.props.children,g.mode,N,h.key),d.return=g,g=d):(N=xr(h.type,h.key,h.props,null,g.mode,N),N.ref=ia(g,d,h),N.return=g,g=N)}return i(g);case kn:e:{for(E=h.key;d!==null;){if(d.key===E)if(d.tag===4&&d.stateNode.containerInfo===h.containerInfo&&d.stateNode.implementation===h.implementation){n(g,d.sibling),d=l(d,h.children||[]),d.return=g,g=d;break e}else{n(g,d);break}else t(g,d);d=d.sibling}d=jl(h,g.mode,N),d.return=g,g=d}return i(g);case Rt:return E=h._init,k(g,d,E(h._payload),N)}if(fa(h))return _(g,d,h,N);if(na(h))return b(g,d,h,N);or(g,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,d!==null&&d.tag===6?(n(g,d.sibling),d=l(d,h),d.return=g,g=d):(n(g,d),d=Bl(h,g.mode,N),d.return=g,g=d),i(g)):n(g,d)}return k}var Vn=$c(!0),Bc=$c(!1),jr=Xt(null),Vr=null,In=null,hi=null;function yi(){hi=In=Vr=null}function gi(e){var t=jr.current;de(jr),e._currentValue=t}function ws(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function On(e,t){Vr=e,hi=In=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Be=!0),e.firstContext=null)}function nt(e){var t=e._currentValue;if(hi!==e)if(e={context:e,memoizedValue:t,next:null},In===null){if(Vr===null)throw Error(O(308));In=e,Vr.dependencies={lanes:0,firstContext:e}}else In=In.next=e;return t}var sn=null;function vi(e){sn===null?sn=[e]:sn.push(e)}function jc(e,t,n,a){var l=t.interleaved;return l===null?(n.next=n,vi(t)):(n.next=l.next,l.next=n),t.interleaved=n,Tt(e,a)}function Tt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var At=!1;function Ei(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wt(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,se&2){var l=a.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),a.pending=t,Tt(e,n)}return l=a.interleaved,l===null?(t.next=t,vi(a)):(t.next=l.next,l.next=t),a.interleaved=t,Tt(e,n)}function Sr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,ri(e,n)}}function Ao(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?l=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?l=s=t:s=s.next=t}else l=s=t;n={baseState:a.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:a.shared,effects:a.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wr(e,t,n,a){var l=e.updateQueue;At=!1;var s=l.firstBaseUpdate,i=l.lastBaseUpdate,u=l.shared.pending;if(u!==null){l.shared.pending=null;var o=u,m=o.next;o.next=null,i===null?s=m:i.next=m,i=o;var p=e.alternate;p!==null&&(p=p.updateQueue,u=p.lastBaseUpdate,u!==i&&(u===null?p.firstBaseUpdate=m:u.next=m,p.lastBaseUpdate=o))}if(s!==null){var f=l.baseState;i=0,p=m=o=null,u=s;do{var y=u.lane,v=u.eventTime;if((a&y)===y){p!==null&&(p=p.next={eventTime:v,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var _=e,b=u;switch(y=t,v=n,b.tag){case 1:if(_=b.payload,typeof _=="function"){f=_.call(v,f,y);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=b.payload,y=typeof _=="function"?_.call(v,f,y):_,y==null)break e;f=ye({},f,y);break e;case 2:At=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,y=l.effects,y===null?l.effects=[u]:y.push(u))}else v={eventTime:v,lane:y,tag:u.tag,payload:u.payload,callback:u.callback,next:null},p===null?(m=p=v,o=f):p=p.next=v,i|=y;if(u=u.next,u===null){if(u=l.shared.pending,u===null)break;y=u,u=y.next,y.next=null,l.lastBaseUpdate=y,l.shared.pending=null}}while(!0);if(p===null&&(o=f),l.baseState=o,l.firstBaseUpdate=m,l.lastBaseUpdate=p,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else s===null&&(l.shared.lanes=0);hn|=i,e.lanes=i,e.memoizedState=f}}function Mo(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],l=a.callback;if(l!==null){if(a.callback=null,a=n,typeof l!="function")throw Error(O(191,l));l.call(a)}}}var qa={},ht=Xt(qa),Fa=Xt(qa),Ua=Xt(qa);function on(e){if(e===qa)throw Error(O(174));return e}function Ni(e,t){switch(ce(Ua,t),ce(Fa,e),ce(ht,qa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:as(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=as(t,e)}de(ht),ce(ht,t)}function Wn(){de(ht),de(Fa),de(Ua)}function Wc(e){on(Ua.current);var t=on(ht.current),n=as(t,e.type);t!==n&&(ce(Fa,e),ce(ht,n))}function Si(e){Fa.current===e&&(de(ht),de(Fa))}var pe=Xt(0);function Hr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ml=[];function ki(){for(var e=0;e<Ml.length;e++)Ml[e]._workInProgressVersionPrimary=null;Ml.length=0}var kr=Pt.ReactCurrentDispatcher,Fl=Pt.ReactCurrentBatchConfig,pn=0,he=null,ke=null,be=null,Qr=!1,Sa=!1,Oa=0,ep=0;function Ie(){throw Error(O(321))}function wi(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ct(e[n],t[n]))return!1;return!0}function _i(e,t,n,a,l,s){if(pn=s,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,kr.current=e===null||e.memoizedState===null?rp:lp,e=n(a,l),Sa){s=0;do{if(Sa=!1,Oa=0,25<=s)throw Error(O(301));s+=1,be=ke=null,t.updateQueue=null,kr.current=sp,e=n(a,l)}while(Sa)}if(kr.current=Kr,t=ke!==null&&ke.next!==null,pn=0,be=ke=he=null,Qr=!1,t)throw Error(O(300));return e}function bi(){var e=Oa!==0;return Oa=0,e}function dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?he.memoizedState=be=e:be=be.next=e,be}function at(){if(ke===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var t=be===null?he.memoizedState:be.next;if(t!==null)be=t,ke=e;else{if(e===null)throw Error(O(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},be===null?he.memoizedState=be=e:be=be.next=e}return be}function za(e,t){return typeof t=="function"?t(e):t}function Ul(e){var t=at(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var a=ke,l=a.baseQueue,s=n.pending;if(s!==null){if(l!==null){var i=l.next;l.next=s.next,s.next=i}a.baseQueue=l=s,n.pending=null}if(l!==null){s=l.next,a=a.baseState;var u=i=null,o=null,m=s;do{var p=m.lane;if((pn&p)===p)o!==null&&(o=o.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),a=m.hasEagerState?m.eagerState:e(a,m.action);else{var f={lane:p,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};o===null?(u=o=f,i=a):o=o.next=f,he.lanes|=p,hn|=p}m=m.next}while(m!==null&&m!==s);o===null?i=a:o.next=u,ct(a,t.memoizedState)||(Be=!0),t.memoizedState=a,t.baseState=i,t.baseQueue=o,n.lastRenderedState=a}if(e=n.interleaved,e!==null){l=e;do s=l.lane,he.lanes|=s,hn|=s,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ol(e){var t=at(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var a=n.dispatch,l=n.pending,s=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do s=e(s,i.action),i=i.next;while(i!==l);ct(s,t.memoizedState)||(Be=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,a]}function Hc(){}function Qc(e,t){var n=he,a=at(),l=t(),s=!ct(a.memoizedState,l);if(s&&(a.memoizedState=l,Be=!0),a=a.queue,Ci(Gc.bind(null,n,a,e),[e]),a.getSnapshot!==t||s||be!==null&&be.memoizedState.tag&1){if(n.flags|=2048,$a(9,qc.bind(null,n,a,l,t),void 0,null),Ce===null)throw Error(O(349));pn&30||Kc(n,t,l)}return l}function Kc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function qc(e,t,n,a){t.value=n,t.getSnapshot=a,Jc(t)&&Yc(e)}function Gc(e,t,n){return n(function(){Jc(t)&&Yc(e)})}function Jc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ct(e,n)}catch{return!0}}function Yc(e){var t=Tt(e,1);t!==null&&ut(t,e,1,-1)}function Fo(e){var t=dt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:e},t.queue=e,e=e.dispatch=ap.bind(null,he,e),[t.memoizedState,e]}function $a(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e)),e}function Xc(){return at().memoizedState}function wr(e,t,n,a){var l=dt();he.flags|=e,l.memoizedState=$a(1|t,n,void 0,a===void 0?null:a)}function sl(e,t,n,a){var l=at();a=a===void 0?null:a;var s=void 0;if(ke!==null){var i=ke.memoizedState;if(s=i.destroy,a!==null&&wi(a,i.deps)){l.memoizedState=$a(t,n,s,a);return}}he.flags|=e,l.memoizedState=$a(1|t,n,s,a)}function Uo(e,t){return wr(8390656,8,e,t)}function Ci(e,t){return sl(2048,8,e,t)}function Zc(e,t){return sl(4,2,e,t)}function em(e,t){return sl(4,4,e,t)}function tm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nm(e,t,n){return n=n!=null?n.concat([e]):null,sl(4,4,tm.bind(null,t,e),n)}function xi(){}function am(e,t){var n=at();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&wi(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function rm(e,t){var n=at();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&wi(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function lm(e,t,n){return pn&21?(ct(n,t)||(n=cc(),he.lanes|=n,hn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Be=!0),e.memoizedState=n)}function tp(e,t){var n=ue;ue=n!==0&&4>n?n:4,e(!0);var a=Fl.transition;Fl.transition={};try{e(!1),t()}finally{ue=n,Fl.transition=a}}function sm(){return at().memoizedState}function np(e,t,n){var a=Qt(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},im(e))om(t,n);else if(n=jc(e,t,n,a),n!==null){var l=Fe();ut(n,e,a,l),um(n,t,a)}}function ap(e,t,n){var a=Qt(e),l={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(im(e))om(t,l);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,u=s(i,n);if(l.hasEagerState=!0,l.eagerState=u,ct(u,i)){var o=t.interleaved;o===null?(l.next=l,vi(t)):(l.next=o.next,o.next=l),t.interleaved=l;return}}catch{}finally{}n=jc(e,t,l,a),n!==null&&(l=Fe(),ut(n,e,a,l),um(n,t,a))}}function im(e){var t=e.alternate;return e===he||t!==null&&t===he}function om(e,t){Sa=Qr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function um(e,t,n){if(n&4194240){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,ri(e,n)}}var Kr={readContext:nt,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},rp={readContext:nt,useCallback:function(e,t){return dt().memoizedState=[e,t===void 0?null:t],e},useContext:nt,useEffect:Uo,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,wr(4194308,4,tm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wr(4194308,4,e,t)},useInsertionEffect:function(e,t){return wr(4,2,e,t)},useMemo:function(e,t){var n=dt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=dt();return t=n!==void 0?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=np.bind(null,he,e),[a.memoizedState,e]},useRef:function(e){var t=dt();return e={current:e},t.memoizedState=e},useState:Fo,useDebugValue:xi,useDeferredValue:function(e){return dt().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=tp.bind(null,e[1]),dt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=he,l=dt();if(fe){if(n===void 0)throw Error(O(407));n=n()}else{if(n=t(),Ce===null)throw Error(O(349));pn&30||Kc(a,t,n)}l.memoizedState=n;var s={value:n,getSnapshot:t};return l.queue=s,Uo(Gc.bind(null,a,s,e),[e]),a.flags|=2048,$a(9,qc.bind(null,a,s,n,t),void 0,null),n},useId:function(){var e=dt(),t=Ce.identifierPrefix;if(fe){var n=_t,a=wt;n=(a&~(1<<32-ot(a)-1)).toString(32)+n,t=":"+t+"R"+n,n=Oa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ep++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lp={readContext:nt,useCallback:am,useContext:nt,useEffect:Ci,useImperativeHandle:nm,useInsertionEffect:Zc,useLayoutEffect:em,useMemo:rm,useReducer:Ul,useRef:Xc,useState:function(){return Ul(za)},useDebugValue:xi,useDeferredValue:function(e){var t=at();return lm(t,ke.memoizedState,e)},useTransition:function(){var e=Ul(za)[0],t=at().memoizedState;return[e,t]},useMutableSource:Hc,useSyncExternalStore:Qc,useId:sm,unstable_isNewReconciler:!1},sp={readContext:nt,useCallback:am,useContext:nt,useEffect:Ci,useImperativeHandle:nm,useInsertionEffect:Zc,useLayoutEffect:em,useMemo:rm,useReducer:Ol,useRef:Xc,useState:function(){return Ol(za)},useDebugValue:xi,useDeferredValue:function(e){var t=at();return ke===null?t.memoizedState=e:lm(t,ke.memoizedState,e)},useTransition:function(){var e=Ol(za)[0],t=at().memoizedState;return[e,t]},useMutableSource:Hc,useSyncExternalStore:Qc,useId:sm,unstable_isNewReconciler:!1};function lt(e,t){if(e&&e.defaultProps){t=ye({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function _s(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:ye({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var il={isMounted:function(e){return(e=e._reactInternals)?vn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Fe(),l=Qt(e),s=bt(a,l);s.payload=t,n!=null&&(s.callback=n),t=Wt(e,s,l),t!==null&&(ut(t,e,l,a),Sr(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Fe(),l=Qt(e),s=bt(a,l);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Wt(e,s,l),t!==null&&(ut(t,e,l,a),Sr(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Fe(),a=Qt(e),l=bt(n,a);l.tag=2,t!=null&&(l.callback=t),t=Wt(e,l,a),t!==null&&(ut(t,e,a,n),Sr(t,e,a))}};function Oo(e,t,n,a,l,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,s,i):t.prototype&&t.prototype.isPureReactComponent?!La(n,a)||!La(l,s):!0}function cm(e,t,n){var a=!1,l=Jt,s=t.contextType;return typeof s=="object"&&s!==null?s=nt(s):(l=Ve(t)?dn:Ae.current,a=t.contextTypes,s=(a=a!=null)?Bn(e,l):Jt),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=il,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=s),t}function zo(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&il.enqueueReplaceState(t,t.state,null)}function bs(e,t,n,a){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Ei(e);var s=t.contextType;typeof s=="object"&&s!==null?l.context=nt(s):(s=Ve(t)?dn:Ae.current,l.context=Bn(e,s)),l.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(_s(e,t,s,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&il.enqueueReplaceState(l,l.state,null),Wr(e,n,l,a),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Hn(e,t){try{var n="",a=t;do n+=Rd(a),a=a.return;while(a);var l=n}catch(s){l=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:l,digest:null}}function zl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Cs(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ip=typeof WeakMap=="function"?WeakMap:Map;function mm(e,t,n){n=bt(-1,n),n.tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){Gr||(Gr=!0,Fs=a),Cs(e,t)},n}function dm(e,t,n){n=bt(-1,n),n.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var l=t.value;n.payload=function(){return a(l)},n.callback=function(){Cs(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Cs(e,t),typeof a!="function"&&(Ht===null?Ht=new Set([this]):Ht.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function $o(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new ip;var l=new Set;a.set(t,l)}else l=a.get(t),l===void 0&&(l=new Set,a.set(t,l));l.has(n)||(l.add(n),e=Sp.bind(null,e,t,n),t.then(e,e))}function Bo(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jo(e,t,n,a,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=bt(-1,1),t.tag=2,Wt(n,t,1))),n.lanes|=1),e)}var op=Pt.ReactCurrentOwner,Be=!1;function Me(e,t,n,a){t.child=e===null?Bc(t,null,n,a):Vn(t,e.child,n,a)}function Vo(e,t,n,a,l){n=n.render;var s=t.ref;return On(t,l),a=_i(e,t,n,a,s,l),n=bi(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Dt(e,t,l)):(fe&&n&&di(t),t.flags|=1,Me(e,t,a,l),t.child)}function Wo(e,t,n,a,l){if(e===null){var s=n.type;return typeof s=="function"&&!Mi(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,fm(e,t,s,a,l)):(e=xr(n.type,null,a,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&l)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:La,n(i,a)&&e.ref===t.ref)return Dt(e,t,l)}return t.flags|=1,e=Kt(s,a),e.ref=t.ref,e.return=t,t.child=e}function fm(e,t,n,a,l){if(e!==null){var s=e.memoizedProps;if(La(s,a)&&e.ref===t.ref)if(Be=!1,t.pendingProps=a=s,(e.lanes&l)!==0)e.flags&131072&&(Be=!0);else return t.lanes=e.lanes,Dt(e,t,l)}return xs(e,t,n,a,l)}function pm(e,t,n){var a=t.pendingProps,l=a.children,s=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(Rn,He),He|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ce(Rn,He),He|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=s!==null?s.baseLanes:n,ce(Rn,He),He|=a}else s!==null?(a=s.baseLanes|n,t.memoizedState=null):a=n,ce(Rn,He),He|=a;return Me(e,t,l,n),t.child}function hm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xs(e,t,n,a,l){var s=Ve(n)?dn:Ae.current;return s=Bn(t,s),On(t,l),n=_i(e,t,n,a,s,l),a=bi(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Dt(e,t,l)):(fe&&a&&di(t),t.flags|=1,Me(e,t,n,l),t.child)}function Ho(e,t,n,a,l){if(Ve(n)){var s=!0;zr(t)}else s=!1;if(On(t,l),t.stateNode===null)_r(e,t),cm(t,n,a),bs(t,n,a,l),a=!0;else if(e===null){var i=t.stateNode,u=t.memoizedProps;i.props=u;var o=i.context,m=n.contextType;typeof m=="object"&&m!==null?m=nt(m):(m=Ve(n)?dn:Ae.current,m=Bn(t,m));var p=n.getDerivedStateFromProps,f=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u!==a||o!==m)&&zo(t,i,a,m),At=!1;var y=t.memoizedState;i.state=y,Wr(t,a,i,l),o=t.memoizedState,u!==a||y!==o||je.current||At?(typeof p=="function"&&(_s(t,n,p,a),o=t.memoizedState),(u=At||Oo(t,n,u,a,y,o,m))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=o),i.props=a,i.state=o,i.context=m,a=u):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,Vc(e,t),u=t.memoizedProps,m=t.type===t.elementType?u:lt(t.type,u),i.props=m,f=t.pendingProps,y=i.context,o=n.contextType,typeof o=="object"&&o!==null?o=nt(o):(o=Ve(n)?dn:Ae.current,o=Bn(t,o));var v=n.getDerivedStateFromProps;(p=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u!==f||y!==o)&&zo(t,i,a,o),At=!1,y=t.memoizedState,i.state=y,Wr(t,a,i,l);var _=t.memoizedState;u!==f||y!==_||je.current||At?(typeof v=="function"&&(_s(t,n,v,a),_=t.memoizedState),(m=At||Oo(t,n,m,a,y,_,o)||!1)?(p||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,_,o),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,_,o)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||u===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=_),i.props=a,i.state=_,i.context=o,a=m):(typeof i.componentDidUpdate!="function"||u===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),a=!1)}return Ts(e,t,n,a,s,l)}function Ts(e,t,n,a,l,s){hm(e,t);var i=(t.flags&128)!==0;if(!a&&!i)return l&&Po(t,n,!1),Dt(e,t,s);a=t.stateNode,op.current=t;var u=i&&typeof n.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&i?(t.child=Vn(t,e.child,null,s),t.child=Vn(t,null,u,s)):Me(e,t,u,s),t.memoizedState=a.state,l&&Po(t,n,!0),t.child}function ym(e){var t=e.stateNode;t.pendingContext?Do(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Do(e,t.context,!1),Ni(e,t.containerInfo)}function Qo(e,t,n,a,l){return jn(),pi(l),t.flags|=256,Me(e,t,n,a),t.child}var Ds={dehydrated:null,treeContext:null,retryLane:0};function Ps(e){return{baseLanes:e,cachePool:null,transitions:null}}function gm(e,t,n){var a=t.pendingProps,l=pe.current,s=!1,i=(t.flags&128)!==0,u;if((u=i)||(u=e!==null&&e.memoizedState===null?!1:(l&2)!==0),u?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),ce(pe,l&1),e===null)return ks(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=a.children,e=a.fallback,s?(a=t.mode,s=t.child,i={mode:"hidden",children:i},!(a&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=cl(i,a,0,null),e=cn(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ps(n),t.memoizedState=Ds,e):Ti(t,i));if(l=e.memoizedState,l!==null&&(u=l.dehydrated,u!==null))return up(e,t,i,a,u,l,n);if(s){s=a.fallback,i=t.mode,l=e.child,u=l.sibling;var o={mode:"hidden",children:a.children};return!(i&1)&&t.child!==l?(a=t.child,a.childLanes=0,a.pendingProps=o,t.deletions=null):(a=Kt(l,o),a.subtreeFlags=l.subtreeFlags&14680064),u!==null?s=Kt(u,s):(s=cn(s,i,n,null),s.flags|=2),s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,i=e.child.memoizedState,i=i===null?Ps(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=Ds,a}return s=e.child,e=s.sibling,a=Kt(s,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=n),a.return=t,a.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Ti(e,t){return t=cl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ur(e,t,n,a){return a!==null&&pi(a),Vn(t,e.child,null,n),e=Ti(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function up(e,t,n,a,l,s,i){if(n)return t.flags&256?(t.flags&=-257,a=zl(Error(O(422))),ur(e,t,i,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=a.fallback,l=t.mode,a=cl({mode:"visible",children:a.children},l,0,null),s=cn(s,l,i,null),s.flags|=2,a.return=t,s.return=t,a.sibling=s,t.child=a,t.mode&1&&Vn(t,e.child,null,i),t.child.memoizedState=Ps(i),t.memoizedState=Ds,s);if(!(t.mode&1))return ur(e,t,i,null);if(l.data==="$!"){if(a=l.nextSibling&&l.nextSibling.dataset,a)var u=a.dgst;return a=u,s=Error(O(419)),a=zl(s,a,void 0),ur(e,t,i,a)}if(u=(i&e.childLanes)!==0,Be||u){if(a=Ce,a!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(a.suspendedLanes|i)?0:l,l!==0&&l!==s.retryLane&&(s.retryLane=l,Tt(e,l),ut(a,e,l,-1))}return Ai(),a=zl(Error(O(421))),ur(e,t,i,a)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=kp.bind(null,e),l._reactRetry=t,null):(e=s.treeContext,Qe=Vt(l.nextSibling),Ke=t,fe=!0,it=null,e!==null&&(Xe[Ze++]=wt,Xe[Ze++]=_t,Xe[Ze++]=fn,wt=e.id,_t=e.overflow,fn=t),t=Ti(t,a.children),t.flags|=4096,t)}function Ko(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),ws(e.return,t,n)}function $l(e,t,n,a,l){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:l}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=n,s.tailMode=l)}function vm(e,t,n){var a=t.pendingProps,l=a.revealOrder,s=a.tail;if(Me(e,t,a.children,n),a=pe.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ko(e,n,t);else if(e.tag===19)Ko(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(ce(pe,a),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Hr(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),$l(t,!1,l,n,s);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Hr(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}$l(t,!0,n,null,s);break;case"together":$l(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _r(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Dt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),hn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,n=Kt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Kt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function cp(e,t,n){switch(t.tag){case 3:ym(t),jn();break;case 5:Wc(t);break;case 1:Ve(t.type)&&zr(t);break;case 4:Ni(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,l=t.memoizedProps.value;ce(jr,a._currentValue),a._currentValue=l;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(ce(pe,pe.current&1),t.flags|=128,null):n&t.child.childLanes?gm(e,t,n):(ce(pe,pe.current&1),e=Dt(e,t,n),e!==null?e.sibling:null);ce(pe,pe.current&1);break;case 19:if(a=(n&t.childLanes)!==0,e.flags&128){if(a)return vm(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ce(pe,pe.current),a)break;return null;case 22:case 23:return t.lanes=0,pm(e,t,n)}return Dt(e,t,n)}var Em,Is,Nm,Sm;Em=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Is=function(){};Nm=function(e,t,n,a){var l=e.memoizedProps;if(l!==a){e=t.stateNode,on(ht.current);var s=null;switch(n){case"input":l=Zl(e,l),a=Zl(e,a),s=[];break;case"select":l=ye({},l,{value:void 0}),a=ye({},a,{value:void 0}),s=[];break;case"textarea":l=ns(e,l),a=ns(e,a),s=[];break;default:typeof l.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Ur)}rs(n,a);var i;n=null;for(m in l)if(!a.hasOwnProperty(m)&&l.hasOwnProperty(m)&&l[m]!=null)if(m==="style"){var u=l[m];for(i in u)u.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(ba.hasOwnProperty(m)?s||(s=[]):(s=s||[]).push(m,null));for(m in a){var o=a[m];if(u=l!=null?l[m]:void 0,a.hasOwnProperty(m)&&o!==u&&(o!=null||u!=null))if(m==="style")if(u){for(i in u)!u.hasOwnProperty(i)||o&&o.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in o)o.hasOwnProperty(i)&&u[i]!==o[i]&&(n||(n={}),n[i]=o[i])}else n||(s||(s=[]),s.push(m,n)),n=o;else m==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,u=u?u.__html:void 0,o!=null&&u!==o&&(s=s||[]).push(m,o)):m==="children"?typeof o!="string"&&typeof o!="number"||(s=s||[]).push(m,""+o):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(ba.hasOwnProperty(m)?(o!=null&&m==="onScroll"&&me("scroll",e),s||u===o||(s=[])):(s=s||[]).push(m,o))}n&&(s=s||[]).push("style",n);var m=s;(t.updateQueue=m)&&(t.flags|=4)}};Sm=function(e,t,n,a){n!==a&&(t.flags|=4)};function oa(e,t){if(!fe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags&14680064,a|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags,a|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function mp(e,t,n){var a=t.pendingProps;switch(fi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return Ve(t.type)&&Or(),Le(t),null;case 3:return a=t.stateNode,Wn(),de(je),de(Ae),ki(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ir(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,it!==null&&(zs(it),it=null))),Is(e,t),Le(t),null;case 5:Si(t);var l=on(Ua.current);if(n=t.type,e!==null&&t.stateNode!=null)Nm(e,t,n,a,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(O(166));return Le(t),null}if(e=on(ht.current),ir(t)){a=t.stateNode,n=t.type;var s=t.memoizedProps;switch(a[ft]=t,a[Ma]=s,e=(t.mode&1)!==0,n){case"dialog":me("cancel",a),me("close",a);break;case"iframe":case"object":case"embed":me("load",a);break;case"video":case"audio":for(l=0;l<ha.length;l++)me(ha[l],a);break;case"source":me("error",a);break;case"img":case"image":case"link":me("error",a),me("load",a);break;case"details":me("toggle",a);break;case"input":to(a,s),me("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!s.multiple},me("invalid",a);break;case"textarea":ao(a,s),me("invalid",a)}rs(n,s),l=null;for(var i in s)if(s.hasOwnProperty(i)){var u=s[i];i==="children"?typeof u=="string"?a.textContent!==u&&(s.suppressHydrationWarning!==!0&&sr(a.textContent,u,e),l=["children",u]):typeof u=="number"&&a.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&sr(a.textContent,u,e),l=["children",""+u]):ba.hasOwnProperty(i)&&u!=null&&i==="onScroll"&&me("scroll",a)}switch(n){case"input":Xa(a),no(a,s,!0);break;case"textarea":Xa(a),ro(a);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(a.onclick=Ur)}a=l,t.updateQueue=a,a!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Gu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=i.createElement(n,{is:a.is}):(e=i.createElement(n),n==="select"&&(i=e,a.multiple?i.multiple=!0:a.size&&(i.size=a.size))):e=i.createElementNS(e,n),e[ft]=t,e[Ma]=a,Em(e,t,!1,!1),t.stateNode=e;e:{switch(i=ls(n,a),n){case"dialog":me("cancel",e),me("close",e),l=a;break;case"iframe":case"object":case"embed":me("load",e),l=a;break;case"video":case"audio":for(l=0;l<ha.length;l++)me(ha[l],e);l=a;break;case"source":me("error",e),l=a;break;case"img":case"image":case"link":me("error",e),me("load",e),l=a;break;case"details":me("toggle",e),l=a;break;case"input":to(e,a),l=Zl(e,a),me("invalid",e);break;case"option":l=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},l=ye({},a,{value:void 0}),me("invalid",e);break;case"textarea":ao(e,a),l=ns(e,a),me("invalid",e);break;default:l=a}rs(n,l),u=l;for(s in u)if(u.hasOwnProperty(s)){var o=u[s];s==="style"?Xu(e,o):s==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&Ju(e,o)):s==="children"?typeof o=="string"?(n!=="textarea"||o!=="")&&Ca(e,o):typeof o=="number"&&Ca(e,""+o):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ba.hasOwnProperty(s)?o!=null&&s==="onScroll"&&me("scroll",e):o!=null&&Xs(e,s,o,i))}switch(n){case"input":Xa(e),no(e,a,!1);break;case"textarea":Xa(e),ro(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Gt(a.value));break;case"select":e.multiple=!!a.multiple,s=a.value,s!=null?An(e,!!a.multiple,s,!1):a.defaultValue!=null&&An(e,!!a.multiple,a.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Ur)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Le(t),null;case 6:if(e&&t.stateNode!=null)Sm(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(O(166));if(n=on(Ua.current),on(ht.current),ir(t)){if(a=t.stateNode,n=t.memoizedProps,a[ft]=t,(s=a.nodeValue!==n)&&(e=Ke,e!==null))switch(e.tag){case 3:sr(a.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&sr(a.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else a=(n.nodeType===9?n:n.ownerDocument).createTextNode(a),a[ft]=t,t.stateNode=a}return Le(t),null;case 13:if(de(pe),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(fe&&Qe!==null&&t.mode&1&&!(t.flags&128))zc(),jn(),t.flags|=98560,s=!1;else if(s=ir(t),a!==null&&a.dehydrated!==null){if(e===null){if(!s)throw Error(O(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(O(317));s[ft]=t}else jn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Le(t),s=!1}else it!==null&&(zs(it),it=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||pe.current&1?_e===0&&(_e=3):Ai())),t.updateQueue!==null&&(t.flags|=4),Le(t),null);case 4:return Wn(),Is(e,t),e===null&&Ra(t.stateNode.containerInfo),Le(t),null;case 10:return gi(t.type._context),Le(t),null;case 17:return Ve(t.type)&&Or(),Le(t),null;case 19:if(de(pe),s=t.memoizedState,s===null)return Le(t),null;if(a=(t.flags&128)!==0,i=s.rendering,i===null)if(a)oa(s,!1);else{if(_e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Hr(e),i!==null){for(t.flags|=128,oa(s,!1),a=i.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;n!==null;)s=n,e=a,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ce(pe,pe.current&1|2),t.child}e=e.sibling}s.tail!==null&&ve()>Qn&&(t.flags|=128,a=!0,oa(s,!1),t.lanes=4194304)}else{if(!a)if(e=Hr(i),e!==null){if(t.flags|=128,a=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),oa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!fe)return Le(t),null}else 2*ve()-s.renderingStartTime>Qn&&n!==1073741824&&(t.flags|=128,a=!0,oa(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ve(),t.sibling=null,n=pe.current,ce(pe,a?n&1|2:n&1),t):(Le(t),null);case 22:case 23:return Ri(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?He&1073741824&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function dp(e,t){switch(fi(t),t.tag){case 1:return Ve(t.type)&&Or(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wn(),de(je),de(Ae),ki(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Si(t),null;case 13:if(de(pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));jn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return de(pe),null;case 4:return Wn(),null;case 10:return gi(t.type._context),null;case 22:case 23:return Ri(),null;case 24:return null;default:return null}}var cr=!1,Re=!1,fp=typeof WeakSet=="function"?WeakSet:Set,V=null;function Ln(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(a){ge(e,t,a)}else n.current=null}function Ls(e,t,n){try{n()}catch(a){ge(e,t,a)}}var qo=!1;function pp(e,t){if(hs=Ar,e=Cc(),mi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var l=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,u=-1,o=-1,m=0,p=0,f=e,y=null;t:for(;;){for(var v;f!==n||l!==0&&f.nodeType!==3||(u=i+l),f!==s||a!==0&&f.nodeType!==3||(o=i+a),f.nodeType===3&&(i+=f.nodeValue.length),(v=f.firstChild)!==null;)y=f,f=v;for(;;){if(f===e)break t;if(y===n&&++m===l&&(u=i),y===s&&++p===a&&(o=i),(v=f.nextSibling)!==null)break;f=y,y=f.parentNode}f=v}n=u===-1||o===-1?null:{start:u,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(ys={focusedElem:e,selectionRange:n},Ar=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var b=_.memoizedProps,k=_.memoizedState,g=t.stateNode,d=g.getSnapshotBeforeUpdate(t.elementType===t.type?b:lt(t.type,b),k);g.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(N){ge(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return _=qo,qo=!1,_}function ka(e,t,n){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var l=a=a.next;do{if((l.tag&e)===e){var s=l.destroy;l.destroy=void 0,s!==void 0&&Ls(t,n,s)}l=l.next}while(l!==a)}}function ol(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function Rs(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function km(e){var t=e.alternate;t!==null&&(e.alternate=null,km(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ft],delete t[Ma],delete t[Es],delete t[Jf],delete t[Yf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wm(e){return e.tag===5||e.tag===3||e.tag===4}function Go(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function As(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ur));else if(a!==4&&(e=e.child,e!==null))for(As(e,t,n),e=e.sibling;e!==null;)As(e,t,n),e=e.sibling}function Ms(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Ms(e,t,n),e=e.sibling;e!==null;)Ms(e,t,n),e=e.sibling}var Te=null,st=!1;function Lt(e,t,n){for(n=n.child;n!==null;)_m(e,t,n),n=n.sibling}function _m(e,t,n){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(el,n)}catch{}switch(n.tag){case 5:Re||Ln(n,t);case 6:var a=Te,l=st;Te=null,Lt(e,t,n),Te=a,st=l,Te!==null&&(st?(e=Te,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Te.removeChild(n.stateNode));break;case 18:Te!==null&&(st?(e=Te,n=n.stateNode,e.nodeType===8?Rl(e.parentNode,n):e.nodeType===1&&Rl(e,n),Pa(e)):Rl(Te,n.stateNode));break;case 4:a=Te,l=st,Te=n.stateNode.containerInfo,st=!0,Lt(e,t,n),Te=a,st=l;break;case 0:case 11:case 14:case 15:if(!Re&&(a=n.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){l=a=a.next;do{var s=l,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&Ls(n,t,i),l=l.next}while(l!==a)}Lt(e,t,n);break;case 1:if(!Re&&(Ln(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(u){ge(n,t,u)}Lt(e,t,n);break;case 21:Lt(e,t,n);break;case 22:n.mode&1?(Re=(a=Re)||n.memoizedState!==null,Lt(e,t,n),Re=a):Lt(e,t,n);break;default:Lt(e,t,n)}}function Jo(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new fp),t.forEach(function(a){var l=wp.bind(null,e,a);n.has(a)||(n.add(a),a.then(l,l))})}}function rt(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];try{var s=e,i=t,u=i;e:for(;u!==null;){switch(u.tag){case 5:Te=u.stateNode,st=!1;break e;case 3:Te=u.stateNode.containerInfo,st=!0;break e;case 4:Te=u.stateNode.containerInfo,st=!0;break e}u=u.return}if(Te===null)throw Error(O(160));_m(s,i,l),Te=null,st=!1;var o=l.alternate;o!==null&&(o.return=null),l.return=null}catch(m){ge(l,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bm(t,e),t=t.sibling}function bm(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rt(t,e),mt(e),a&4){try{ka(3,e,e.return),ol(3,e)}catch(b){ge(e,e.return,b)}try{ka(5,e,e.return)}catch(b){ge(e,e.return,b)}}break;case 1:rt(t,e),mt(e),a&512&&n!==null&&Ln(n,n.return);break;case 5:if(rt(t,e),mt(e),a&512&&n!==null&&Ln(n,n.return),e.flags&32){var l=e.stateNode;try{Ca(l,"")}catch(b){ge(e,e.return,b)}}if(a&4&&(l=e.stateNode,l!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,u=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&Ku(l,s),ls(u,i);var m=ls(u,s);for(i=0;i<o.length;i+=2){var p=o[i],f=o[i+1];p==="style"?Xu(l,f):p==="dangerouslySetInnerHTML"?Ju(l,f):p==="children"?Ca(l,f):Xs(l,p,f,m)}switch(u){case"input":es(l,s);break;case"textarea":qu(l,s);break;case"select":var y=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?An(l,!!s.multiple,v,!1):y!==!!s.multiple&&(s.defaultValue!=null?An(l,!!s.multiple,s.defaultValue,!0):An(l,!!s.multiple,s.multiple?[]:"",!1))}l[Ma]=s}catch(b){ge(e,e.return,b)}}break;case 6:if(rt(t,e),mt(e),a&4){if(e.stateNode===null)throw Error(O(162));l=e.stateNode,s=e.memoizedProps;try{l.nodeValue=s}catch(b){ge(e,e.return,b)}}break;case 3:if(rt(t,e),mt(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Pa(t.containerInfo)}catch(b){ge(e,e.return,b)}break;case 4:rt(t,e),mt(e);break;case 13:rt(t,e),mt(e),l=e.child,l.flags&8192&&(s=l.memoizedState!==null,l.stateNode.isHidden=s,!s||l.alternate!==null&&l.alternate.memoizedState!==null||(Ii=ve())),a&4&&Jo(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Re=(m=Re)||p,rt(t,e),Re=m):rt(t,e),mt(e),a&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!p&&e.mode&1)for(V=e,p=e.child;p!==null;){for(f=V=p;V!==null;){switch(y=V,v=y.child,y.tag){case 0:case 11:case 14:case 15:ka(4,y,y.return);break;case 1:Ln(y,y.return);var _=y.stateNode;if(typeof _.componentWillUnmount=="function"){a=y,n=y.return;try{t=a,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(b){ge(a,n,b)}}break;case 5:Ln(y,y.return);break;case 22:if(y.memoizedState!==null){Xo(f);continue}}v!==null?(v.return=y,V=v):Xo(f)}p=p.sibling}e:for(p=null,f=e;;){if(f.tag===5){if(p===null){p=f;try{l=f.stateNode,m?(s=l.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=f.stateNode,o=f.memoizedProps.style,i=o!=null&&o.hasOwnProperty("display")?o.display:null,u.style.display=Yu("display",i))}catch(b){ge(e,e.return,b)}}}else if(f.tag===6){if(p===null)try{f.stateNode.nodeValue=m?"":f.memoizedProps}catch(b){ge(e,e.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:rt(t,e),mt(e),a&4&&Jo(e);break;case 21:break;default:rt(t,e),mt(e)}}function mt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(wm(n)){var a=n;break e}n=n.return}throw Error(O(160))}switch(a.tag){case 5:var l=a.stateNode;a.flags&32&&(Ca(l,""),a.flags&=-33);var s=Go(e);Ms(e,s,l);break;case 3:case 4:var i=a.stateNode.containerInfo,u=Go(e);As(e,u,i);break;default:throw Error(O(161))}}catch(o){ge(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hp(e,t,n){V=e,Cm(e)}function Cm(e,t,n){for(var a=(e.mode&1)!==0;V!==null;){var l=V,s=l.child;if(l.tag===22&&a){var i=l.memoizedState!==null||cr;if(!i){var u=l.alternate,o=u!==null&&u.memoizedState!==null||Re;u=cr;var m=Re;if(cr=i,(Re=o)&&!m)for(V=l;V!==null;)i=V,o=i.child,i.tag===22&&i.memoizedState!==null?Zo(l):o!==null?(o.return=i,V=o):Zo(l);for(;s!==null;)V=s,Cm(s),s=s.sibling;V=l,cr=u,Re=m}Yo(e)}else l.subtreeFlags&8772&&s!==null?(s.return=l,V=s):Yo(e)}}function Yo(e){for(;V!==null;){var t=V;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Re||ol(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Re)if(n===null)a.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:lt(t.type,n.memoizedProps);a.componentDidUpdate(l,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Mo(t,s,a);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Mo(t,i,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&n.focus();break;case"img":o.src&&(n.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var p=m.memoizedState;if(p!==null){var f=p.dehydrated;f!==null&&Pa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Re||t.flags&512&&Rs(t)}catch(y){ge(t,t.return,y)}}if(t===e){V=null;break}if(n=t.sibling,n!==null){n.return=t.return,V=n;break}V=t.return}}function Xo(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var n=t.sibling;if(n!==null){n.return=t.return,V=n;break}V=t.return}}function Zo(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ol(4,t)}catch(o){ge(t,n,o)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var l=t.return;try{a.componentDidMount()}catch(o){ge(t,l,o)}}var s=t.return;try{Rs(t)}catch(o){ge(t,s,o)}break;case 5:var i=t.return;try{Rs(t)}catch(o){ge(t,i,o)}}}catch(o){ge(t,t.return,o)}if(t===e){V=null;break}var u=t.sibling;if(u!==null){u.return=t.return,V=u;break}V=t.return}}var yp=Math.ceil,qr=Pt.ReactCurrentDispatcher,Di=Pt.ReactCurrentOwner,tt=Pt.ReactCurrentBatchConfig,se=0,Ce=null,Se=null,De=0,He=0,Rn=Xt(0),_e=0,Ba=null,hn=0,ul=0,Pi=0,wa=null,$e=null,Ii=0,Qn=1/0,St=null,Gr=!1,Fs=null,Ht=null,mr=!1,Ot=null,Jr=0,_a=0,Us=null,br=-1,Cr=0;function Fe(){return se&6?ve():br!==-1?br:br=ve()}function Qt(e){return e.mode&1?se&2&&De!==0?De&-De:Zf.transition!==null?(Cr===0&&(Cr=cc()),Cr):(e=ue,e!==0||(e=window.event,e=e===void 0?16:gc(e.type)),e):1}function ut(e,t,n,a){if(50<_a)throw _a=0,Us=null,Error(O(185));Ha(e,n,a),(!(se&2)||e!==Ce)&&(e===Ce&&(!(se&2)&&(ul|=n),_e===4&&Ft(e,De)),We(e,a),n===1&&se===0&&!(t.mode&1)&&(Qn=ve()+500,ll&&Zt()))}function We(e,t){var n=e.callbackNode;Xd(e,t);var a=Rr(e,e===Ce?De:0);if(a===0)n!==null&&io(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(n!=null&&io(n),t===1)e.tag===0?Xf(eu.bind(null,e)):Fc(eu.bind(null,e)),qf(function(){!(se&6)&&Zt()}),n=null;else{switch(mc(a)){case 1:n=ai;break;case 4:n=oc;break;case 16:n=Lr;break;case 536870912:n=uc;break;default:n=Lr}n=Am(n,xm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function xm(e,t){if(br=-1,Cr=0,se&6)throw Error(O(327));var n=e.callbackNode;if(zn()&&e.callbackNode!==n)return null;var a=Rr(e,e===Ce?De:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=Yr(e,a);else{t=a;var l=se;se|=2;var s=Dm();(Ce!==e||De!==t)&&(St=null,Qn=ve()+500,un(e,t));do try{Ep();break}catch(u){Tm(e,u)}while(!0);yi(),qr.current=s,se=l,Se!==null?t=0:(Ce=null,De=0,t=_e)}if(t!==0){if(t===2&&(l=cs(e),l!==0&&(a=l,t=Os(e,l))),t===1)throw n=Ba,un(e,0),Ft(e,a),We(e,ve()),n;if(t===6)Ft(e,a);else{if(l=e.current.alternate,!(a&30)&&!gp(l)&&(t=Yr(e,a),t===2&&(s=cs(e),s!==0&&(a=s,t=Os(e,s))),t===1))throw n=Ba,un(e,0),Ft(e,a),We(e,ve()),n;switch(e.finishedWork=l,e.finishedLanes=a,t){case 0:case 1:throw Error(O(345));case 2:nn(e,$e,St);break;case 3:if(Ft(e,a),(a&130023424)===a&&(t=Ii+500-ve(),10<t)){if(Rr(e,0)!==0)break;if(l=e.suspendedLanes,(l&a)!==a){Fe(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=vs(nn.bind(null,e,$e,St),t);break}nn(e,$e,St);break;case 4:if(Ft(e,a),(a&4194240)===a)break;for(t=e.eventTimes,l=-1;0<a;){var i=31-ot(a);s=1<<i,i=t[i],i>l&&(l=i),a&=~s}if(a=l,a=ve()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*yp(a/1960))-a,10<a){e.timeoutHandle=vs(nn.bind(null,e,$e,St),a);break}nn(e,$e,St);break;case 5:nn(e,$e,St);break;default:throw Error(O(329))}}}return We(e,ve()),e.callbackNode===n?xm.bind(null,e):null}function Os(e,t){var n=wa;return e.current.memoizedState.isDehydrated&&(un(e,t).flags|=256),e=Yr(e,t),e!==2&&(t=$e,$e=n,t!==null&&zs(t)),e}function zs(e){$e===null?$e=e:$e.push.apply($e,e)}function gp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var a=0;a<n.length;a++){var l=n[a],s=l.getSnapshot;l=l.value;try{if(!ct(s(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ft(e,t){for(t&=~Pi,t&=~ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),a=1<<n;e[n]=-1,t&=~a}}function eu(e){if(se&6)throw Error(O(327));zn();var t=Rr(e,0);if(!(t&1))return We(e,ve()),null;var n=Yr(e,t);if(e.tag!==0&&n===2){var a=cs(e);a!==0&&(t=a,n=Os(e,a))}if(n===1)throw n=Ba,un(e,0),Ft(e,t),We(e,ve()),n;if(n===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,nn(e,$e,St),We(e,ve()),null}function Li(e,t){var n=se;se|=1;try{return e(t)}finally{se=n,se===0&&(Qn=ve()+500,ll&&Zt())}}function yn(e){Ot!==null&&Ot.tag===0&&!(se&6)&&zn();var t=se;se|=1;var n=tt.transition,a=ue;try{if(tt.transition=null,ue=1,e)return e()}finally{ue=a,tt.transition=n,se=t,!(se&6)&&Zt()}}function Ri(){He=Rn.current,de(Rn)}function un(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Kf(n)),Se!==null)for(n=Se.return;n!==null;){var a=n;switch(fi(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Or();break;case 3:Wn(),de(je),de(Ae),ki();break;case 5:Si(a);break;case 4:Wn();break;case 13:de(pe);break;case 19:de(pe);break;case 10:gi(a.type._context);break;case 22:case 23:Ri()}n=n.return}if(Ce=e,Se=e=Kt(e.current,null),De=He=t,_e=0,Ba=null,Pi=ul=hn=0,$e=wa=null,sn!==null){for(t=0;t<sn.length;t++)if(n=sn[t],a=n.interleaved,a!==null){n.interleaved=null;var l=a.next,s=n.pending;if(s!==null){var i=s.next;s.next=l,a.next=i}n.pending=a}sn=null}return e}function Tm(e,t){do{var n=Se;try{if(yi(),kr.current=Kr,Qr){for(var a=he.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}Qr=!1}if(pn=0,be=ke=he=null,Sa=!1,Oa=0,Di.current=null,n===null||n.return===null){_e=1,Ba=t,Se=null;break}e:{var s=e,i=n.return,u=n,o=t;if(t=De,u.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var m=o,p=u,f=p.tag;if(!(p.mode&1)&&(f===0||f===11||f===15)){var y=p.alternate;y?(p.updateQueue=y.updateQueue,p.memoizedState=y.memoizedState,p.lanes=y.lanes):(p.updateQueue=null,p.memoizedState=null)}var v=Bo(i);if(v!==null){v.flags&=-257,jo(v,i,u,s,t),v.mode&1&&$o(s,m,t),t=v,o=m;var _=t.updateQueue;if(_===null){var b=new Set;b.add(o),t.updateQueue=b}else _.add(o);break e}else{if(!(t&1)){$o(s,m,t),Ai();break e}o=Error(O(426))}}else if(fe&&u.mode&1){var k=Bo(i);if(k!==null){!(k.flags&65536)&&(k.flags|=256),jo(k,i,u,s,t),pi(Hn(o,u));break e}}s=o=Hn(o,u),_e!==4&&(_e=2),wa===null?wa=[s]:wa.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=mm(s,o,t);Ao(s,g);break e;case 1:u=o;var d=s.type,h=s.stateNode;if(!(s.flags&128)&&(typeof d.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Ht===null||!Ht.has(h)))){s.flags|=65536,t&=-t,s.lanes|=t;var N=dm(s,u,t);Ao(s,N);break e}}s=s.return}while(s!==null)}Im(n)}catch(C){t=C,Se===n&&n!==null&&(Se=n=n.return);continue}break}while(!0)}function Dm(){var e=qr.current;return qr.current=Kr,e===null?Kr:e}function Ai(){(_e===0||_e===3||_e===2)&&(_e=4),Ce===null||!(hn&268435455)&&!(ul&268435455)||Ft(Ce,De)}function Yr(e,t){var n=se;se|=2;var a=Dm();(Ce!==e||De!==t)&&(St=null,un(e,t));do try{vp();break}catch(l){Tm(e,l)}while(!0);if(yi(),se=n,qr.current=a,Se!==null)throw Error(O(261));return Ce=null,De=0,_e}function vp(){for(;Se!==null;)Pm(Se)}function Ep(){for(;Se!==null&&!Vd();)Pm(Se)}function Pm(e){var t=Rm(e.alternate,e,He);e.memoizedProps=e.pendingProps,t===null?Im(e):Se=t,Di.current=null}function Im(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=dp(n,t),n!==null){n.flags&=32767,Se=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_e=6,Se=null;return}}else if(n=mp(n,t,He),n!==null){Se=n;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);_e===0&&(_e=5)}function nn(e,t,n){var a=ue,l=tt.transition;try{tt.transition=null,ue=1,Np(e,t,n,a)}finally{tt.transition=l,ue=a}return null}function Np(e,t,n,a){do zn();while(Ot!==null);if(se&6)throw Error(O(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Zd(e,s),e===Ce&&(Se=Ce=null,De=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||mr||(mr=!0,Am(Lr,function(){return zn(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=tt.transition,tt.transition=null;var i=ue;ue=1;var u=se;se|=4,Di.current=null,pp(e,n),bm(n,e),$f(ys),Ar=!!hs,ys=hs=null,e.current=n,hp(n),Wd(),se=u,ue=i,tt.transition=s}else e.current=n;if(mr&&(mr=!1,Ot=e,Jr=l),s=e.pendingLanes,s===0&&(Ht=null),Kd(n.stateNode),We(e,ve()),t!==null)for(a=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],a(l.value,{componentStack:l.stack,digest:l.digest});if(Gr)throw Gr=!1,e=Fs,Fs=null,e;return Jr&1&&e.tag!==0&&zn(),s=e.pendingLanes,s&1?e===Us?_a++:(_a=0,Us=e):_a=0,Zt(),null}function zn(){if(Ot!==null){var e=mc(Jr),t=tt.transition,n=ue;try{if(tt.transition=null,ue=16>e?16:e,Ot===null)var a=!1;else{if(e=Ot,Ot=null,Jr=0,se&6)throw Error(O(331));var l=se;for(se|=4,V=e.current;V!==null;){var s=V,i=s.child;if(V.flags&16){var u=s.deletions;if(u!==null){for(var o=0;o<u.length;o++){var m=u[o];for(V=m;V!==null;){var p=V;switch(p.tag){case 0:case 11:case 15:ka(8,p,s)}var f=p.child;if(f!==null)f.return=p,V=f;else for(;V!==null;){p=V;var y=p.sibling,v=p.return;if(km(p),p===m){V=null;break}if(y!==null){y.return=v,V=y;break}V=v}}}var _=s.alternate;if(_!==null){var b=_.child;if(b!==null){_.child=null;do{var k=b.sibling;b.sibling=null,b=k}while(b!==null)}}V=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,V=i;else e:for(;V!==null;){if(s=V,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ka(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,V=g;break e}V=s.return}}var d=e.current;for(V=d;V!==null;){i=V;var h=i.child;if(i.subtreeFlags&2064&&h!==null)h.return=i,V=h;else e:for(i=d;V!==null;){if(u=V,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:ol(9,u)}}catch(C){ge(u,u.return,C)}if(u===i){V=null;break e}var N=u.sibling;if(N!==null){N.return=u.return,V=N;break e}V=u.return}}if(se=l,Zt(),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(el,e)}catch{}a=!0}return a}finally{ue=n,tt.transition=t}}return!1}function tu(e,t,n){t=Hn(n,t),t=mm(e,t,1),e=Wt(e,t,1),t=Fe(),e!==null&&(Ha(e,1,t),We(e,t))}function ge(e,t,n){if(e.tag===3)tu(e,e,n);else for(;t!==null;){if(t.tag===3){tu(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ht===null||!Ht.has(a))){e=Hn(n,e),e=dm(t,e,1),t=Wt(t,e,1),e=Fe(),t!==null&&(Ha(t,1,e),We(t,e));break}}t=t.return}}function Sp(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),t=Fe(),e.pingedLanes|=e.suspendedLanes&n,Ce===e&&(De&n)===n&&(_e===4||_e===3&&(De&130023424)===De&&500>ve()-Ii?un(e,0):Pi|=n),We(e,t)}function Lm(e,t){t===0&&(e.mode&1?(t=tr,tr<<=1,!(tr&130023424)&&(tr=4194304)):t=1);var n=Fe();e=Tt(e,t),e!==null&&(Ha(e,t,n),We(e,n))}function kp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Lm(e,n)}function wp(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(O(314))}a!==null&&a.delete(t),Lm(e,n)}var Rm;Rm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||je.current)Be=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Be=!1,cp(e,t,n);Be=!!(e.flags&131072)}else Be=!1,fe&&t.flags&1048576&&Uc(t,Br,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;_r(e,t),e=t.pendingProps;var l=Bn(t,Ae.current);On(t,n),l=_i(null,t,a,e,l,n);var s=bi();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ve(a)?(s=!0,zr(t)):s=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Ei(t),l.updater=il,t.stateNode=l,l._reactInternals=t,bs(t,a,e,n),t=Ts(null,t,a,!0,s,n)):(t.tag=0,fe&&s&&di(t),Me(null,t,l,n),t=t.child),t;case 16:a=t.elementType;e:{switch(_r(e,t),e=t.pendingProps,l=a._init,a=l(a._payload),t.type=a,l=t.tag=bp(a),e=lt(a,e),l){case 0:t=xs(null,t,a,e,n);break e;case 1:t=Ho(null,t,a,e,n);break e;case 11:t=Vo(null,t,a,e,n);break e;case 14:t=Wo(null,t,a,lt(a.type,e),n);break e}throw Error(O(306,a,""))}return t;case 0:return a=t.type,l=t.pendingProps,l=t.elementType===a?l:lt(a,l),xs(e,t,a,l,n);case 1:return a=t.type,l=t.pendingProps,l=t.elementType===a?l:lt(a,l),Ho(e,t,a,l,n);case 3:e:{if(ym(t),e===null)throw Error(O(387));a=t.pendingProps,s=t.memoizedState,l=s.element,Vc(e,t),Wr(t,a,null,n);var i=t.memoizedState;if(a=i.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){l=Hn(Error(O(423)),t),t=Qo(e,t,a,n,l);break e}else if(a!==l){l=Hn(Error(O(424)),t),t=Qo(e,t,a,n,l);break e}else for(Qe=Vt(t.stateNode.containerInfo.firstChild),Ke=t,fe=!0,it=null,n=Bc(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(jn(),a===l){t=Dt(e,t,n);break e}Me(e,t,a,n)}t=t.child}return t;case 5:return Wc(t),e===null&&ks(t),a=t.type,l=t.pendingProps,s=e!==null?e.memoizedProps:null,i=l.children,gs(a,l)?i=null:s!==null&&gs(a,s)&&(t.flags|=32),hm(e,t),Me(e,t,i,n),t.child;case 6:return e===null&&ks(t),null;case 13:return gm(e,t,n);case 4:return Ni(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Vn(t,null,a,n):Me(e,t,a,n),t.child;case 11:return a=t.type,l=t.pendingProps,l=t.elementType===a?l:lt(a,l),Vo(e,t,a,l,n);case 7:return Me(e,t,t.pendingProps,n),t.child;case 8:return Me(e,t,t.pendingProps.children,n),t.child;case 12:return Me(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,l=t.pendingProps,s=t.memoizedProps,i=l.value,ce(jr,a._currentValue),a._currentValue=i,s!==null)if(ct(s.value,i)){if(s.children===l.children&&!je.current){t=Dt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var u=s.dependencies;if(u!==null){i=s.child;for(var o=u.firstContext;o!==null;){if(o.context===a){if(s.tag===1){o=bt(-1,n&-n),o.tag=2;var m=s.updateQueue;if(m!==null){m=m.shared;var p=m.pending;p===null?o.next=o:(o.next=p.next,p.next=o),m.pending=o}}s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),ws(s.return,n,t),u.lanes|=n;break}o=o.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(O(341));i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),ws(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Me(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,a=t.pendingProps.children,On(t,n),l=nt(l),a=a(l),t.flags|=1,Me(e,t,a,n),t.child;case 14:return a=t.type,l=lt(a,t.pendingProps),l=lt(a.type,l),Wo(e,t,a,l,n);case 15:return fm(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,l=t.pendingProps,l=t.elementType===a?l:lt(a,l),_r(e,t),t.tag=1,Ve(a)?(e=!0,zr(t)):e=!1,On(t,n),cm(t,a,l),bs(t,a,l,n),Ts(null,t,a,!0,e,n);case 19:return vm(e,t,n);case 22:return pm(e,t,n)}throw Error(O(156,t.tag))};function Am(e,t){return ic(e,t)}function _p(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function et(e,t,n,a){return new _p(e,t,n,a)}function Mi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bp(e){if(typeof e=="function")return Mi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ei)return 11;if(e===ti)return 14}return 2}function Kt(e,t){var n=e.alternate;return n===null?(n=et(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function xr(e,t,n,a,l,s){var i=2;if(a=e,typeof e=="function")Mi(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case wn:return cn(n.children,l,s,t);case Zs:i=8,l|=8;break;case Gl:return e=et(12,n,t,l|2),e.elementType=Gl,e.lanes=s,e;case Jl:return e=et(13,n,t,l),e.elementType=Jl,e.lanes=s,e;case Yl:return e=et(19,n,t,l),e.elementType=Yl,e.lanes=s,e;case Wu:return cl(n,l,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ju:i=10;break e;case Vu:i=9;break e;case ei:i=11;break e;case ti:i=14;break e;case Rt:i=16,a=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=et(i,n,t,l),t.elementType=e,t.type=a,t.lanes=s,t}function cn(e,t,n,a){return e=et(7,e,a,t),e.lanes=n,e}function cl(e,t,n,a){return e=et(22,e,a,t),e.elementType=Wu,e.lanes=n,e.stateNode={isHidden:!1},e}function Bl(e,t,n){return e=et(6,e,null,t),e.lanes=n,e}function jl(e,t,n){return t=et(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cp(e,t,n,a,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kl(0),this.expirationTimes=kl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kl(0),this.identifierPrefix=a,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Fi(e,t,n,a,l,s,i,u,o){return e=new Cp(e,t,n,u,o),t===1?(t=1,s===!0&&(t|=8)):t=0,s=et(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ei(s),e}function xp(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kn,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}function Mm(e){if(!e)return Jt;e=e._reactInternals;e:{if(vn(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ve(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var n=e.type;if(Ve(n))return Mc(e,n,t)}return t}function Fm(e,t,n,a,l,s,i,u,o){return e=Fi(n,a,!0,e,l,s,i,u,o),e.context=Mm(null),n=e.current,a=Fe(),l=Qt(n),s=bt(a,l),s.callback=t??null,Wt(n,s,l),e.current.lanes=l,Ha(e,l,a),We(e,a),e}function ml(e,t,n,a){var l=t.current,s=Fe(),i=Qt(l);return n=Mm(n),t.context===null?t.context=n:t.pendingContext=n,t=bt(s,i),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=Wt(l,t,i),e!==null&&(ut(e,l,i,s),Sr(e,l,i)),i}function Xr(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function nu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ui(e,t){nu(e,t),(e=e.alternate)&&nu(e,t)}function Tp(){return null}var Um=typeof reportError=="function"?reportError:function(e){console.error(e)};function Oi(e){this._internalRoot=e}dl.prototype.render=Oi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));ml(e,t,null,null)};dl.prototype.unmount=Oi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yn(function(){ml(null,e,null,null)}),t[xt]=null}};function dl(e){this._internalRoot=e}dl.prototype.unstable_scheduleHydration=function(e){if(e){var t=pc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&t!==0&&t<Mt[n].priority;n++);Mt.splice(n,0,e),n===0&&yc(e)}};function zi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function fl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function au(){}function Dp(e,t,n,a,l){if(l){if(typeof a=="function"){var s=a;a=function(){var m=Xr(i);s.call(m)}}var i=Fm(t,a,e,0,null,!1,!1,"",au);return e._reactRootContainer=i,e[xt]=i.current,Ra(e.nodeType===8?e.parentNode:e),yn(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof a=="function"){var u=a;a=function(){var m=Xr(o);u.call(m)}}var o=Fi(e,0,!1,null,null,!1,!1,"",au);return e._reactRootContainer=o,e[xt]=o.current,Ra(e.nodeType===8?e.parentNode:e),yn(function(){ml(t,o,n,a)}),o}function pl(e,t,n,a,l){var s=n._reactRootContainer;if(s){var i=s;if(typeof l=="function"){var u=l;l=function(){var o=Xr(i);u.call(o)}}ml(t,i,e,l)}else i=Dp(n,t,e,l,a);return Xr(i)}dc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=pa(t.pendingLanes);n!==0&&(ri(t,n|1),We(t,ve()),!(se&6)&&(Qn=ve()+500,Zt()))}break;case 13:yn(function(){var a=Tt(e,1);if(a!==null){var l=Fe();ut(a,e,1,l)}}),Ui(e,1)}};li=function(e){if(e.tag===13){var t=Tt(e,134217728);if(t!==null){var n=Fe();ut(t,e,134217728,n)}Ui(e,134217728)}};fc=function(e){if(e.tag===13){var t=Qt(e),n=Tt(e,t);if(n!==null){var a=Fe();ut(n,e,t,a)}Ui(e,t)}};pc=function(){return ue};hc=function(e,t){var n=ue;try{return ue=e,t()}finally{ue=n}};is=function(e,t,n){switch(t){case"input":if(es(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var l=rl(a);if(!l)throw Error(O(90));Qu(a),es(a,l)}}}break;case"textarea":qu(e,n);break;case"select":t=n.value,t!=null&&An(e,!!n.multiple,t,!1)}};tc=Li;nc=yn;var Pp={usingClientEntryPoint:!1,Events:[Ka,xn,rl,Zu,ec,Li]},ua={findFiberByHostInstance:ln,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ip={bundleType:ua.bundleType,version:ua.version,rendererPackageName:ua.rendererPackageName,rendererConfig:ua.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=lc(e),e===null?null:e.stateNode},findFiberByHostInstance:ua.findFiberByHostInstance||Tp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dr.isDisabled&&dr.supportsFiber)try{el=dr.inject(Ip),pt=dr}catch{}}Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pp;Ge.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zi(t))throw Error(O(200));return xp(e,t,null,n)};Ge.createRoot=function(e,t){if(!zi(e))throw Error(O(299));var n=!1,a="",l=Um;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Fi(e,1,!1,null,null,n,!1,a,l),e[xt]=t.current,Ra(e.nodeType===8?e.parentNode:e),new Oi(t)};Ge.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=lc(t),e=e===null?null:e.stateNode,e};Ge.flushSync=function(e){return yn(e)};Ge.hydrate=function(e,t,n){if(!fl(t))throw Error(O(200));return pl(null,e,t,!0,n)};Ge.hydrateRoot=function(e,t,n){if(!zi(e))throw Error(O(405));var a=n!=null&&n.hydratedSources||null,l=!1,s="",i=Um;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Fm(t,null,e,1,n??null,l,!1,s,i),e[xt]=t.current,Ra(e),a)for(e=0;e<a.length;e++)n=a[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new dl(t)};Ge.render=function(e,t,n){if(!fl(t))throw Error(O(200));return pl(null,e,t,!1,n)};Ge.unmountComponentAtNode=function(e){if(!fl(e))throw Error(O(40));return e._reactRootContainer?(yn(function(){pl(null,null,e,!1,function(){e._reactRootContainer=null,e[xt]=null})}),!0):!1};Ge.unstable_batchedUpdates=Li;Ge.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!fl(n))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return pl(e,t,n,!1,a)};Ge.version="18.3.1-next-f1338f8080-20240426";function Om(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Om)}catch(e){console.error(e)}}Om(),Ou.exports=Ge;var Lp=Ou.exports,zm,ru=Lp;zm=ru.createRoot,ru.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ja(){return ja=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ja.apply(this,arguments)}var zt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(zt||(zt={}));const lu="popstate";function Rp(e){e===void 0&&(e={});function t(a,l){let{pathname:s,search:i,hash:u}=a.location;return $s("",{pathname:s,search:i,hash:u},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){return typeof l=="string"?l:Zr(l)}return Mp(t,n,null,e)}function Ee(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $m(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ap(){return Math.random().toString(36).substr(2,8)}function su(e,t){return{usr:e.state,key:e.key,idx:t}}function $s(e,t,n,a){return n===void 0&&(n=null),ja({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Jn(t):t,{state:n,key:t&&t.key||a||Ap()})}function Zr(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Jn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function Mp(e,t,n,a){a===void 0&&(a={});let{window:l=document.defaultView,v5Compat:s=!1}=a,i=l.history,u=zt.Pop,o=null,m=p();m==null&&(m=0,i.replaceState(ja({},i.state,{idx:m}),""));function p(){return(i.state||{idx:null}).idx}function f(){u=zt.Pop;let k=p(),g=k==null?null:k-m;m=k,o&&o({action:u,location:b.location,delta:g})}function y(k,g){u=zt.Push;let d=$s(b.location,k,g);m=p()+1;let h=su(d,m),N=b.createHref(d);try{i.pushState(h,"",N)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;l.location.assign(N)}s&&o&&o({action:u,location:b.location,delta:1})}function v(k,g){u=zt.Replace;let d=$s(b.location,k,g);m=p();let h=su(d,m),N=b.createHref(d);i.replaceState(h,"",N),s&&o&&o({action:u,location:b.location,delta:0})}function _(k){let g=l.location.origin!=="null"?l.location.origin:l.location.href,d=typeof k=="string"?k:Zr(k);return d=d.replace(/ $/,"%20"),Ee(g,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,g)}let b={get action(){return u},get location(){return e(l,i)},listen(k){if(o)throw new Error("A history only accepts one active listener");return l.addEventListener(lu,f),o=k,()=>{l.removeEventListener(lu,f),o=null}},createHref(k){return t(l,k)},createURL:_,encodeLocation(k){let g=_(k);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:y,replace:v,go(k){return i.go(k)}};return b}var iu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(iu||(iu={}));function Fp(e,t,n){return n===void 0&&(n="/"),Up(e,t,n)}function Up(e,t,n,a){let l=typeof t=="string"?Jn(t):t,s=$i(l.pathname||"/",n);if(s==null)return null;let i=Bm(e);Op(i);let u=null;for(let o=0;u==null&&o<i.length;++o){let m=Jp(s);u=Kp(i[o],m)}return u}function Bm(e,t,n,a){t===void 0&&(t=[]),n===void 0&&(n=[]),a===void 0&&(a="");let l=(s,i,u)=>{let o={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};o.relativePath.startsWith("/")&&(Ee(o.relativePath.startsWith(a),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(a.length));let m=qt([a,o.relativePath]),p=n.concat(o);s.children&&s.children.length>0&&(Ee(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),Bm(s.children,t,p,m)),!(s.path==null&&!s.index)&&t.push({path:m,score:Hp(m,s.index),routesMeta:p})};return e.forEach((s,i)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))l(s,i);else for(let o of jm(s.path))l(s,i,o)}),t}function jm(e){let t=e.split("/");if(t.length===0)return[];let[n,...a]=t,l=n.endsWith("?"),s=n.replace(/\?$/,"");if(a.length===0)return l?[s,""]:[s];let i=jm(a.join("/")),u=[];return u.push(...i.map(o=>o===""?s:[s,o].join("/"))),l&&u.push(...i),u.map(o=>e.startsWith("/")&&o===""?"/":o)}function Op(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Qp(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const zp=/^:[\w-]+$/,$p=3,Bp=2,jp=1,Vp=10,Wp=-2,ou=e=>e==="*";function Hp(e,t){let n=e.split("/"),a=n.length;return n.some(ou)&&(a+=Wp),t&&(a+=Bp),n.filter(l=>!ou(l)).reduce((l,s)=>l+(zp.test(s)?$p:s===""?jp:Vp),a)}function Qp(e,t){return e.length===t.length&&e.slice(0,-1).every((a,l)=>a===t[l])?e[e.length-1]-t[t.length-1]:0}function Kp(e,t,n){let{routesMeta:a}=e,l={},s="/",i=[];for(let u=0;u<a.length;++u){let o=a[u],m=u===a.length-1,p=s==="/"?t:t.slice(s.length)||"/",f=qp({path:o.relativePath,caseSensitive:o.caseSensitive,end:m},p),y=o.route;if(!f)return null;Object.assign(l,f.params),i.push({params:l,pathname:qt([s,f.pathname]),pathnameBase:eh(qt([s,f.pathnameBase])),route:y}),f.pathnameBase!=="/"&&(s=qt([s,f.pathnameBase]))}return i}function qp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=Gp(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let s=l[0],i=s.replace(/(.)\/+$/,"$1"),u=l.slice(1);return{params:a.reduce((m,p,f)=>{let{paramName:y,isOptional:v}=p;if(y==="*"){let b=u[f]||"";i=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const _=u[f];return v&&!_?m[y]=void 0:m[y]=(_||"").replace(/%2F/g,"/"),m},{}),pathname:s,pathnameBase:i,pattern:e}}function Gp(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),$m(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,u,o)=>(a.push({paramName:u,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),a]}function Jp(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $m(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function $i(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}function Yp(e,t){t===void 0&&(t="/");let{pathname:n,search:a="",hash:l=""}=typeof e=="string"?Jn(e):e;return{pathname:n?n.startsWith("/")?n:Xp(n,t):t,search:th(a),hash:nh(l)}}function Xp(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Vl(e,t,n,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zp(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Bi(e,t){let n=Zp(e);return t?n.map((a,l)=>l===n.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function ji(e,t,n,a){a===void 0&&(a=!1);let l;typeof e=="string"?l=Jn(e):(l=ja({},e),Ee(!l.pathname||!l.pathname.includes("?"),Vl("?","pathname","search",l)),Ee(!l.pathname||!l.pathname.includes("#"),Vl("#","pathname","hash",l)),Ee(!l.search||!l.search.includes("#"),Vl("#","search","hash",l)));let s=e===""||l.pathname==="",i=s?"/":l.pathname,u;if(i==null)u=n;else{let f=t.length-1;if(!a&&i.startsWith("..")){let y=i.split("/");for(;y[0]==="..";)y.shift(),f-=1;l.pathname=y.join("/")}u=f>=0?t[f]:"/"}let o=Yp(l,u),m=i&&i!=="/"&&i.endsWith("/"),p=(s||i===".")&&n.endsWith("/");return!o.pathname.endsWith("/")&&(m||p)&&(o.pathname+="/"),o}const qt=e=>e.join("/").replace(/\/\/+/g,"/"),eh=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),th=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,nh=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ah(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Vm=["post","put","patch","delete"];new Set(Vm);const rh=["get",...Vm];new Set(rh);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Va(){return Va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Va.apply(this,arguments)}const Vi=c.createContext(null),lh=c.createContext(null),en=c.createContext(null),hl=c.createContext(null),It=c.createContext({outlet:null,matches:[],isDataRoute:!1}),Wm=c.createContext(null);function sh(e,t){let{relative:n}=t===void 0?{}:t;Yn()||Ee(!1);let{basename:a,navigator:l}=c.useContext(en),{hash:s,pathname:i,search:u}=Qm(e,{relative:n}),o=i;return a!=="/"&&(o=i==="/"?a:qt([a,i])),l.createHref({pathname:o,search:u,hash:s})}function Yn(){return c.useContext(hl)!=null}function gt(){return Yn()||Ee(!1),c.useContext(hl).location}function Hm(e){c.useContext(en).static||c.useLayoutEffect(e)}function vt(){let{isDataRoute:e}=c.useContext(It);return e?Nh():ih()}function ih(){Yn()||Ee(!1);let e=c.useContext(Vi),{basename:t,future:n,navigator:a}=c.useContext(en),{matches:l}=c.useContext(It),{pathname:s}=gt(),i=JSON.stringify(Bi(l,n.v7_relativeSplatPath)),u=c.useRef(!1);return Hm(()=>{u.current=!0}),c.useCallback(function(m,p){if(p===void 0&&(p={}),!u.current)return;if(typeof m=="number"){a.go(m);return}let f=ji(m,JSON.parse(i),s,p.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:qt([t,f.pathname])),(p.replace?a.replace:a.push)(f,p.state,p)},[t,a,i,s,e])}function oh(){let{matches:e}=c.useContext(It),t=e[e.length-1];return t?t.params:{}}function Qm(e,t){let{relative:n}=t===void 0?{}:t,{future:a}=c.useContext(en),{matches:l}=c.useContext(It),{pathname:s}=gt(),i=JSON.stringify(Bi(l,a.v7_relativeSplatPath));return c.useMemo(()=>ji(e,JSON.parse(i),s,n==="path"),[e,i,s,n])}function uh(e,t){return ch(e,t)}function ch(e,t,n,a){Yn()||Ee(!1);let{navigator:l}=c.useContext(en),{matches:s}=c.useContext(It),i=s[s.length-1],u=i?i.params:{};i&&i.pathname;let o=i?i.pathnameBase:"/";i&&i.route;let m=gt(),p;if(t){var f;let k=typeof t=="string"?Jn(t):t;o==="/"||(f=k.pathname)!=null&&f.startsWith(o)||Ee(!1),p=k}else p=m;let y=p.pathname||"/",v=y;if(o!=="/"){let k=o.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(k.length).join("/")}let _=Fp(e,{pathname:v}),b=hh(_&&_.map(k=>Object.assign({},k,{params:Object.assign({},u,k.params),pathname:qt([o,l.encodeLocation?l.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?o:qt([o,l.encodeLocation?l.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),s,n,a);return t&&b?c.createElement(hl.Provider,{value:{location:Va({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:zt.Pop}},b):b}function mh(){let e=Eh(),t=ah(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return c.createElement(c.Fragment,null,c.createElement("h2",null,"Unexpected Application Error!"),c.createElement("h3",{style:{fontStyle:"italic"}},t),n?c.createElement("pre",{style:l},n):null,null)}const dh=c.createElement(mh,null);class fh extends c.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?c.createElement(It.Provider,{value:this.props.routeContext},c.createElement(Wm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ph(e){let{routeContext:t,match:n,children:a}=e,l=c.useContext(Vi);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),c.createElement(It.Provider,{value:t},a)}function hh(e,t,n,a){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),a===void 0&&(a=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=a)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,u=(l=n)==null?void 0:l.errors;if(u!=null){let p=i.findIndex(f=>f.route.id&&(u==null?void 0:u[f.route.id])!==void 0);p>=0||Ee(!1),i=i.slice(0,Math.min(i.length,p+1))}let o=!1,m=-1;if(n&&a&&a.v7_partialHydration)for(let p=0;p<i.length;p++){let f=i[p];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(m=p),f.route.id){let{loaderData:y,errors:v}=n,_=f.route.loader&&y[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||_){o=!0,m>=0?i=i.slice(0,m+1):i=[i[0]];break}}}return i.reduceRight((p,f,y)=>{let v,_=!1,b=null,k=null;n&&(v=u&&f.route.id?u[f.route.id]:void 0,b=f.route.errorElement||dh,o&&(m<0&&y===0?(Sh("route-fallback"),_=!0,k=null):m===y&&(_=!0,k=f.route.hydrateFallbackElement||null)));let g=t.concat(i.slice(0,y+1)),d=()=>{let h;return v?h=b:_?h=k:f.route.Component?h=c.createElement(f.route.Component,null):f.route.element?h=f.route.element:h=p,c.createElement(ph,{match:f,routeContext:{outlet:p,matches:g,isDataRoute:n!=null},children:h})};return n&&(f.route.ErrorBoundary||f.route.errorElement||y===0)?c.createElement(fh,{location:n.location,revalidation:n.revalidation,component:b,error:v,children:d(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):d()},null)}var Km=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Km||{}),qm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(qm||{});function yh(e){let t=c.useContext(Vi);return t||Ee(!1),t}function gh(e){let t=c.useContext(lh);return t||Ee(!1),t}function vh(e){let t=c.useContext(It);return t||Ee(!1),t}function Gm(e){let t=vh(),n=t.matches[t.matches.length-1];return n.route.id||Ee(!1),n.route.id}function Eh(){var e;let t=c.useContext(Wm),n=gh(),a=Gm();return t!==void 0?t:(e=n.errors)==null?void 0:e[a]}function Nh(){let{router:e}=yh(Km.UseNavigateStable),t=Gm(qm.UseNavigateStable),n=c.useRef(!1);return Hm(()=>{n.current=!0}),c.useCallback(function(l,s){s===void 0&&(s={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,Va({fromRouteId:t},s)))},[e,t])}const uu={};function Sh(e,t,n){uu[e]||(uu[e]=!0)}const cu={};function kh(e,t){cu[t]||(cu[t]=!0,console.warn(t))}const mu=(e,t,n)=>kh(e," React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function wh(e,t){e!=null&&e.v7_startTransition||mu("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),e!=null&&e.v7_relativeSplatPath||mu("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function mn(e){let{to:t,replace:n,state:a,relative:l}=e;Yn()||Ee(!1);let{future:s,static:i}=c.useContext(en),{matches:u}=c.useContext(It),{pathname:o}=gt(),m=vt(),p=ji(t,Bi(u,s.v7_relativeSplatPath),o,l==="path"),f=JSON.stringify(p);return c.useEffect(()=>m(JSON.parse(f),{replace:n,state:a,relative:l}),[m,f,l,n,a]),null}function ie(e){Ee(!1)}function _h(e){let{basename:t="/",children:n=null,location:a,navigationType:l=zt.Pop,navigator:s,static:i=!1,future:u}=e;Yn()&&Ee(!1);let o=t.replace(/^\/*/,"/"),m=c.useMemo(()=>({basename:o,navigator:s,static:i,future:Va({v7_relativeSplatPath:!1},u)}),[o,u,s,i]);typeof a=="string"&&(a=Jn(a));let{pathname:p="/",search:f="",hash:y="",state:v=null,key:_="default"}=a,b=c.useMemo(()=>{let k=$i(p,o);return k==null?null:{location:{pathname:k,search:f,hash:y,state:v,key:_},navigationType:l}},[o,p,f,y,v,_,l]);return b==null?null:c.createElement(en.Provider,{value:m},c.createElement(hl.Provider,{children:n,value:b}))}function Wi(e){let{children:t,location:n}=e;return uh(Bs(t),n)}new Promise(()=>{});function Bs(e,t){t===void 0&&(t=[]);let n=[];return c.Children.forEach(e,(a,l)=>{if(!c.isValidElement(a))return;let s=[...t,l];if(a.type===c.Fragment){n.push.apply(n,Bs(a.props.children,s));return}a.type!==ie&&Ee(!1),!a.props.index||!a.props.children||Ee(!1);let i={id:a.props.id||s.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(i.children=Bs(a.props.children,s)),n.push(i)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function js(){return js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},js.apply(this,arguments)}function bh(e,t){if(e==null)return{};var n={},a=Object.keys(e),l,s;for(s=0;s<a.length;s++)l=a[s],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function Ch(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function xh(e,t){return e.button===0&&(!t||t==="_self")&&!Ch(e)}function Vs(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let a=e[n];return t.concat(Array.isArray(a)?a.map(l=>[n,l]):[[n,a]])},[]))}function Th(e,t){let n=Vs(e);return t&&t.forEach((a,l)=>{n.has(l)||t.getAll(l).forEach(s=>{n.append(l,s)})}),n}const Dh=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ph="6";try{window.__reactRouterVersion=Ph}catch{}const Ih="startTransition",du=Cd[Ih];function Lh(e){let{basename:t,children:n,future:a,window:l}=e,s=c.useRef();s.current==null&&(s.current=Rp({window:l,v5Compat:!0}));let i=s.current,[u,o]=c.useState({action:i.action,location:i.location}),{v7_startTransition:m}=a||{},p=c.useCallback(f=>{m&&du?du(()=>o(f)):o(f)},[o,m]);return c.useLayoutEffect(()=>i.listen(p),[i,p]),c.useEffect(()=>wh(a),[a]),c.createElement(_h,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:i,future:a})}const Rh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ah=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tr=c.forwardRef(function(t,n){let{onClick:a,relative:l,reloadDocument:s,replace:i,state:u,target:o,to:m,preventScrollReset:p,viewTransition:f}=t,y=bh(t,Dh),{basename:v}=c.useContext(en),_,b=!1;if(typeof m=="string"&&Ah.test(m)&&(_=m,Rh))try{let h=new URL(window.location.href),N=m.startsWith("//")?new URL(h.protocol+m):new URL(m),C=$i(N.pathname,v);N.origin===h.origin&&C!=null?m=C+N.search+N.hash:b=!0}catch{}let k=sh(m,{relative:l}),g=Mh(m,{replace:i,state:u,target:o,preventScrollReset:p,relative:l,viewTransition:f});function d(h){a&&a(h),h.defaultPrevented||g(h)}return c.createElement("a",js({},y,{href:_||k,onClick:b||s?a:d,ref:n,target:o}))});var fu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(fu||(fu={}));var pu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(pu||(pu={}));function Mh(e,t){let{target:n,replace:a,state:l,preventScrollReset:s,relative:i,viewTransition:u}=t===void 0?{}:t,o=vt(),m=gt(),p=Qm(e,{relative:i});return c.useCallback(f=>{if(xh(f,n)){f.preventDefault();let y=a!==void 0?a:Zr(m)===Zr(p);o(e,{replace:y,state:l,preventScrollReset:s,relative:i,viewTransition:u})}},[m,o,p,a,l,n,e,s,i,u])}function Fh(e){let t=c.useRef(Vs(e)),n=c.useRef(!1),a=gt(),l=c.useMemo(()=>Th(a.search,n.current?null:t.current),[a.search]),s=vt(),i=c.useCallback((u,o)=>{const m=Vs(typeof u=="function"?u(l):u);n.current=!0,s("?"+m,o)},[s,l]);return[l,i]}const Hi="tj_token";function Jm(e){localStorage.setItem(Hi,e)}function Qi(){return localStorage.getItem(Hi)}function Uh(){localStorage.removeItem(Hi)}async function Ki(e){const t=await e.text();if(!t)return{};try{return JSON.parse(t)}catch{return{}}}async function Oh(){const e=Qi();if(!e)return null;try{const t=await fetch("http://localhost:5175/me",{headers:{Authorization:"Bearer "+e}});if(!t.ok)return null;const n=await t.json();return(n==null?void 0:n.me)??null}catch{return null}}async function zh(e,t){const a=await fetch("http://localhost:5175"+"/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),l=await Ki(a);if(!a.ok)throw new Error((l==null?void 0:l.error)||"Invalid credentials");return l!=null&&l.token&&Jm(l.token),l}async function $h(e,t){const a=await fetch("http://localhost:5175"+"/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),l=await Ki(a);if(!a.ok)throw new Error((l==null?void 0:l.error)||"Unable to create account");return l!=null&&l.token&&Jm(l.token),l}async function j(e,t={}){const n=Qi(),a="http://localhost:5175",l={"Content-Type":"application/json",...t.headers||{},...n?{Authorization:"Bearer "+n}:{}},s=await fetch(a+e,{...t,headers:l}),i=await Ki(s);if(!s.ok){const u=new Error((i==null?void 0:i.error)||"Request failed");throw u.status=s.status,u.body=i,u}return i}const Ym=c.createContext(void 0);function Bh({children:e}){const t="".trim(),n="dev@timejump.local".trim()||"dev@timejump.local",[a,l]=c.useState(null),[s,i]=c.useState(!0);function u(){l(t?{email:n,role:t,isDevMock:!0}:null),i(!1)}const o=y=>{l(y)};async function m(){if(t){u();return}i(!0);try{const y=await Oh();l(y||null)}finally{i(!1)}}c.useEffect(()=>{if(t){u();return}Qi()?m():i(!1)},[t,n]);function p(){if(t){u();return}Uh(),l(null)}const f=c.useMemo(()=>({user:a,actualUser:a,role:(a==null?void 0:a.role)??null,actualRole:(a==null?void 0:a.role)??null,setUser:o,refresh:m,signOut:p,loading:s}),[a,s]);return r.createElement(Ym.Provider,{value:f},e)}const ze=()=>c.useContext(Ym),Xm=c.createContext();function jh({children:e}){const[t,n]=c.useState([]);function a(o){n(m=>{let p=m;o.kind==="parking"&&(p=m.filter(y=>y.kind!=="parking"));const f=p.findIndex(y=>y.kind===o.kind&&y.id===o.id&&JSON.stringify(y.meta||{})===JSON.stringify(o.meta||{}));if(f>=0){const y=[...p];return y[f]={...y[f],qty:(y[f].qty||1)+(o.qty||1)},y}return[...p,{qty:1,...o}]})}function l(o){n(m=>m.filter((p,f)=>f!==o))}function s(o,m){n(p=>p.map((f,y)=>y===o?{...f,qty:Math.max(1,m)}:f))}function i(){n([])}const u=c.useMemo(()=>t.reduce((o,m)=>o+Number(m.price||0)*Number(m.qty||1),0),[t]);return r.createElement(Xm.Provider,{value:{items:t,add:a,remove:l,updateQty:s,clear:i,total:u}},e)}const Ga=()=>c.useContext(Xm),hu=e=>`$${Number(e||0).toFixed(2)}`;function Vh(e){if(!e)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(e)){const[n,a,l]=e.split("-").map(Number);return new Date(n,a-1,l).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric",year:"numeric"})}const t=new Date(e);return Number.isNaN(t.getTime())?"":t.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric",year:"numeric"})}function Wh({onClose:e}){const{user:t}=ze(),{items:n,add:a,remove:l,updateQty:s,total:i,clear:u}=Ga(),[o,m]=c.useState([]),[p,f]=c.useState(!1),[y,v]=c.useState(""),[_,b]=c.useState(""),[k,g]=c.useState(""),[d,h]=c.useState("info"),[N,C]=c.useState(""),[E,x]=c.useState(!1);c.useEffect(()=>{let I=!1;if(!(o.length||p))return f(!0),v(""),j("/parking/options").then(M=>{if(I)return;const K=Array.isArray(M==null?void 0:M.data)?M.data:[];m(K.map(P=>{const U=P.lotId??P.parking_lot_id??null,G=P.lot??P.lot_name??"";return{id:U!=null?String(U):G,name:G,price:Number(P.price??P.base_price??0)}}))}).catch(M=>{I||(v((M==null?void 0:M.message)||"Unable to load parking lots."),m([]))}).finally(()=>{I||f(!1)}),()=>{I=!0}},[]),c.useEffect(()=>{!_&&o.length&&b(o[0].id)},[o,_]);const S=c.useMemo(()=>n.some(I=>I.kind==="parking"),[n]);function D(){const I=o.find(M=>M.id===_);I&&a({id:`parking-${I.id}`,name:`Parking - ${I.name}`,price:Number(I.price??0),kind:"parking",qty:1,meta:{lot:I.name}})}async function T(){if(!n.length){g("Your cart is empty."),C(""),h("warning");return}if(!t){g("Please sign in to complete your purchase."),C(""),h("warning");return}if(t.role!=="customer"){g("Only customer accounts can complete ticket purchases."),C(""),h("warning");return}const I=i,M=n.reduce((K,P)=>K+Number(P.qty||1),0);x(!0),g(""),C("");try{const K={items:n.map(U=>({id:U.id,name:U.name,kind:U.kind,price:Number(U.price||0),qty:Number(U.qty||1),meta:U.meta||null}))},P=await j("/checkout",{method:"POST",body:JSON.stringify(K)});h("success"),g((P==null?void 0:P.message)||"Order confirmed!"),C(`We processed ${M} item${M===1?"":"s"} for ${hu(I)}. A confirmation is headed to ${t.email||"your email"}.`),u()}catch(K){h("error"),g((K==null?void 0:K.message)||"Unable to complete checkout right now."),C("")}finally{x(!1)}}return d==="success"&&k?r.createElement("div",{className:"ticket-alert",role:"alert"},r.createElement("div",{className:"ticket-alert__card"},r.createElement("strong",null,k),N&&r.createElement("p",null,N),r.createElement("button",{className:"btn primary",onClick:()=>{g(""),C(""),h("info"),e()}},"Close"))):r.createElement("div",{className:"modal-overlay",onClick:e},r.createElement("div",{className:"modal",role:"dialog","aria-modal":"true",onClick:I=>I.stopPropagation()},r.createElement("div",{className:"modal-header"},r.createElement("h3",null,"Shopping Cart"),r.createElement("button",{className:"btn",onClick:e},"Close")),n.length===0?r.createElement("div",{className:"modal-body"},r.createElement("div",{className:"panel",style:{textAlign:"center"}},"Your cart is empty.")):r.createElement(r.Fragment,null,r.createElement("div",{className:"modal-body",style:{display:"flex",flexDirection:"column",gap:12}},n.map((I,M)=>{var G,re;const K=Vh((G=I.meta)==null?void 0:G.visitDate),P=I.kind==="parking"&&((re=I.meta)!=null&&re.lot)?`Lot: ${I.meta.lot}`:"",U=[];return K&&U.push(`Visit date: ${K}`),P&&U.push(P),r.createElement("div",{key:M,className:"card"},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline"}},r.createElement("div",null,r.createElement("div",{style:{fontWeight:600}},I.name),U.map((F,W)=>r.createElement("div",{key:W,className:"cart-item-detail"},F))),r.createElement("div",{style:{fontWeight:700}},"$",Number(I.price||0).toFixed(2))),r.createElement("div",{style:{display:"flex",gap:8,alignItems:"center",marginTop:8}},r.createElement("label",{style:{fontSize:12}},"Qty"),r.createElement("input",{className:"input",type:"number",min:1,value:I.qty,onChange:F=>s(M,Math.max(1,Number(F.target.value)||1)),style:{width:72}}),r.createElement("button",{className:"btn",style:{marginLeft:"auto"},onClick:()=>l(M)},"Remove")))}),!S&&r.createElement("div",{className:"card"},r.createElement("div",{style:{fontWeight:600,marginBottom:8}},"Need parking?"),p&&r.createElement("div",{className:"muted",style:{fontSize:12}},"Loading parking options..."),!p&&y&&r.createElement("div",{className:"alert error",style:{fontSize:12}},y),!p&&!y&&o.length===0&&r.createElement("div",{className:"muted",style:{fontSize:12}},"No parking lots available right now."),!p&&!y&&o.length>0&&r.createElement("div",{style:{display:"flex",gap:8,alignItems:"center"}},r.createElement("select",{className:"input",value:_,onChange:I=>b(I.target.value)},o.map(I=>r.createElement("option",{key:I.id,value:I.id},I.name," - $",I.price.toFixed(2)))),r.createElement("button",{className:"btn primary",onClick:D},"Add Parking")))),r.createElement("div",{className:"modal-footer"},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},r.createElement("div",{className:"muted"},"Total"),r.createElement("div",{style:{fontSize:20,fontWeight:800}},hu(i))),r.createElement("div",{style:{display:"flex",gap:8,marginTop:8}},r.createElement("button",{className:"btn",onClick:u},"Clear"),r.createElement("button",{className:"btn primary",onClick:T,disabled:E},E?"Processing...":"Checkout"))))))}function Zm({toast:e,onDismiss:t}){return e?r.createElement("div",{className:"nav-toast-flyout",role:"status"},r.createElement("div",{className:"nav-toast-flyout__body"},r.createElement("div",{className:"nav-toast-flyout__title"},e.type==="in"?"You're signed in":"You're signed out"),r.createElement("p",null,e.message),r.createElement("button",{className:"btn primary",onClick:t},"Dismiss"))):null}const Ws="tj-auth-toast";function qi(e){typeof window>"u"||!window.sessionStorage||window.sessionStorage.setItem(Ws,e)}function Hh(){if(typeof window>"u"||!window.sessionStorage)return null;const e=window.sessionStorage.getItem(Ws);return e?(window.sessionStorage.removeItem(Ws),e):null}const yu={in:{type:"in",message:"Signed in successfully."},out:{type:"out",message:"Signed out. See you soon!"}};function ed(e){const[t,n]=c.useState(null);return c.useEffect(()=>{const a=Hh();!a||!yu[a]||n(yu[a])},[e]),c.useEffect(()=>{if(!t)return;const a=window.setTimeout(()=>n(null),3500);return()=>window.clearTimeout(a)},[t]),{authToast:t,dismissToast:()=>n(null)}}const Wl=[{key:"tickets",label:"Buy Tickets",path:"/ticket-passes",items:[{label:"Buy Tickets",path:"/ticket-passes"}]},{key:"experiences",label:"Rides & Attractions",path:"/things-to-do/rides-attractions",items:[{label:"Rides & Attractions",path:"/things-to-do/rides-attractions"}]},{key:"marketplace",label:"Marketplace",path:"/things-to-do/dining",items:[{label:"Dining",path:"/things-to-do/dining"},{label:"Shopping",path:"/things-to-do/shopping"}]}];function Qh({themes:e=[]}){const t=gt(),n=vt(),{user:a,signOut:l}=ze(),{items:s}=Ga(),i=(a==null?void 0:a.role)??null,[u,o]=c.useState(null),[m,p]=c.useState(!1),{authToast:f,dismissToast:y}=ed(a),v=c.useRef(null);c.useEffect(()=>{function S(D){v.current&&(v.current.contains(D.target)||o(null))}return document.addEventListener("click",S),()=>document.removeEventListener("click",S)},[]);const _=t.pathname.replace(/\/+$/,"")||"/",b=(_==="/"?"/":_)+(t.search||""),k=(a==null?void 0:a.role)==="customer",g=s.length>99?"99+":String(s.length),d=c.useMemo(()=>a&&["employee","manager","admin","owner"].includes(a.role)?Wl.filter(S=>S.key!=="tickets"):Wl,[a]),h=c.useMemo(()=>{const S=[];return["employee","manager","admin","owner"].includes(i)&&S.push({label:"Reports",path:"/reports"}),["manager","admin","owner"].includes(i)&&S.push({label:"Manager",path:"/manager"}),["admin","owner"].includes(i)&&S.push({label:"Admin",path:"/admin"}),S},[i]);function N(S){o(null),n(S)}function C(S){o(D=>D===S?null:S)}function E(){qi("out"),l(),p(!1),n("/",{replace:!0})}function x(S){return _===S.path||S.key==="experiences"&&(_.startsWith("/theme/")||_==="/things-to-do/rides-attractions")||S.key==="marketplace"&&(_==="/things-to-do/dining"||_==="/things-to-do/shopping")||S.key==="tickets"&&_.startsWith("/ticket-passes")?!0:S.items.some(D=>_===D.path)}return r.createElement(r.Fragment,null,r.createElement("header",{className:"nav-shell",ref:v},r.createElement("div",{className:"nav-bar"},r.createElement("div",{className:"nav-left"},r.createElement(Tr,{className:"nav-brand",to:"/",onClick:()=>o(null)},"Time Jump Theme Park")),r.createElement("div",{className:"nav-right"},r.createElement("nav",{className:"nav-links"},d.map(S=>{let D=S.items;S.key==="experiences"&&(D=[{label:"Rides & Attractions",path:"/things-to-do/rides-attractions"},...e.map(K=>({label:K.name,path:`/theme/${K.slug}`}))]);const T=x(S),I=S.key==="tickets",M=!I&&u===S.key;return r.createElement("div",{key:S.key,className:`nav-item ${T?"nav-item--active":""}`},I?r.createElement(Tr,{className:"nav-link nav-link--static",to:S.path,onClick:()=>o(null)},S.label):r.createElement("button",{className:"nav-link","aria-haspopup":"true","aria-expanded":M,onClick:()=>C(S.key)},S.label),!I&&r.createElement("div",{className:`nav-dropdown ${M?"nav-dropdown--open":""}`},D.map(K=>r.createElement("button",{key:K.path,className:"nav-dropdown__item",onClick:()=>N(K.path)},K.label))))})),h.length>0&&r.createElement("div",{className:"nav-staff"},h.map(S=>r.createElement("button",{key:S.path,className:`nav-link nav-link--staff ${_===S.path?"nav-link--active":""}`,onClick:()=>N(S.path)},S.label))),r.createElement("div",{className:"nav-auth"},k&&r.createElement("button",{className:"nav-cart",onClick:()=>p(!0)},"Cart",r.createElement("span",{className:"nav-cart__badge"},g)),a&&r.createElement(Tr,{className:"nav-account",to:"/account",onClick:()=>{p(!1),o(null)}},"Account"),a?r.createElement("button",{className:"btn primary",onClick:E},"Sign Out"):r.createElement("button",{className:"btn primary",onClick:()=>n(`/login?redirect=${encodeURIComponent(b)}`)},"Sign In"))))),r.createElement(Zm,{toast:f,onDismiss:y}),m&&r.createElement(Wh,{onClose:()=>p(!1)}))}const Kh=[{key:"jurassic",title:"Jurassic Zone",subtitle:"Primeval thrills with towering coasters and aquatic escapes.",href:"/things-to-do/theme/jurassic-zone",gradient:"from-emerald-500 via-lime-400 to-amber-300"},{key:"medieval",title:"Medieval Fantasy",subtitle:"Dragon-fire adventures and enchanted quests for every hero.",href:"/things-to-do/theme/medieval-fantasy-zone",gradient:"from-purple-500 via-indigo-500 to-sky-400"},{key:"wild-west",title:"Wild West",subtitle:"High-noon showdowns, runaway trains, and frontier flair.",href:"/things-to-do/theme/wild-west-zone",gradient:"from-amber-500 via-orange-500 to-rose-400"},{key:"nova-crest",title:"Nova-Crest",subtitle:"Futuristic spectacles, zero-G simulators, and neon nights.",href:"/things-to-do/theme/nova-crest-futuristic-zone",gradient:"from-cyan-500 via-blue-500 to-fuchsia-500"}];function qh(){const e=vt();function t(n){e(n)}return r.createElement("div",{className:"page"},r.createElement("section",{className:"home-hero"},r.createElement("div",{className:"home-hero__inner"},r.createElement("div",{className:"home-hero__badge"},"Time Jump Theme Park"),r.createElement("h1",null,"Skip Through Time, One Thrill at a Time."),r.createElement("p",null,"Journey from prehistoric jungles to neon skylines in a single day. Discover rides for families, adventurers, and thrill seekersplus dining, shows, and unforgettable souvenirs."),r.createElement("div",{className:"home-hero__actions"},r.createElement("button",{className:"btn primary",onClick:()=>t("/ticket-passes")},"Buy Tickets"),r.createElement("button",{className:"btn",onClick:()=>t("/things-to-do/rides-attractions")},"Explore Attractions"),r.createElement("button",{className:"btn",onClick:()=>t("/ticket-passes/annual-passes")},"Annual Passes"))),r.createElement("div",{className:"home-hero__visual"},r.createElement("div",{className:"home-hero__placeholder"},r.createElement("span",null,"Theme artwork coming soon")))),r.createElement("section",{className:"home-themes"},r.createElement("header",{className:"section-header"},r.createElement("h2",null,"Choose Your Era"),r.createElement("p",null,"Four immersive zones, one destination. Pick a realm to start planning your adventure.")),r.createElement("div",{className:"home-theme-grid"},Kh.map(n=>r.createElement("button",{key:n.key,className:`home-theme-card bg-gradient-to-br ${n.gradient}`,onClick:()=>t(`/theme/${n.href.split("/").pop()}`)},r.createElement("div",{className:"home-theme-card__content"},r.createElement("h3",null,n.title),r.createElement("p",null,n.subtitle),r.createElement("span",{className:"home-theme-card__cta"},"View experiences")),r.createElement("div",{className:"home-theme-card__overlay"},"Artwork placeholder"))))),r.createElement("section",{className:"home-gift-shop"},r.createElement("div",{className:"home-gift-shop__content"},r.createElement("h2",null,"Bring the Time Jump Magic Home"),r.createElement("p",null,"From era-inspired apparel to exclusive collectibles, the Time Jump Gift Shop has a treasure for every traveler. Preview limited releases and skip the in-park line by adding favorites to your cart ahead of time."),r.createElement("div",{className:"home-gift-shop__actions"},r.createElement("button",{className:"btn primary",onClick:()=>t("/things-to-do/shopping")},"Shop Souvenirs"),r.createElement("button",{className:"btn",onClick:()=>t("/things-to-do/dining")},"Plan Snacks & Meals"))),r.createElement("div",{className:"home-gift-shop__visual"},r.createElement("div",{className:"home-gift-shop__placeholder"},r.createElement("span",null,"Gift shop gallery coming soon")))))}function Gh(){const{add:e}=Ga(),[t,n]=c.useState([]),[a,l]=c.useState(!0),[s,i]=c.useState(""),[u,o]=c.useState(""),[m,p]=c.useState("all"),[f,y]=c.useState("asc");c.useEffect(()=>{let k=!0;return(async()=>{l(!0),i("");try{const g=await fetch("http://localhost:5175/giftshop/items"),d=await g.json();if(!g.ok)throw new Error((d==null?void 0:d.error)||"Failed to load gift shop items");k&&n(Array.isArray(d)?d:d.items||[])}catch(g){k&&i(g.message||"Failed to load gift shop items")}finally{k&&l(!1)}})(),()=>{k=!1}},[]);const v=c.useMemo(()=>{const k=new Set(t.map(g=>g.theme_name||"Other"));return["all",...Array.from(k).sort((g,d)=>g.localeCompare(d))]},[t]),_=c.useMemo(()=>t.filter(k=>k.name.toLowerCase().includes(u.toLowerCase())).filter(k=>m==="all"||(k.theme_name||"Other")===m),[t,u,m]),b=c.useMemo(()=>[..._].sort((k,g)=>{const d=(k.name||"").localeCompare(g.name||"");return f==="asc"?d:-d}),[_,f]);return r.createElement("div",{className:"page"},r.createElement("div",{className:"page-box page-box--wide dining-page"},r.createElement("section",{className:"dining-hero"},r.createElement("div",{className:"dining-hero__content"},r.createElement("p",{className:"dining-eyebrow"},"Marketplace"),r.createElement("h1",null,"Souvenirs from every timeline."),r.createElement("p",null,"Pair each land with its signature keepsakes and keep your cart synced while you explore."))),r.createElement("div",{className:"dining-tools"},r.createElement("input",{className:"input input--compact",placeholder:"Search souvenirs...",value:u,onChange:k=>o(k.target.value)}),r.createElement("div",{className:"dining-filters"},v.map(k=>r.createElement("button",{key:k,className:`dining-filter ${m===k?"dining-filter--active":""}`,onClick:()=>p(k)},k==="all"?"All Lands":k)))),r.createElement("div",{className:"dining-sort-bar"},r.createElement("span",null,"Sort by name:"),r.createElement("div",{className:"dining-sort-buttons"},r.createElement("button",{type:"button",className:`dining-sort-btn ${f==="asc"?"active":""}`,onClick:()=>y("asc")},"A-Z"),r.createElement("button",{type:"button",className:`dining-sort-btn ${f==="desc"?"active":""}`,onClick:()=>y("desc")},"Z-A"))),a&&r.createElement("div",{className:"text-sm text-gray-600"},"Loading..."),s&&!a&&r.createElement("div",{className:"alert error"},s),!a&&!s&&b.length===0&&r.createElement("div",{className:"text-sm text-gray-600"},"No items match that filter."),!a&&!s&&b.length>0&&r.createElement("div",{className:"items-grid"},b.map(k=>r.createElement("article",{key:k.id,className:"item-card"},k.image_url?r.createElement("div",{className:"item-card__image"},r.createElement("img",{src:k.image_url,alt:k.name,loading:"lazy"})):r.createElement("div",{className:"item-card__image item-card__image--placeholder"},"Gift preview"),r.createElement("div",{className:"item-name"},k.name),r.createElement("div",{className:"item-card__footer"},r.createElement("span",{className:"item-card__price"},"$",Number(k.price||0).toFixed(2)),r.createElement("button",{className:"btn item-card__add",onClick:()=>e({kind:"gift",id:k.id,name:k.name,price:k.price})},"Add to Cart")))))))}function Jh(){const{add:e}=Ga(),[t,n]=c.useState([]),[a,l]=c.useState(!0),[s,i]=c.useState(""),[u,o]=c.useState(""),[m,p]=c.useState("all"),[f,y]=c.useState("asc");c.useEffect(()=>{let k=!0;return(async()=>{l(!0),i("");try{const g=await fetch("http://localhost:5175/food/items"),d=await g.json();if(!g.ok)throw new Error((d==null?void 0:d.error)||"Failed to load food items");k&&n(Array.isArray(d)?d:d.items||[])}catch(g){k&&i(g.message||"Failed to load food items")}finally{k&&l(!1)}})(),()=>{k=!1}},[]);const v=c.useMemo(()=>{const k=new Set(t.map(g=>g.theme_name||"Other"));return["all",...Array.from(k).sort((g,d)=>g.localeCompare(d))]},[t]),_=c.useMemo(()=>t.filter(k=>k.name.toLowerCase().includes(u.toLowerCase())).filter(k=>m==="all"||(k.theme_name||"Other")===m),[t,u,m]),b=c.useMemo(()=>[..._].sort((k,g)=>{const d=(k.name||"").localeCompare(g.name||"");return f==="asc"?d:-d}),[_,f]);return r.createElement("div",{className:"page"},r.createElement("div",{className:"page-box page-box--wide dining-page"},r.createElement("section",{className:"dining-hero"},r.createElement("div",{className:"dining-hero__content"},r.createElement("p",{className:"dining-eyebrow"},"Marketplace"),r.createElement("h1",null,"Dine your way through every era."),r.createElement("p",null,"Filter by land, browse signature bites, and plan your tasting tour before you even scan your ticket."))),r.createElement("div",{className:"dining-tools"},r.createElement("input",{className:"input input--compact",placeholder:"Search menu items...",value:u,onChange:k=>o(k.target.value)}),r.createElement("div",{className:"dining-filters"},v.map(k=>r.createElement("button",{key:k,className:`dining-filter ${m===k?"dining-filter--active":""}`,onClick:()=>p(k)},k==="all"?"All Lands":k)))),r.createElement("div",{className:"dining-sort-bar"},r.createElement("span",null,"Sort by name:"),r.createElement("div",{className:"dining-sort-buttons"},r.createElement("button",{type:"button",className:`dining-sort-btn ${f==="asc"?"active":""}`,onClick:()=>y("asc")},"A-Z"),r.createElement("button",{type:"button",className:`dining-sort-btn ${f==="desc"?"active":""}`,onClick:()=>y("desc")},"Z-A"))),a&&r.createElement("div",{className:"text-sm text-gray-600"},"Loading..."),s&&!a&&r.createElement("div",{className:"alert error"},s),!a&&!s&&b.length===0&&r.createElement("div",{className:"text-sm text-gray-600"},"No menu items match that filter."),!a&&!s&&b.length>0&&r.createElement("div",{className:"items-grid"},b.map(k=>r.createElement("article",{key:k.id,className:"item-card"},k.image_url?r.createElement("div",{className:"item-card__image"},r.createElement("img",{src:k.image_url,alt:k.name,loading:"lazy"})):r.createElement("div",{className:"item-card__image item-card__image--placeholder"},"Menu preview"),r.createElement("div",{className:"item-name"},k.name),r.createElement("div",{className:"item-card__footer"},r.createElement("span",{className:"item-card__price"},"$",Number(k.price||0).toFixed(2)),r.createElement("button",{className:"btn item-card__add",onClick:()=>e({kind:"food",id:k.id,name:k.name,price:k.price})},"Add to Cart")))))))}const Yh={owner:"Owner",admin:"Admin",manager:"Manager",employee:"Employee",customer:"Customer"};function gu(e){return e?Yh[e]||e.charAt(0).toUpperCase()+e.slice(1):"Unknown"}function fr({children:e}){return r.createElement("div",{className:"container",style:{display:"grid",gap:12}},e)}function we({children:e,className:t=""}){return r.createElement("div",{className:`panel ${t}`.trim()},e)}function Xh(e){return(e||[]).map(t=>{if(typeof t=="string"){const a=t.replace(/_/g," ").replace(/\b\w/g,l=>l.toUpperCase());return{key:t,label:a}}const n=t.label?t.label:t.key.replace(/_/g," ").replace(/\b\w/g,a=>a.toUpperCase());return{...t,label:n}})}function Zh({column:e,sortableKeys:t,sortKey:n,sortDir:a,onSort:l,style:s}){const i=t.includes(e.key),u=i&&n===e.key,o=u&&a==="asc"?"desc":"asc",m=i?"sortable-header":void 0;return r.createElement("th",{style:s,className:m},i?r.createElement("button",{type:"button",className:"table-sort-button",onClick:()=>{u?l(e.key,o):l(e.key,"asc")}},r.createElement("span",null,e.label),r.createElement("span",{className:`sort-indicator ${u?a:"none"}`,"aria-hidden":"true"})):e.label)}function yt({title:e,description:t,rows:n,columns:a,loading:l,error:s,emptyMessage:i,searchPlaceholder:u="Search...",sortableKeys:o=[]}){const[m,p]=c.useState(""),[f,y]=c.useState(o[0]??null),[v,_]=c.useState("asc"),b=c.useMemo(()=>Xh(a),[a]),k=c.useMemo(()=>{const h=m.trim().toLowerCase();return h?(n||[]).filter(N=>b.some(C=>{const E=N==null?void 0:N[C.key];return E==null?!1:String(E).toLowerCase().includes(h)})):n||[]},[n,b,m]);c.useEffect(()=>{if(!o.length){f!==null&&y(null);return}o.includes(f)||(y(o[0]??null),_("asc"))},[o,f]);const g=c.useMemo(()=>{if(!f)return k;const h=[...k];return h.sort((N,C)=>{const E=N==null?void 0:N[f],x=C==null?void 0:C[f];if(E==null)return 1;if(x==null)return-1;if(typeof E=="number"&&typeof x=="number")return v==="asc"?E-x:x-E;const S=Number(E),D=Number(x);return!Number.isNaN(S)&&!Number.isNaN(D)?v==="asc"?S-D:D-S:v==="asc"?String(E).localeCompare(String(x)):String(x).localeCompare(String(E))}),h},[k,f,v]),d=(h,N)=>{y(h),_(N)};return r.createElement(we,null,r.createElement("div",{className:"dataset-header"},r.createElement("div",null,r.createElement("h3",null,e),t&&r.createElement("p",null,t))),r.createElement("div",{className:"admin-search-bar",style:{maxWidth:320}},r.createElement("input",{className:"input",type:"search",value:m,onChange:h=>p(h.target.value),placeholder:u,style:{width:"100%"}})),l&&r.createElement("div",{className:"text-sm text-gray-600"},"Loading..."),!l&&s&&r.createElement("div",{className:"alert error"},s),!l&&!s&&(g.length===0?r.createElement("div",{className:"text-sm text-gray-600"},i):r.createElement("div",{style:{overflowX:"auto"}},r.createElement("table",{style:{width:"100%",borderCollapse:"collapse"}},r.createElement("thead",null,r.createElement("tr",null,b.map(h=>r.createElement(Zh,{key:h.key,column:h,sortableKeys:o,sortKey:f,sortDir:v,onSort:d,style:{textAlign:"left",padding:"6px",borderBottom:"1px solid #ececec"}})))),r.createElement("tbody",null,g.map((h,N)=>r.createElement("tr",{key:(h==null?void 0:h.id)??(h==null?void 0:h.slug)??(h==null?void 0:h.lot)??(h==null?void 0:h.lotId)??N},b.map(C=>{const E=h==null?void 0:h[C.key],x=C.render?C.render(E,h):E;return r.createElement("td",{key:C.key,style:{padding:"6px",borderBottom:"1px solid #f5f5f5"}},x||x===0?x:"--")}))))))))}function ey({rows:e,columns:t,emptyMessage:n}){return!e||e.length===0?r.createElement("div",{className:"text-sm text-gray-600"},n):r.createElement("div",{style:{overflowX:"auto"}},r.createElement("table",{style:{width:"100%",borderCollapse:"collapse"}},r.createElement("thead",null,r.createElement("tr",null,t.map(a=>r.createElement("th",{key:a.key,style:{textAlign:"left",padding:"6px",borderBottom:"1px solid #ececec"}},a.label)))),r.createElement("tbody",null,e.map((a,l)=>r.createElement("tr",{key:a.id??a.slug??a.lot??a.lotId??l},t.map(s=>{const i=a[s.key],u=s.render?s.render(i,a):i;return r.createElement("td",{key:s.key,style:{padding:"6px",borderBottom:"1px solid #f5f5f5"}},u||u===0?u:"--")}))))))}function ty(e){return[{key:"catalog",label:"Catalog",items:[{key:"tickets",label:"Ticket Types",to:"/admin/tickets"},{key:"parking",label:"Parking Lots",to:"/admin/parking"},{key:"gift",label:"Gift Shop",to:"/admin/gift"},{key:"food",label:"Dining Menu",to:"/admin/food"},{key:"themes",label:"Themes",to:"/admin/themes"},{key:"attractions",label:"Attractions",to:"/admin/attractions"}]},{key:"operations",label:"Operations",items:[{key:"employees",label:"Employees",to:"/admin/employees"},{key:"maintenance",label:"Maintenance",to:"/admin/maintenance"}]}].map(n=>({...n,items:n.items.filter(a=>!a.roles||a.roles.includes(e))})).filter(n=>n.items.length>0)}function ny({children:e}){const{user:t,actualRole:n,loading:a}=ze(),l=gt(),s=vt();if(a&&!t)return r.createElement(fr,null,r.createElement(we,null,"Loading..."));if(!t)return r.createElement(fr,null,r.createElement(we,null,"Please login."));const i=n??t.role;if(!["admin","owner"].includes(i))return r.createElement(fr,null,r.createElement(we,null,"Admin/Owner only."));const u=t.role,o=u!==i,m=c.useMemo(()=>ty(i),[i]);function p(f){return!!(l.pathname===f||l.pathname.startsWith(`${f}/`))}return r.createElement(fr,null,r.createElement(we,null,r.createElement("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:16}},r.createElement("div",null,r.createElement("div",{style:{fontWeight:700,fontSize:"1.1rem"}},"Admin Console"),r.createElement("div",{className:"muted"},t.email," - ",gu(i)),o&&r.createElement("div",{className:"muted",style:{fontSize:"0.75rem"}},"Viewing as ",gu(u),". Use the header switch to return to your full permissions.")))),o&&u==="customer"&&r.createElement(we,null,r.createElement("div",{className:"text-sm text-gray-700"},'You are currently viewing the site as a customer. Switch back using "View As" in the header to access admin and owner tools.')),r.createElement(we,null,r.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:8}},m.map((f,y)=>r.createElement(r.Fragment,{key:f.key},r.createElement("div",{style:{flexBasis:"100%",fontWeight:600,fontSize:"0.85rem",marginTop:y===0?0:8}},f.label),f.items.map(v=>r.createElement("button",{key:v.key,className:`btn ${p(v.to)?"primary":""}`,onClick:()=>{p(v.to)||s(v.to)},type:"button"},v.label)))))),r.createElement("div",{style:{display:"grid",gap:12}},e))}function ay(){const[e,t]=c.useState([]),[n,a]=c.useState(!0),[l,s]=c.useState(""),[i,u]=c.useState({name:"",price:""}),[o,m]=c.useState(!1),[p,f]=c.useState(""),[y,v]=c.useState(""),[_,b]=c.useState(null),[k,g]=c.useState({name:"",price:""}),[d,h]=c.useState(!1),[N,C]=c.useState(null),[E,x]=c.useState(!1),S=c.useCallback(async()=>{a(!0),s("");try{const P=await j("/ticket-types"),U=((P==null?void 0:P.data)||[]).map(G=>{const re=G.name??G.ticket_type??G.id??"";return{id:re,key:re,name:G.name??G.ticket_type??"Ticket",price:Number(G.price??0)}});t(U)}catch(P){s((P==null?void 0:P.message)||"Unable to load ticket types."),t([])}finally{a(!1)}},[]);c.useEffect(()=>{S()},[S]);async function D(P){if(P.preventDefault(),!o){if(!i.name.trim()){v("Ticket name is required.");return}m(!0),f(""),v("");try{await j("/ticket-types",{method:"POST",body:JSON.stringify({name:i.name.trim(),price:Number(i.price||0)})}),f("Ticket type saved."),u({name:"",price:""}),S()}catch(U){v((U==null?void 0:U.message)||"Request failed.")}finally{m(!1)}}}function T(P){b(P),g({name:P.name||"",price:P.price??""}),h(!1)}async function I(P){if(P.preventDefault(),!(!_||d)){if(!k.name.trim()){v("Ticket name is required.");return}h(!0),v("");try{await j(`/ticket-types/${encodeURIComponent(_.key)}`,{method:"PUT",body:JSON.stringify({name:k.name.trim(),price:Number(k.price||0)})}),b(null),S()}catch(U){v((U==null?void 0:U.message)||"Unable to update ticket type.")}finally{h(!1)}}}function M(P){C(P),x(!1)}async function K(){if(!(!N||E)){x(!0),v("");try{await j(`/ticket-types/${encodeURIComponent(N.key)}`,{method:"DELETE"}),C(null),S()}catch(P){v((P==null?void 0:P.message)||"Unable to delete ticket type.")}finally{x(!1)}}}return r.createElement(r.Fragment,null,r.createElement(we,null,r.createElement("h3",{style:{marginTop:0}},"Add Ticket Type"),r.createElement("p",{className:"muted"},"Create passes that appear in checkout for guests."),r.createElement("form",{className:"admin-form-grid",onSubmit:D},r.createElement("label",{className:"field"},r.createElement("span",null,"Ticket name"),r.createElement("input",{className:"input",value:i.name,onChange:P=>u(U=>({...U,name:P.target.value})),placeholder:"Adult, Child, VIP",disabled:o})),r.createElement("label",{className:"field"},r.createElement("span",null,"Price"),r.createElement("input",{className:"input",type:"number",min:"0",step:"0.01",value:i.price,onChange:P=>u(U=>({...U,price:P.target.value})),disabled:o})),r.createElement("button",{className:"btn primary",type:"submit",disabled:o,style:{justifySelf:"flex-start",width:"auto"}},o?"Saving...":"Add Ticket Type")),r.createElement("div",{style:{marginTop:12}},p&&r.createElement("div",{className:"alert success"},p),y&&r.createElement("div",{className:"alert error"},y))),r.createElement(yt,{title:"Ticket Types",description:"Passes available to customers in checkout.",rows:e,columns:[{key:"name",label:"Ticket"},{key:"price",label:"Price",render:P=>`$${Number(P||0).toFixed(2)}`},{key:"actions",label:"Actions",render:(P,U)=>r.createElement("div",{className:"table-actions"},r.createElement("button",{type:"button",className:"btn btn-text",onClick:()=>T(U)},"Edit"),r.createElement("button",{type:"button",className:"btn btn-text danger",onClick:()=>M(U)},"Delete"))}],loading:n,error:l,emptyMessage:"No tickets yet.",searchPlaceholder:"Search ticket types...",sortableKeys:["name","price"]}),_&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Edit Ticket Type"),r.createElement("form",{className:"admin-form-grid",onSubmit:I},r.createElement("label",{className:"field"},r.createElement("span",null,"Ticket name"),r.createElement("input",{className:"input",value:k.name,onChange:P=>g(U=>({...U,name:P.target.value})),disabled:d})),r.createElement("label",{className:"field"},r.createElement("span",null,"Price"),r.createElement("input",{className:"input",type:"number",min:"0",step:"0.01",value:k.price,onChange:P=>g(U=>({...U,price:P.target.value})),disabled:d})),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>b(null),disabled:d},"Cancel"),r.createElement("button",{type:"submit",className:"btn primary",disabled:d},d?"Saving...":"Save Changes"))))),N&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Delete Ticket Type"),r.createElement("p",null,"Are you sure you want to remove ",r.createElement("strong",null,N.name),"?"),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>C(null),disabled:E},"Cancel"),r.createElement("button",{type:"button",className:"btn danger",onClick:K,disabled:E},E?"Deleting...":"Delete")))))}function ry(){const[e,t]=c.useState([]),[n,a]=c.useState(!0),[l,s]=c.useState(""),[i,u]=c.useState({lot:"",price:""}),[o,m]=c.useState(!1),[p,f]=c.useState(""),[y,v]=c.useState(""),[_,b]=c.useState(null),[k,g]=c.useState({lot:"",price:""}),[d,h]=c.useState(!1),[N,C]=c.useState(null),[E,x]=c.useState(!1),S=c.useCallback(async()=>{a(!0),s("");try{const P=await j("/parking-lots"),U=((P==null?void 0:P.data)||[]).map(G=>({lotId:G.lotId??G.parking_lot_id??null,lot:G.lot??G.lot_name??"",price:Number(G.price??G.base_price??0)}));t(U)}catch(P){s((P==null?void 0:P.message)||"Unable to load parking lots."),t([])}finally{a(!1)}},[]);c.useEffect(()=>{S()},[S]);async function D(P){if(P.preventDefault(),o)return;if(!i.lot.trim()){v("Parking lot name is required.");return}const U=Number(i.price);if(!Number.isFinite(U)||U<0){v("Base price must be a non-negative number.");return}m(!0),f(""),v("");try{await j("/parking-lots",{method:"POST",body:JSON.stringify({lot_name:i.lot.trim(),base_price:U})}),f("Parking lot saved."),u({lot:"",price:""}),S()}catch(G){v((G==null?void 0:G.message)||"Request failed.")}finally{m(!1)}}function T(P){b(P),g({lot:P.lot||"",price:P.price??""}),h(!1)}async function I(P){if(P.preventDefault(),!_||d)return;if(!k.lot.trim()){v("Lot name is required.");return}const U=k.price===""?null:Number(k.price);if(U!==null&&(!Number.isFinite(U)||U<0)){v("Base price must be a non-negative number.");return}h(!0),v("");try{await j(`/parking-lots/${_.lotId}`,{method:"PUT",body:JSON.stringify({lot_name:k.lot.trim(),base_price:U})}),b(null),S()}catch(G){v((G==null?void 0:G.message)||"Unable to update parking lot.")}finally{h(!1)}}function M(P){C(P),x(!1)}async function K(){if(!(!N||E)){x(!0),v("");try{await j(`/parking-lots/${N.lotId}`,{method:"DELETE"}),C(null),S()}catch(P){v((P==null?void 0:P.message)||"Unable to delete parking lot.")}finally{x(!1)}}}return r.createElement(r.Fragment,null,r.createElement(we,null,r.createElement("h3",{style:{marginTop:0}},"Add Parking Lot"),r.createElement("p",{className:"muted"},"Maintain parking options that guests can add to their cart."),r.createElement("form",{className:"admin-form-grid",onSubmit:D},r.createElement("label",{className:"field"},r.createElement("span",null,"Lot name"),r.createElement("input",{className:"input",value:i.lot,onChange:P=>u(U=>({...U,lot:P.target.value})),placeholder:"Lot F",disabled:o})),r.createElement("label",{className:"field"},r.createElement("span",null,"Base price"),r.createElement("input",{className:"input",type:"number",min:"0",step:"0.01",value:i.price,onChange:P=>u(U=>({...U,price:P.target.value})),disabled:o})),r.createElement("button",{className:"btn primary",type:"submit",disabled:o,style:{justifySelf:"flex-start",width:"auto"}},o?"Saving...":"Add Parking Lot")),r.createElement("div",{style:{marginTop:12}},p&&r.createElement("div",{className:"alert success"},p),y&&r.createElement("div",{className:"alert error"},y))),r.createElement(yt,{title:"Parking Lots",description:"Parking inventory and pricing.",rows:e,columns:[{key:"lot",label:"Lot"},{key:"price",label:"Base Price",render:P=>`$${Number(P||0).toFixed(2)}`},{key:"actions",label:"Actions",render:(P,U)=>r.createElement("div",{className:"table-actions"},r.createElement("button",{type:"button",className:"btn btn-text",onClick:()=>T(U)},"Edit"),r.createElement("button",{type:"button",className:"btn btn-text danger",onClick:()=>M(U)},"Delete"))}],loading:n,error:l,emptyMessage:"No parking lots yet.",searchPlaceholder:"Search parking lots...",sortableKeys:["lot","price"]}),_&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Edit Parking Lot"),r.createElement("form",{className:"admin-form-grid",onSubmit:I},r.createElement("label",{className:"field"},r.createElement("span",null,"Lot name"),r.createElement("input",{className:"input",value:k.lot,onChange:P=>g(U=>({...U,lot:P.target.value})),disabled:d})),r.createElement("label",{className:"field"},r.createElement("span",null,"Base price"),r.createElement("input",{className:"input",type:"number",min:"0",step:"0.01",value:k.price,onChange:P=>g(U=>({...U,price:P.target.value})),disabled:d})),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>b(null),disabled:d},"Cancel"),r.createElement("button",{type:"submit",className:"btn primary",disabled:d},d?"Saving...":"Save Changes"))))),N&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Delete Parking Lot"),r.createElement("p",null,"Are you sure you want to remove ",r.createElement("strong",null,N.lot),"?"),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>C(null),disabled:E},"Cancel"),r.createElement("button",{type:"button",className:"btn danger",onClick:K,disabled:E},E?"Deleting...":"Delete")))))}const ly=()=>new Date().toISOString().slice(0,10);function sy(){const[e,t]=c.useState([]),[n,a]=c.useState(!0),[l,s]=c.useState(""),[i,u]=c.useState({name:"",price:"",imageUrl:"",shopId:""}),[o,m]=c.useState(!1),[p,f]=c.useState(""),[y,v]=c.useState(""),[_,b]=c.useState([]),[k,g]=c.useState([]),[d,h]=c.useState({name:"",themeId:""}),[N,C]=c.useState(!1),[E,x]=c.useState(""),[S,D]=c.useState(""),[T,I]=c.useState(null),[M,K]=c.useState({name:"",price:"",imageUrl:"",shopId:""}),[P,U]=c.useState(!1),[G,re]=c.useState(null),[F,W]=c.useState(!1),[B,ne]=c.useState(null),[Y,z]=c.useState({name:"",themeId:"",closeDate:""}),[H,X]=c.useState(!1),[ae,$]=c.useState(null),[J,Q]=c.useState(!1),Z=c.useCallback(async()=>{a(!0),s("");try{const w=await j("/gift-items");t(((w==null?void 0:w.data)||[]).map(R=>({...R,image_url:R.image_url??R.imageUrl??""})))}catch(w){s((w==null?void 0:w.message)||"Unable to load gift items."),t([])}finally{a(!1)}},[]),L=c.useCallback(async()=>{try{const w=await j("/gift-shops");b((w==null?void 0:w.data)||[])}catch{b([])}},[]),te=c.useCallback(async()=>{try{const w=await j("/themes");g(((w==null?void 0:w.data)||[]).map(R=>({id:R.themeID??R.id,name:R.name??R.themeName})))}catch{g([])}},[]);c.useEffect(()=>{Z(),L(),te()},[Z,L,te]);async function oe(w){if(w.preventDefault(),!o){if(!i.name.trim()){v("Item name is required.");return}if(!i.shopId){v("Select a gift shop.");return}m(!0),f(""),v("");try{await j("/gift-items",{method:"POST",body:JSON.stringify({name:i.name.trim(),price:Number(i.price||0),imageUrl:i.imageUrl.trim(),shopId:Number(i.shopId)})}),f("Gift shop item saved."),u({name:"",price:"",imageUrl:"",shopId:""}),Z()}catch(R){v((R==null?void 0:R.message)||"Request failed.")}finally{m(!1)}}}function Ne(w){I(w),K({name:w.name||"",price:w.price??"",imageUrl:w.image_url||"",shopId:w.shop_id||""}),U(!1)}function xe(w){re(w),W(!1)}async function Ye(w){if(w.preventDefault(),!(!T||P)){if(!M.name.trim()){v("Item name is required.");return}if(!M.shopId){v("Select a gift shop.");return}U(!0),v("");try{await j(`/gift-items/${T.item_id}`,{method:"PUT",body:JSON.stringify({name:M.name.trim(),price:Number(M.price||0),imageUrl:M.imageUrl.trim(),shopId:Number(M.shopId)})}),I(null),Z()}catch(R){v((R==null?void 0:R.message)||"Unable to update item.")}finally{U(!1)}}}async function Et(){if(!(!G||F)){W(!0),v("");try{await j(`/gift-items/${G.item_id}`,{method:"DELETE"}),re(null),Z()}catch(w){v((w==null?void 0:w.message)||"Unable to delete item.")}finally{W(!1)}}}async function Xn(w){if(w.preventDefault(),!N){if(!d.name.trim()){D("Shop name is required.");return}if(!d.themeId){D("Theme is required.");return}C(!0),x(""),D("");try{await j("/gift-shops",{method:"POST",body:JSON.stringify({name:d.name.trim(),themeId:Number(d.themeId),openDate:ly()})}),x("Gift shop saved."),h({name:"",themeId:""}),L()}catch(R){D((R==null?void 0:R.message)||"Unable to save gift shop.")}finally{C(!1)}}}function En(w){ne(w),z({name:w.name||"",themeId:w.theme_id||"",closeDate:w.close_date||""}),X(!1)}function Zn(w){$(w),Q(!1)}async function ea(w){if(w.preventDefault(),!(!B||H)){if(!Y.name.trim()){D("Shop name is required.");return}if(!Y.themeId){D("Theme is required.");return}X(!0),D("");try{await j(`/gift-shops/${B.shop_id}`,{method:"PUT",body:JSON.stringify({name:Y.name.trim(),themeId:Number(Y.themeId),closeDate:Y.closeDate||null})}),ne(null),L()}catch(R){D((R==null?void 0:R.message)||"Unable to update gift shop.")}finally{X(!1)}}}async function Nn(){if(!(!ae||J)){Q(!0),D("");try{await j(`/gift-shops/${ae.shop_id}`,{method:"DELETE"}),$(null),L()}catch(w){D((w==null?void 0:w.message)||"Unable to delete gift shop.")}finally{Q(!1)}}}return r.createElement(r.Fragment,null,r.createElement(we,null,r.createElement("h3",{style:{marginTop:0}},"Add Gift Shop Item"),r.createElement("p",{className:"muted"},"Highlight souvenirs that appear on the shopping page."),r.createElement("form",{className:"admin-form-grid",onSubmit:oe},r.createElement("label",{className:"field"},r.createElement("span",null,"Item name"),r.createElement("input",{className:"input",value:i.name,onChange:w=>u(R=>({...R,name:w.target.value})),placeholder:"Time Beacon Snow Globe",disabled:o})),r.createElement("label",{className:"field"},r.createElement("span",null,"Price"),r.createElement("input",{className:"input",type:"number",min:"0",step:"0.01",value:i.price,onChange:w=>u(R=>({...R,price:w.target.value})),disabled:o})),r.createElement("label",{className:"field"},r.createElement("span",null,"Gift shop"),r.createElement("select",{className:"input",value:i.shopId,onChange:w=>u(R=>({...R,shopId:w.target.value})),disabled:o},r.createElement("option",{value:""},"Select shop..."),_.map(w=>r.createElement("option",{key:w.shop_id,value:w.shop_id},w.name)))),r.createElement("label",{className:"field"},r.createElement("span",null,"Image URL"),r.createElement("input",{className:"input",value:i.imageUrl,onChange:w=>u(R=>({...R,imageUrl:w.target.value})),placeholder:"https://example.com/gift.png",disabled:o})),r.createElement("button",{className:"btn primary",type:"submit",disabled:o,style:{justifySelf:"flex-start",width:"auto"}},o?"Saving...":"Add Gift Item")),r.createElement("div",{style:{marginTop:12}},p&&r.createElement("div",{className:"alert success"},p),y&&r.createElement("div",{className:"alert error"},y))),r.createElement(we,null,r.createElement("h3",{style:{marginTop:0}},"Add Gift Shop"),r.createElement("p",{className:"muted"},"Create shops and link them to lands."),r.createElement("form",{className:"admin-form-grid",onSubmit:Xn},r.createElement("label",{className:"field"},r.createElement("span",null,"Shop name"),r.createElement("input",{className:"input",value:d.name,onChange:w=>h(R=>({...R,name:w.target.value})),placeholder:"Chrono Curios",disabled:N})),r.createElement("label",{className:"field"},r.createElement("span",null,"Theme"),r.createElement("select",{className:"input",value:d.themeId,onChange:w=>h(R=>({...R,themeId:w.target.value})),disabled:N},r.createElement("option",{value:""},"Select theme..."),k.map(w=>r.createElement("option",{key:w.id,value:w.id},w.name)))),r.createElement("button",{className:"btn",type:"submit",disabled:N,style:{justifySelf:"flex-start",width:"auto"}},N?"Saving...":"Add Gift Shop")),r.createElement("div",{style:{marginTop:12}},E&&r.createElement("div",{className:"alert success"},E),S&&r.createElement("div",{className:"alert error"},S))),r.createElement(yt,{title:"Gift Shop Items",description:"Souvenir lineup available to guests.",rows:e,columns:[{key:"name",label:"Item"},{key:"shop_name",label:"Shop"},{key:"theme_name",label:"Theme"},{key:"price",label:"Price",render:w=>`$${Number(w||0).toFixed(2)}`},{key:"actions",label:"Actions",render:(w,R)=>r.createElement("div",{className:"table-actions"},r.createElement("button",{type:"button",className:"btn btn-text",onClick:()=>Ne(R)},"Edit"),r.createElement("button",{type:"button",className:"btn btn-text danger",onClick:()=>xe(R)},"Delete"))}],loading:n,error:l,emptyMessage:"No gift items tracked.",searchPlaceholder:"Search gift items...",sortableKeys:["name","price"]}),r.createElement(yt,{title:"Gift Shops",description:"Shops available across each theme.",rows:_,columns:[{key:"name",label:"Shop"},{key:"theme_name",label:"Theme"},{key:"actions",label:"Actions",render:(w,R)=>r.createElement("div",{className:"table-actions"},r.createElement("button",{type:"button",className:"btn btn-text",onClick:()=>En(R)},"Edit"),r.createElement("button",{type:"button",className:"btn btn-text danger",onClick:()=>Zn(R)},"Delete"))}],loading:!1,error:"",emptyMessage:"No gift shops created.",searchPlaceholder:"Search gift shops...",sortableKeys:["name","theme_name"]}),T&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Edit Gift Item"),r.createElement("form",{className:"admin-form-grid",onSubmit:Ye},r.createElement("label",{className:"field"},r.createElement("span",null,"Item name"),r.createElement("input",{className:"input",value:M.name,onChange:w=>K(R=>({...R,name:w.target.value})),disabled:P})),r.createElement("label",{className:"field"},r.createElement("span",null,"Price"),r.createElement("input",{className:"input",type:"number",min:"0",step:"0.01",value:M.price,onChange:w=>K(R=>({...R,price:w.target.value})),disabled:P})),r.createElement("label",{className:"field"},r.createElement("span",null,"Gift shop"),r.createElement("select",{className:"input",value:M.shopId,onChange:w=>K(R=>({...R,shopId:w.target.value})),disabled:P},r.createElement("option",{value:""},"Select shop..."),_.map(w=>r.createElement("option",{key:w.shop_id,value:w.shop_id},w.name)))),r.createElement("label",{className:"field"},r.createElement("span",null,"Image URL"),r.createElement("input",{className:"input",value:M.imageUrl,onChange:w=>K(R=>({...R,imageUrl:w.target.value})),disabled:P})),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>I(null),disabled:P},"Cancel"),r.createElement("button",{type:"submit",className:"btn primary",disabled:P},P?"Saving...":"Save Changes"))))),G&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Delete Gift Item"),r.createElement("p",null,"Are you sure you want to remove ",r.createElement("strong",null,G.name),"?"),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>re(null),disabled:F},"Cancel"),r.createElement("button",{type:"button",className:"btn danger",onClick:Et,disabled:F},F?"Deleting...":"Delete")))),B&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Edit Gift Shop"),r.createElement("form",{className:"admin-form-grid",onSubmit:ea},r.createElement("label",{className:"field"},r.createElement("span",null,"Shop name"),r.createElement("input",{className:"input",value:Y.name,onChange:w=>z(R=>({...R,name:w.target.value})),disabled:H})),r.createElement("label",{className:"field"},r.createElement("span",null,"Theme"),r.createElement("select",{className:"input",value:Y.themeId,onChange:w=>z(R=>({...R,themeId:w.target.value})),disabled:H},r.createElement("option",{value:""},"Select theme..."),k.map(w=>r.createElement("option",{key:w.id,value:w.id},w.name)))),r.createElement("label",{className:"field"},r.createElement("span",null,"Close date (optional)"),r.createElement("input",{className:"input",type:"date",value:Y.closeDate,onChange:w=>z(R=>({...R,closeDate:w.target.value})),disabled:H})),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>ne(null),disabled:H},"Cancel"),r.createElement("button",{type:"submit",className:"btn primary",disabled:H},H?"Saving...":"Save Changes"))))),ae&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Delete Gift Shop"),r.createElement("p",null,"Are you sure you want to remove ",r.createElement("strong",null,ae.name),"?"),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>$(null),disabled:J},"Cancel"),r.createElement("button",{type:"button",className:"btn danger",onClick:Nn,disabled:J},J?"Deleting...":"Delete")))))}function iy(){const[e,t]=c.useState([]),[n,a]=c.useState(!0),[l,s]=c.useState(""),[i,u]=c.useState({name:"",price:"",vendorId:"",imageUrl:""}),[o,m]=c.useState(!1),[p,f]=c.useState(""),[y,v]=c.useState(""),[_,b]=c.useState([]),[k,g]=c.useState([]),[d,h]=c.useState({name:"",themeId:""}),[N,C]=c.useState(!1),[E,x]=c.useState(""),[S,D]=c.useState(""),[T,I]=c.useState(null),[M,K]=c.useState({name:"",themeId:""}),[P,U]=c.useState(!1),[G,re]=c.useState(null),[F,W]=c.useState(!1),[B,ne]=c.useState(null),[Y,z]=c.useState({name:"",price:"",vendorId:"",imageUrl:""}),[H,X]=c.useState(!1),[ae,$]=c.useState(null),[J,Q]=c.useState(!1),Z=c.useCallback(async()=>{a(!0),s("");try{const w=await j("/food-items"),R=((w==null?void 0:w.data)||[]).map(ta=>({...ta,image_url:ta.image_url??ta.imageUrl??""}));t(R)}catch(w){s((w==null?void 0:w.message)||"Unable to load menu items."),t([])}finally{a(!1)}},[]),L=c.useCallback(async()=>{try{const w=await j("/food-vendors");b((w==null?void 0:w.data)||[])}catch{b([])}},[]),te=c.useCallback(async()=>{try{const w=await j("/themes");g(((w==null?void 0:w.data)||[]).map(R=>({id:R.themeID??R.id,name:R.name??R.themeName})))}catch{g([])}},[]);c.useEffect(()=>{Z()},[Z]),c.useEffect(()=>{L(),te()},[L,te]);async function oe(w){if(w.preventDefault(),!o){if(!i.name.trim()){v("Menu item name is required.");return}if(!i.vendorId){v("Select a food vendor.");return}m(!0),f(""),v("");try{await j("/food-items",{method:"POST",body:JSON.stringify({name:i.name.trim(),price:Number(i.price||0),vendorId:Number(i.vendorId),imageUrl:i.imageUrl.trim()})}),f("Menu item saved."),u({name:"",price:"",vendorId:"",imageUrl:""}),Z()}catch(R){v((R==null?void 0:R.message)||"Request failed.")}finally{m(!1)}}}async function Ne(w){if(w.preventDefault(),!N){if(!d.name.trim()){D("Vendor name is required.");return}if(!d.themeId){D("Theme is required.");return}C(!0),x(""),D("");try{await j("/food-vendors",{method:"POST",body:JSON.stringify({name:d.name.trim(),themeId:Number(d.themeId)})}),x("Vendor saved."),h({name:"",themeId:""}),L()}catch(R){D((R==null?void 0:R.message)||"Unable to save vendor.")}finally{C(!1)}}}function xe(w){ne(w),z({name:w.name||"",price:w.price??"",vendorId:w.vendor_id??"",imageUrl:w.image_url||""}),X(!1)}function Ye(w){$(w),Q(!1)}async function Et(w){if(w.preventDefault(),!(!B||H)){if(!Y.name.trim()){v("Menu item name is required.");return}if(!Y.vendorId){v("Vendor must be selected.");return}X(!0),v("");try{await j(`/food-items/${B.item_id}`,{method:"PUT",body:JSON.stringify({name:Y.name.trim(),price:Number(Y.price||0),vendorId:Number(Y.vendorId),imageUrl:Y.imageUrl.trim()})}),ne(null),Z()}catch(R){v((R==null?void 0:R.message)||"Unable to update item.")}finally{X(!1)}}}async function Xn(){if(!(!ae||J)){Q(!0),v("");try{await j(`/food-items/${ae.item_id}`,{method:"DELETE"}),$(null),Z()}catch(w){v((w==null?void 0:w.message)||"Unable to delete item.")}finally{Q(!1)}}}function En(w){I(w),K({name:w.name||"",themeId:w.theme_id||""}),U(!1)}function Zn(w){re(w),W(!1)}async function ea(w){if(w.preventDefault(),!(!T||P)){if(!M.name.trim()){D("Vendor name is required.");return}if(!M.themeId){D("Theme is required.");return}U(!0),D("");try{await j(`/food-vendors/${T.vendor_id}`,{method:"PUT",body:JSON.stringify({name:M.name.trim(),themeId:Number(M.themeId)})}),I(null),L()}catch(R){D((R==null?void 0:R.message)||"Unable to update vendor.")}finally{U(!1)}}}async function Nn(){if(!(!G||F)){W(!0),D("");try{await j(`/food-vendors/${G.vendor_id}`,{method:"DELETE"}),re(null),L()}catch(w){D((w==null?void 0:w.message)||"Unable to delete vendor.")}finally{W(!1)}}}return r.createElement(r.Fragment,null,r.createElement(we,null,r.createElement("h3",{style:{marginTop:0}},"Add Menu Item"),r.createElement("p",{className:"muted"},"Showcase dining options from across the park."),r.createElement("form",{className:"admin-form-grid",onSubmit:oe},r.createElement("label",{className:"field"},r.createElement("span",null,"Menu item"),r.createElement("input",{className:"input",name:"food-name",value:i.name,onChange:w=>u(R=>({...R,name:w.target.value})),placeholder:"Astro Funnel Cake",disabled:o})),r.createElement("label",{className:"field"},r.createElement("span",null,"Price"),r.createElement("input",{className:"input",name:"food-price",type:"number",min:"0",step:"0.01",value:i.price,onChange:w=>u(R=>({...R,price:w.target.value})),disabled:o})),r.createElement("label",{className:"field"},r.createElement("span",null,"Vendor"),r.createElement("select",{className:"input",name:"food-vendor",value:i.vendorId,onChange:w=>u(R=>({...R,vendorId:w.target.value})),disabled:o},r.createElement("option",{value:""},"Select vendor..."),_.map(w=>r.createElement("option",{key:w.vendor_id,value:w.vendor_id},w.name)))),r.createElement("label",{className:"field"},r.createElement("span",null,"Image URL"),r.createElement("input",{className:"input",name:"food-image",value:i.imageUrl,onChange:w=>u(R=>({...R,imageUrl:w.target.value})),placeholder:"https://example.com/dish.jpg",disabled:o})),r.createElement("button",{className:"btn primary",type:"submit",disabled:o,style:{justifySelf:"flex-start",width:"auto"}},o?"Saving...":"Add Menu Item")),r.createElement("div",{style:{marginTop:12}},p&&r.createElement("div",{className:"alert success"},p),y&&r.createElement("div",{className:"alert error"},y))),r.createElement(we,null,r.createElement("h3",{style:{marginTop:0}},"Add Food Vendor"),r.createElement("p",{className:"muted"},"Vendors link dining items to specific themes."),r.createElement("form",{className:"admin-form-grid",onSubmit:Ne},r.createElement("label",{className:"field"},r.createElement("span",null,"Vendor name"),r.createElement("input",{className:"input",name:"vendor-name",value:d.name,onChange:w=>h(R=>({...R,name:w.target.value})),placeholder:"Nova Street Eats",disabled:N})),r.createElement("label",{className:"field"},r.createElement("span",null,"Theme"),r.createElement("select",{className:"input",name:"vendor-theme",value:d.themeId,onChange:w=>h(R=>({...R,themeId:w.target.value})),disabled:N},r.createElement("option",{value:""},"Select theme..."),k.map(w=>r.createElement("option",{key:w.id,value:w.id},w.name)))),r.createElement("button",{className:"btn",type:"submit",disabled:N,style:{justifySelf:"flex-start",width:"auto"}},N?"Saving...":"Add Vendor")),r.createElement("div",{style:{marginTop:12}},E&&r.createElement("div",{className:"alert success"},E),S&&r.createElement("div",{className:"alert error"},S))),r.createElement(yt,{title:"Food Menu Items",description:"Dining choices pulled into the guest experience.",rows:e,columns:[{key:"name",label:"Item"},{key:"vendor_name",label:"Vendor"},{key:"theme_name",label:"Theme"},{key:"price",label:"Price",render:w=>`$${Number(w||0).toFixed(2)}`},{key:"actions",label:"Actions",render:(w,R)=>r.createElement("div",{className:"table-actions"},r.createElement("button",{type:"button",className:"btn btn-text",onClick:()=>xe(R)},"Edit"),r.createElement("button",{type:"button",className:"btn btn-text danger",onClick:()=>Ye(R)},"Delete"))}],loading:n,error:l,emptyMessage:"No food items tracked.",searchPlaceholder:"Search menu items...",sortableKeys:["name","vendor_name","theme_name","price"]}),r.createElement(yt,{title:"Food Vendors",description:"Vendors assigned to each theme.",rows:_,columns:[{key:"name",label:"Vendor"},{key:"theme_name",label:"Theme"},{key:"actions",label:"Actions",render:(w,R)=>r.createElement("div",{className:"table-actions"},r.createElement("button",{type:"button",className:"btn btn-text",onClick:()=>En(R)},"Edit"),r.createElement("button",{type:"button",className:"btn btn-text danger",onClick:()=>Zn(R)},"Delete"))}],loading:!1,error:"",emptyMessage:"No vendors created yet.",searchPlaceholder:"Search vendors...",sortableKeys:["name","theme_name"]}),B&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Edit Menu Item"),r.createElement("form",{className:"admin-form-grid",onSubmit:Et},r.createElement("label",{className:"field"},r.createElement("span",null,"Menu item"),r.createElement("input",{className:"input",value:Y.name,onChange:w=>z(R=>({...R,name:w.target.value})),disabled:H})),r.createElement("label",{className:"field"},r.createElement("span",null,"Price"),r.createElement("input",{className:"input",type:"number",min:"0",step:"0.01",value:Y.price,onChange:w=>z(R=>({...R,price:w.target.value})),disabled:H})),r.createElement("label",{className:"field"},r.createElement("span",null,"Vendor"),r.createElement("select",{className:"input",value:Y.vendorId,onChange:w=>z(R=>({...R,vendorId:w.target.value})),disabled:H},r.createElement("option",{value:""},"Select vendor..."),_.map(w=>r.createElement("option",{key:w.vendor_id,value:w.vendor_id},w.name)))),r.createElement("label",{className:"field"},r.createElement("span",null,"Image URL"),r.createElement("input",{className:"input",value:Y.imageUrl,onChange:w=>z(R=>({...R,imageUrl:w.target.value})),disabled:H})),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>ne(null),disabled:H},"Cancel"),r.createElement("button",{type:"submit",className:"btn primary",disabled:H},H?"Saving...":"Save Changes"))))),ae&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Delete Menu Item"),r.createElement("p",null,"Are you sure you want to remove ",r.createElement("strong",null,ae.name),"?"),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>$(null),disabled:J},"Cancel"),r.createElement("button",{type:"button",className:"btn danger",onClick:Xn,disabled:J},J?"Deleting...":"Delete")))),T&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Edit Vendor"),r.createElement("form",{className:"admin-form-grid",onSubmit:ea},r.createElement("label",{className:"field"},r.createElement("span",null,"Vendor name"),r.createElement("input",{className:"input",value:M.name,onChange:w=>K(R=>({...R,name:w.target.value})),disabled:P})),r.createElement("label",{className:"field"},r.createElement("span",null,"Theme"),r.createElement("select",{className:"input",value:M.themeId,onChange:w=>K(R=>({...R,themeId:w.target.value})),disabled:P},r.createElement("option",{value:""},"Select theme..."),k.map(w=>r.createElement("option",{key:w.id,value:w.id},w.name)))),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>I(null),disabled:P},"Cancel"),r.createElement("button",{type:"submit",className:"btn primary",disabled:P},P?"Saving...":"Save Changes"))))),G&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Delete Vendor"),r.createElement("p",null,"Are you sure you want to remove ",r.createElement("strong",null,G.name),"?"),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>re(null),disabled:F},"Cancel"),r.createElement("button",{type:"button",className:"btn danger",onClick:Nn,disabled:F},F?"Deleting...":"Delete")))))}function oy(){const[e,t]=c.useState([]),[n,a]=c.useState(!0),[l,s]=c.useState(""),[i,u]=c.useState({name:"",description:"",imageUrl:""}),[o,m]=c.useState(!1),[p,f]=c.useState(""),[y,v]=c.useState(""),[_,b]=c.useState(null),[k,g]=c.useState({name:"",description:"",imageUrl:""}),[d,h]=c.useState(!1),[N,C]=c.useState(null),[E,x]=c.useState(!1),S=c.useCallback(async()=>{a(!0),s("");try{const T=await j("/themes"),I=((T==null?void 0:T.data)||[]).map(M=>({id:M.themeID??M.id,name:M.name??M.themeName,description:M.description??M.Description??"",attraction_count:M.attraction_count??0,image_url:M.image_url??M.imageUrl??""}));t(I)}catch(T){s((T==null?void 0:T.message)||"Unable to load themes."),t([])}finally{a(!1)}},[]);c.useEffect(()=>{S()},[S]);async function D(T){if(T.preventDefault(),!o){if(!i.name.trim()){v("Theme name is required.");return}if(!i.description.trim()){v("Description is required.");return}m(!0),f(""),v("");try{await j("/themes",{method:"POST",body:JSON.stringify({name:i.name.trim(),description:i.description.trim(),imageUrl:i.imageUrl.trim()})}),f("Theme saved."),u({name:"",description:"",imageUrl:""}),S()}catch(I){v((I==null?void 0:I.message)||"Request failed.")}finally{m(!1)}}}return r.createElement(r.Fragment,null,r.createElement(we,null,r.createElement("h3",{style:{marginTop:0}},"Create Theme"),r.createElement("p",{className:"muted"},"Group attractions into lands that curate the experience."),r.createElement("form",{className:"admin-form-grid",onSubmit:D},r.createElement("label",{className:"field"},r.createElement("span",null,"Theme name"),r.createElement("input",{className:"input",value:i.name,onChange:T=>u(I=>({...I,name:T.target.value})),placeholder:"Chrono Harbor",disabled:o})),r.createElement("label",{className:"field"},r.createElement("span",null,"Description"),r.createElement("textarea",{className:"input",value:i.description,onChange:T=>u(I=>({...I,description:T.target.value})),placeholder:"A waterfront district where time bends.",rows:4,disabled:o})),r.createElement("label",{className:"field"},r.createElement("span",null,"Image URL"),r.createElement("input",{className:"input",value:i.imageUrl,onChange:T=>u(I=>({...I,imageUrl:T.target.value})),placeholder:"https://example.com/theme.jpg",disabled:o})),r.createElement("button",{className:"btn primary",type:"submit",disabled:o,style:{justifySelf:"flex-start",width:"auto"}},o?"Saving...":"Add Theme")),r.createElement("div",{style:{marginTop:12}},p&&r.createElement("div",{className:"alert success"},p),y&&r.createElement("div",{className:"alert error"},y))),r.createElement(yt,{title:"Themes",description:"Lands that organize attractions.",rows:e,columns:[{key:"name",label:"Theme"},{key:"description",label:"Description"},{key:"attraction_count",label:"# Attractions"},{key:"actions",label:"Actions",render:(T,I)=>r.createElement("div",{className:"table-actions"},r.createElement("button",{type:"button",className:"btn btn-text",onClick:()=>{b(I),g({name:I.name||"",description:I.description||"",imageUrl:I.image_url||""}),h(!1)}},"Edit"),r.createElement("button",{type:"button",className:"btn btn-text danger",onClick:()=>{C(I),x(!1)}},"Delete"))}],loading:n,error:l,emptyMessage:"No themes created yet.",searchPlaceholder:"Search themes...",sortableKeys:["name","attraction_count"]}),_&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Edit Theme"),r.createElement("form",{className:"admin-form-grid",onSubmit:async T=>{if(T.preventDefault(),!d){if(!k.name.trim()){v("Theme name is required.");return}if(!k.description.trim()){v("Description is required.");return}h(!0),v("");try{await j(`/themes/${_.id}`,{method:"PUT",body:JSON.stringify({name:k.name.trim(),description:k.description.trim(),imageUrl:k.imageUrl.trim()})}),b(null),S()}catch(I){v((I==null?void 0:I.message)||"Unable to update theme.")}finally{h(!1)}}}},r.createElement("label",{className:"field"},r.createElement("span",null,"Theme name"),r.createElement("input",{className:"input",value:k.name,onChange:T=>g(I=>({...I,name:T.target.value})),disabled:d})),r.createElement("label",{className:"field"},r.createElement("span",null,"Description"),r.createElement("textarea",{className:"input",rows:4,value:k.description,onChange:T=>g(I=>({...I,description:T.target.value})),disabled:d})),r.createElement("label",{className:"field"},r.createElement("span",null,"Image URL"),r.createElement("input",{className:"input",value:k.imageUrl,onChange:T=>g(I=>({...I,imageUrl:T.target.value})),disabled:d})),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>b(null),disabled:d},"Cancel"),r.createElement("button",{type:"submit",className:"btn primary",disabled:d},d?"Saving...":"Save Changes"))))),N&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Delete Theme"),r.createElement("p",null,"Are you sure you want to remove ",r.createElement("strong",null,N.name),"?"),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>C(null),disabled:E},"Cancel"),r.createElement("button",{type:"button",className:"btn danger",disabled:E,onClick:async()=>{if(!E){x(!0),v("");try{await j(`/themes/${N.id}`,{method:"DELETE"}),C(null),S()}catch(T){v((T==null?void 0:T.message)||"Unable to delete theme.")}finally{x(!1)}}}},E?"Deleting...":"Delete")))))}function uy(){const[e,t]=c.useState([]),[n,a]=c.useState(!0),[l,s]=c.useState(""),[i,u]=c.useState({name:"",themeId:"",typeId:"",capacity:"",imageUrl:"",experienceLevel:"",audience:""}),[o,m]=c.useState(!1),[p,f]=c.useState(""),[y,v]=c.useState(""),[_,b]=c.useState([]),[k,g]=c.useState([]),[d,h]=c.useState(null),[N,C]=c.useState({name:"",themeId:"",typeId:"",capacity:"",imageUrl:"",experienceLevel:"",audience:""}),[E,x]=c.useState(!1),[S,D]=c.useState(null),[T,I]=c.useState(!1),[M,K]=c.useState({name:"",description:""}),[P,U]=c.useState(!1),[G,re]=c.useState(""),[F,W]=c.useState(""),[B,ne]=c.useState(null),[Y,z]=c.useState({name:"",description:""}),[H,X]=c.useState(!1),[ae,$]=c.useState(""),[J,Q]=c.useState(null),[Z,L]=c.useState(!1),[te,oe]=c.useState(""),Ne=c.useCallback(async()=>{a(!0),s("");try{const A=await j("/attractions"),q=((A==null?void 0:A.data)||[]).map(ee=>{const Nt=ee.ThemeID??ee.themeId??ee.theme_id??"",od=ee.AttractionTypeID??ee.typeId??ee.type_id??"";return{id:ee.AttractionID??ee.id,name:ee.Name??ee.name,theme:ee.theme_name??"",type:ee.attraction_type_name??ee.TypeName??ee.type??"",capacity:ee.Capacity??ee.capacity??ee.RidersPerVehicle??ee.riders_per_vehicle??null,image_url:ee.image_url??ee.imageUrl??"",themeId:Nt,typeId:od,experienceLevel:ee.experience_level??ee.experienceLevel??"",audience:ee.target_audience??ee.targetAudience??""}});t(q)}catch(A){s((A==null?void 0:A.message)||"Unable to load attractions."),t([])}finally{a(!1)}},[]),xe=c.useCallback(async()=>{try{const[A,q]=await Promise.all([j("/themes").catch(()=>({data:[]})),j("/attraction-types").catch(()=>({data:[]}))]);b((A.data||[]).map(ee=>({id:ee.themeID??ee.id,name:ee.name??ee.themeName}))),g((q.data||[]).map(ee=>({id:ee.id??ee.AttractionType??ee.AttractionTypeID,name:ee.name??ee.TypeName,description:ee.description??ee.Description??""})))}catch{b([]),g([])}},[]);c.useEffect(()=>{Ne()},[Ne]),c.useEffect(()=>{xe()},[xe]);async function Ye(A){if(A.preventDefault(),o)return;if(!i.name.trim()){v("Attraction name is required.");return}if(!i.themeId){v("Theme must be selected.");return}if(!i.typeId){v("Attraction type must be selected.");return}const q=Number(i.capacity);if(!Number.isFinite(q)||q<=0){v("Capacity must be greater than zero.");return}m(!0),f(""),v("");try{await j("/attractions",{method:"POST",body:JSON.stringify({name:i.name.trim(),themeId:i.themeId,typeId:i.typeId,capacity:q,imageUrl:i.imageUrl.trim(),experienceLevel:i.experienceLevel.trim(),targetAudience:i.audience.trim()})}),f("Attraction saved."),u({name:"",themeId:"",typeId:"",capacity:"",imageUrl:"",experienceLevel:"",audience:""}),Ne()}catch(ee){v((ee==null?void 0:ee.message)||"Request failed.")}finally{m(!1)}}async function Et(A){if(A.preventDefault(),P)return;const q=M.name.trim(),ee=M.description.trim();if(!q){W("Type name is required.");return}U(!0),W(""),re("");try{await j("/attraction-types",{method:"POST",body:JSON.stringify({name:q,description:ee})}),re("Attraction type added."),K({name:"",description:""}),xe()}catch(Nt){W((Nt==null?void 0:Nt.message)||"Unable to add type.")}finally{U(!1)}}function Xn(A){ne(A),z({name:(A==null?void 0:A.name)||"",description:(A==null?void 0:A.description)||""}),$("")}function En(){ne(null),z({name:"",description:""}),$("")}async function Zn(A){if(A.preventDefault(),!B||H)return;const q=Y.name.trim(),ee=Y.description.trim();if(!q){$("Type name is required.");return}X(!0),$(""),re("");try{await j(`/attraction-types/${B.id}`,{method:"PUT",body:JSON.stringify({name:q,description:ee})}),re("Attraction type updated."),En(),xe()}catch(Nt){$((Nt==null?void 0:Nt.message)||"Unable to update type.")}finally{X(!1)}}function ea(A){Q(A),oe("")}function Nn(){Q(null),oe("")}async function w(){if(!(!J||Z)){L(!0),oe(""),re("");try{await j(`/attraction-types/${J.id}`,{method:"DELETE"}),re("Attraction type deleted."),Nn(),xe()}catch(A){oe((A==null?void 0:A.message)||"Unable to delete type.")}finally{L(!1)}}}function R(A){h(A),C({name:A.name||"",themeId:A.themeId||A.ThemeID||"",typeId:A.typeId||A.type_id||"",capacity:A.capacity??"",imageUrl:A.image_url||"",experienceLevel:A.experienceLevel||A.experience_level||"",audience:A.audience||A.target_audience||""}),x(!1)}function ta(A){D(A),I(!1)}async function sd(A){if(A.preventDefault(),!d||E)return;if(!N.name.trim()){v("Attraction name is required.");return}if(!N.themeId){v("Theme must be selected.");return}if(!N.typeId){v("Attraction type must be selected.");return}const q=Number(N.capacity);if(!Number.isFinite(q)||q<=0){v("Capacity must be greater than zero.");return}x(!0),v("");try{await j(`/attractions/${d.id}`,{method:"PUT",body:JSON.stringify({name:N.name.trim(),themeId:Number(N.themeId),typeId:Number(N.typeId),capacity:q,imageUrl:N.imageUrl.trim(),experienceLevel:N.experienceLevel.trim(),targetAudience:N.audience.trim()})}),h(null),Ne()}catch(ee){v((ee==null?void 0:ee.message)||"Unable to update attraction.")}finally{x(!1)}}async function id(){if(!(!S||T)){I(!0),v("");try{await j(`/attractions/${S.id}`,{method:"DELETE"}),D(null),Ne()}catch(A){v((A==null?void 0:A.message)||"Unable to delete attraction.")}finally{I(!1)}}}return r.createElement(r.Fragment,null,r.createElement(we,null,r.createElement("h3",{style:{marginTop:0}},"Add Attraction"),r.createElement("p",{className:"muted"},"Publish rides and experiences for guests and operations."),r.createElement("form",{className:"admin-form-grid",onSubmit:Ye},r.createElement("label",{className:"field"},r.createElement("span",null,"Attraction name"),r.createElement("input",{className:"input",value:i.name,onChange:A=>u(q=>({...q,name:A.target.value})),placeholder:"Chrono Coaster",disabled:o})),r.createElement("label",{className:"field"},r.createElement("span",null,"Theme"),r.createElement("select",{className:"input",value:i.themeId,onChange:A=>u(q=>({...q,themeId:A.target.value})),disabled:o},r.createElement("option",{value:""},"Select theme..."),_.map(A=>r.createElement("option",{key:A.id,value:A.id},A.name)))),r.createElement("label",{className:"field"},r.createElement("span",null,"Attraction type"),r.createElement("select",{className:"input",value:i.typeId,onChange:A=>u(q=>({...q,typeId:A.target.value})),disabled:o},r.createElement("option",{value:""},"Select type..."),k.map(A=>r.createElement("option",{key:A.id,value:A.id},A.name)))),r.createElement("label",{className:"field"},r.createElement("span",null,"Capacity per dispatch/event"),r.createElement("input",{className:"input",type:"number",min:"1",value:i.capacity,onChange:A=>u(q=>({...q,capacity:A.target.value})),disabled:o})),r.createElement("label",{className:"field"},r.createElement("span",null,"Experience level"),r.createElement("input",{className:"input",value:i.experienceLevel,onChange:A=>u(q=>({...q,experienceLevel:A.target.value})),placeholder:"High thrill, family-friendly, etc.",disabled:o})),r.createElement("label",{className:"field"},r.createElement("span",null,"Who's it for?"),r.createElement("input",{className:"input",value:i.audience,onChange:A=>u(q=>({...q,audience:A.target.value})),placeholder:"Families, thrill-seekers, ages 8+",disabled:o})),r.createElement("label",{className:"field"},r.createElement("span",null,"Image URL"),r.createElement("input",{className:"input",value:i.imageUrl,onChange:A=>u(q=>({...q,imageUrl:A.target.value})),placeholder:"https://example.com/attraction.jpg",disabled:o})),r.createElement("button",{className:"btn primary",type:"submit",disabled:o,style:{justifySelf:"flex-start",width:"auto"}},o?"Saving...":"Add Attraction")),r.createElement("div",{style:{marginTop:12}},p&&r.createElement("div",{className:"alert success"},p),y&&r.createElement("div",{className:"alert error"},y))),r.createElement(we,null,r.createElement("h3",{style:{marginTop:0}},"Add Attraction Type"),r.createElement("form",{className:"admin-form-grid",onSubmit:Et},r.createElement("label",{className:"field"},r.createElement("span",null,"Type name"),r.createElement("input",{className:"input",value:M.name,onChange:A=>K(q=>({...q,name:A.target.value})),placeholder:"Dark Ride",disabled:P})),r.createElement("label",{className:"field"},r.createElement("span",null,"Description"),r.createElement("textarea",{className:"input",value:M.description,onChange:A=>K(q=>({...q,description:A.target.value})),placeholder:"Describe the ride experience.",rows:3,disabled:P})),r.createElement("button",{className:"btn",type:"submit",disabled:P,style:{justifySelf:"flex-start",width:"auto"}},P?"Saving...":"Add Type")),r.createElement("div",{style:{marginTop:8}},G&&r.createElement("div",{className:"alert success"},G),F&&r.createElement("div",{className:"alert error"},F))),r.createElement(yt,{title:"Attraction Types",description:"Manage the categories available for attractions.",rows:k,columns:[{key:"name",label:"Type"},{key:"description",label:"Description",render:A=>A||""},{key:"actions",label:"Actions",render:(A,q)=>r.createElement("div",{className:"table-actions"},r.createElement("button",{type:"button",className:"btn btn-text",onClick:()=>Xn(q)},"Edit"),r.createElement("button",{type:"button",className:"btn btn-text danger",onClick:()=>ea(q)},"Delete"))}],loading:!1,error:"",emptyMessage:"No attraction types found.",searchPlaceholder:"Search attraction types...",sortableKeys:["name"]}),r.createElement(yt,{title:"Attractions",description:"Rides and experiences available throughout the park.",rows:e,columns:[{key:"name",label:"Attraction"},{key:"theme",label:"Theme"},{key:"type",label:"Type"},{key:"experienceLevel",label:"Experience Level",render:A=>A||"N/A"},{key:"audience",label:"Who It's For",render:A=>A||"N/A"},{key:"capacity",label:"Capacity"},{key:"actions",label:"Actions",render:(A,q)=>r.createElement("div",{className:"table-actions"},r.createElement("button",{type:"button",className:"btn btn-text",onClick:()=>R(q)},"Edit"),r.createElement("button",{type:"button",className:"btn btn-text danger",onClick:()=>ta(q)},"Delete"))}],loading:n,error:l,emptyMessage:"No attractions recorded.",searchPlaceholder:"Search attractions...",sortableKeys:["name","theme","type"]}),d&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Edit Attraction"),r.createElement("form",{className:"admin-form-grid",onSubmit:sd},r.createElement("label",{className:"field"},r.createElement("span",null,"Attraction name"),r.createElement("input",{className:"input",value:N.name,onChange:A=>C(q=>({...q,name:A.target.value})),disabled:E})),r.createElement("label",{className:"field"},r.createElement("span",null,"Theme"),r.createElement("select",{className:"input",value:N.themeId,onChange:A=>C(q=>({...q,themeId:A.target.value})),disabled:E},r.createElement("option",{value:""},"Select theme..."),_.map(A=>r.createElement("option",{key:A.id,value:A.id},A.name)))),r.createElement("label",{className:"field"},r.createElement("span",null,"Attraction type"),r.createElement("select",{className:"input",value:N.typeId,onChange:A=>C(q=>({...q,typeId:A.target.value})),disabled:E},r.createElement("option",{value:""},"Select type..."),k.map(A=>r.createElement("option",{key:A.id,value:A.id},A.name)))),r.createElement("label",{className:"field"},r.createElement("span",null,"Capacity"),r.createElement("input",{className:"input",type:"number",min:"1",value:N.capacity,onChange:A=>C(q=>({...q,capacity:A.target.value})),disabled:E})),r.createElement("label",{className:"field"},r.createElement("span",null,"Experience level"),r.createElement("input",{className:"input",value:N.experienceLevel,onChange:A=>C(q=>({...q,experienceLevel:A.target.value})),disabled:E})),r.createElement("label",{className:"field"},r.createElement("span",null,"Who's it for?"),r.createElement("input",{className:"input",value:N.audience,onChange:A=>C(q=>({...q,audience:A.target.value})),disabled:E})),r.createElement("label",{className:"field"},r.createElement("span",null,"Image URL"),r.createElement("input",{className:"input",value:N.imageUrl,onChange:A=>C(q=>({...q,imageUrl:A.target.value})),disabled:E})),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>h(null),disabled:E},"Cancel"),r.createElement("button",{type:"submit",className:"btn primary",disabled:E},E?"Saving...":"Save Changes"))))),B&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Edit Attraction Type"),r.createElement("form",{className:"admin-form-grid",onSubmit:Zn},r.createElement("label",{className:"field"},r.createElement("span",null,"Type name"),r.createElement("input",{className:"input",value:Y.name,onChange:A=>z(q=>({...q,name:A.target.value})),disabled:H})),r.createElement("label",{className:"field"},r.createElement("span",null,"Description"),r.createElement("textarea",{className:"input",rows:3,value:Y.description,onChange:A=>z(q=>({...q,description:A.target.value})),disabled:H})),ae&&r.createElement("div",{className:"alert error"},ae),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:En,disabled:H},"Cancel"),r.createElement("button",{type:"submit",className:"btn primary",disabled:H},H?"Saving...":"Save Changes"))))),J&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Delete Attraction Type"),r.createElement("p",null,"Are you sure you want to remove ",r.createElement("strong",null,J.name),"? This action cannot be undone."),te&&r.createElement("div",{className:"alert error"},te),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:Nn,disabled:Z},"Cancel"),r.createElement("button",{type:"button",className:"btn danger",onClick:w,disabled:Z},Z?"Removing...":"Delete")))),S&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Delete Attraction"),r.createElement("p",null,"Are you sure you want to remove ",r.createElement("strong",null,S.name),"?"),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>D(null),disabled:T},"Cancel"),r.createElement("button",{type:"button",className:"btn danger",onClick:id,disabled:T},T?"Deleting...":"Delete")))))}const cy=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2});function my(e){if(e==null||e==="")return"--";const t=Number(e);return Number.isFinite(t)?cy.format(t):e}function dy(e){if(!e)return"--";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString()}function vu(){return new Date().toISOString().slice(0,10)}function fy(){const{user:e,actualRole:t}=ze(),n=t??(e==null?void 0:e.role)??"customer",a=["admin","owner"].includes(n),[l,s]=c.useState([]),[i,u]=c.useState(!0),[o,m]=c.useState(""),[p,f]=c.useState([]),[y,v]=c.useState(!0),[_,b]=c.useState(""),[k,g]=c.useState({name:"",email:"",salary:"",startDate:vu(),password:"",positionId:""}),[d,h]=c.useState(!1),[N,C]=c.useState(""),[E,x]=c.useState(""),[S,D]=c.useState(null),[T,I]=c.useState(!1),[M,K]=c.useState(""),[P,U]=c.useState(""),[G,re]=c.useState(null),[F,W]=c.useState({name:"",salary:"",positionId:""}),[B,ne]=c.useState(!1),Y=c.useCallback(async()=>{u(!0),m("");try{const L=await j("/employees");s(Array.isArray(L==null?void 0:L.data)?L.data:[])}catch(L){m((L==null?void 0:L.message)||"Unable to load employees."),s([])}finally{u(!1)}},[]);c.useEffect(()=>{Y()},[Y]);const z=c.useCallback(async()=>{v(!0),b("");try{const L=await j("/positions");f(Array.isArray(L==null?void 0:L.data)?L.data:[])}catch(L){f([]),b((L==null?void 0:L.message)||"Unable to load positions.")}finally{v(!1)}},[]);c.useEffect(()=>{z()},[z]),c.useEffect(()=>{p.length&&g(L=>L.positionId?L:{...L,positionId:String(p[0].id)})},[p]);const H=c.useCallback(L=>{a&&(D(L),K(""),U(""),I(!1))},[a]),X=c.useCallback(async()=>{if(!(!S||T)){I(!0),K(""),U("");try{await j(`/employees/${S.employeeID}`,{method:"DELETE"}),U("Employee deleted."),D(null),Y()}catch(L){K((L==null?void 0:L.message)||"Unable to delete employee.")}finally{I(!1)}}},[S,T,Y]),ae=c.useCallback(L=>{re(L),W({name:L.name||"",salary:L.salary??"",positionId:L.role?String(L.role):p[0]?String(p[0].id):""}),C(""),x(""),ne(!1)},[p]),$=async L=>{if(L.preventDefault(),!G||B)return;if(!F.name.trim()){C("Employee name is required.");return}const te=F.salary===""?null:Number(F.salary);if(te!==null&&(!Number.isFinite(te)||te<=0)){C("Salary must be greater than zero.");return}if(te!==null&&te>2e5){C("Salary must be $200,000 or less.");return}if(!F.positionId){C("Role must be selected.");return}ne(!0),C("");try{await j(`/employees/${G.employeeID}`,{method:"PUT",body:JSON.stringify({name:F.name.trim(),salary:te,positionId:Number(F.positionId)})}),re(null),Y()}catch(oe){C((oe==null?void 0:oe.message)||"Unable to update employee.")}finally{ne(!1)}},J=c.useMemo(()=>{const L=[{key:"name",label:"Name"},{key:"role_name",label:"Role"},{key:"email",label:"Email"},{key:"salary",label:"Salary",render:my},{key:"start_date",label:"Start Date",render:dy}];return a&&L.push({key:"actions",label:"Actions",render:(te,oe)=>r.createElement("div",{className:"table-actions"},r.createElement("button",{type:"button",className:"btn btn-text",onClick:()=>ae(oe)},"Edit"),r.createElement("button",{type:"button",className:"btn btn-text danger",onClick:()=>H(oe)},"Delete"))}),L},[a,H,ae]),Q=(L,te)=>{g(oe=>({...oe,[L]:te}))};async function Z(L){if(L.preventDefault(),!a||d)return;const te=k.name.trim(),oe=k.email.trim().toLowerCase(),Ne=k.password.trim(),xe=k.startDate.trim(),Ye=Number(k.salary);if(!te){C("Employee name is required.");return}if(!oe){C("Employee email is required.");return}if(!Ne||Ne.length<8){C("Password must be at least 8 characters.");return}if(!xe||!/^\d{4}-\d{2}-\d{2}$/.test(xe)){C("Start date must be provided in YYYY-MM-DD format.");return}if(!k.salary||Number.isNaN(Ye)||Ye<=0){C("Salary must be greater than zero.");return}if(Ye>2e5){C("Salary must be $200,000 or less.");return}if(!k.positionId){C("Role must be selected.");return}h(!0),C(""),x("");try{await j("/employees",{method:"POST",body:JSON.stringify({name:te,email:oe,password:Ne,salary:Ye,startDate:xe,positionId:Number(k.positionId)})}),x("Employee created successfully."),g({name:"",email:"",salary:"",startDate:vu(),password:"",positionId:p[0]?String(p[0].id):""}),Y()}catch(Et){C((Et==null?void 0:Et.message)||"Unable to create employee.")}finally{h(!1)}}return r.createElement("div",{className:"admin-employees"},a&&r.createElement(we,{className:"admin-employees__form"},r.createElement("div",{className:"admin-panel-header"},r.createElement("div",null,r.createElement("h3",{style:{margin:0}},"Add Employee"),r.createElement("p",{className:"muted",style:{margin:"4px 0 0"}},"Creates both the employee record and linked user credentials."))),r.createElement("form",{className:"admin-form-grid admin-form-grid--cols",onSubmit:Z},r.createElement("label",{className:"field"},r.createElement("span",null,"Full Name"),r.createElement("input",{className:"input",type:"text",value:k.name,onChange:L=>Q("name",L.target.value),disabled:d})),r.createElement("label",{className:"field"},r.createElement("span",null,"Work Email"),r.createElement("input",{className:"input",type:"email",value:k.email,onChange:L=>Q("email",L.target.value),disabled:d})),r.createElement("label",{className:"field"},r.createElement("span",null,"Salary (USD)"),r.createElement("input",{className:"input",type:"number",min:"0",step:"100",value:k.salary,onChange:L=>Q("salary",L.target.value),disabled:d})),r.createElement("label",{className:"field"},r.createElement("span",null,"Start Date"),r.createElement("input",{className:"input",type:"date",value:k.startDate,onChange:L=>Q("startDate",L.target.value),disabled:d})),r.createElement("label",{className:"field"},r.createElement("span",null,"Role"),r.createElement("select",{className:"input",value:k.positionId||"",onChange:L=>Q("positionId",L.target.value),disabled:d||y||!p.length},!p.length&&r.createElement("option",{value:""},"No roles available"),p.map(L=>r.createElement("option",{key:L.id,value:L.id},L.name)))),_&&r.createElement("div",{className:"alert error",style:{gridColumn:"1 / -1"}},_),r.createElement("label",{className:"field field--full"},r.createElement("span",null,"Temporary Password"),r.createElement("input",{className:"input",type:"password",value:k.password,onChange:L=>Q("password",L.target.value),disabled:d})),r.createElement("button",{className:"btn primary",type:"submit",disabled:d,style:{justifySelf:"flex-start",width:"auto"}},d?"Creating...":"Create Employee")),r.createElement("div",{style:{marginTop:12}},E&&r.createElement("div",{className:"alert success"},E),N&&r.createElement("div",{className:"alert error"},N))),r.createElement(yt,{title:"Employees",description:"Search and sort the full roster.",rows:l,columns:J,loading:i,error:o,emptyMessage:"No employees found.",searchPlaceholder:"Search employees...",sortableKeys:["name","role_name","salary","start_date"]}),(P||M)&&r.createElement("div",null,P&&r.createElement("div",{className:"alert success"},P),M&&r.createElement("div",{className:"alert error"},M)),G&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Edit Employee"),r.createElement("form",{className:"admin-form-grid admin-form-grid--cols",onSubmit:$},r.createElement("label",{className:"field"},r.createElement("span",null,"Full name"),r.createElement("input",{className:"input",value:F.name,onChange:L=>W(te=>({...te,name:L.target.value})),disabled:B})),r.createElement("label",{className:"field"},r.createElement("span",null,"Salary (USD)"),r.createElement("input",{className:"input",type:"number",min:"0",step:"100",value:F.salary,onChange:L=>W(te=>({...te,salary:L.target.value})),disabled:B})),r.createElement("label",{className:"field"},r.createElement("span",null,"Role"),r.createElement("select",{className:"input",value:F.positionId||"",onChange:L=>W(te=>({...te,positionId:L.target.value})),disabled:B||y||!p.length},!p.length&&r.createElement("option",{value:""},"No roles available"),p.map(L=>r.createElement("option",{key:L.id,value:L.id},L.name)))),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>re(null),disabled:B},"Cancel"),r.createElement("button",{type:"submit",className:"btn primary",disabled:B},B?"Saving...":"Save Changes"))))),S&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Delete Employee"),r.createElement("p",null,"Are you sure you want to remove ",r.createElement("strong",null,S.name),"?"),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>D(null),disabled:T},"Cancel"),r.createElement("button",{type:"button",className:"btn danger",onClick:X,disabled:T},T?"Deleting...":"Delete")))))}const Hl=["low","medium","high","critical"];function td(){const[e,t]=c.useState([]),[n,a]=c.useState(!0),[l,s]=c.useState(""),[i,u]=c.useState(!1),[o,m]=c.useState(""),[p,f]=c.useState(""),[y,v]=c.useState({attractionId:"",employeeId:"",dateBroken:"",dateFixed:"",type:"",severity:"",description:""}),[_,b]=c.useState([]),[k,g]=c.useState([]),[d,h]=c.useState([]),[N,C]=c.useState(Hl),E=c.useCallback(async()=>{a(!0),s("");try{const D=await j("/maintenance");t((D==null?void 0:D.data)||[])}catch(D){s((D==null?void 0:D.message)||"Unable to load maintenance records."),t([])}finally{a(!1)}},[]),x=c.useCallback(async()=>{try{const[D,T,I]=await Promise.all([j("/attractions").catch(()=>({data:[]})),j("/employees").catch(()=>({data:[]})),j("/maintenance/meta").catch(()=>({data:{}}))]);b((D.data||[]).map(U=>({id:U.AttractionID??U.id??U.attractionID,name:U.Name??U.name}))),g((T.data||[]).map(U=>({id:U.employeeID??U.id,name:U.name??`${U.first_name??""} ${U.last_name??""}`.trim()})));const M=I.data||{},K=(M.types||[]).map(U=>{const G=typeof U=="string"?U.replace(/_/g," ").replace(/\b\w/g,re=>re.toUpperCase()):String(U);return{id:U,name:G}});h(K);const P=(M.severities||[]).length?(M.severities||[]).map(U=>String(U).toLowerCase()):Hl;C(P)}catch{b([]),g([]),h([]),C(Hl)}},[]);c.useEffect(()=>{E()},[E]),c.useEffect(()=>{x()},[x]);async function S(D){if(D.preventDefault(),!i){if(!y.attractionId){f("Attraction is required.");return}if(!y.type){f("Repair type must be selected.");return}if(!y.severity){f("Severity must be selected.");return}if(!y.description.trim()){f("Description is required.");return}u(!0),m(""),f("");try{await j("/maintenance",{method:"POST",body:JSON.stringify({attractionId:y.attractionId,employeeId:y.employeeId||null,dateBroken:y.dateBroken||null,dateFixed:y.dateFixed||null,type:y.type,severity:y.severity,description:y.description.trim()})}),m("Maintenance record logged."),v({attractionId:"",employeeId:"",dateBroken:"",dateFixed:"",type:"",severity:"",description:""}),E()}catch(T){f((T==null?void 0:T.message)||"Failed to save maintenance record.")}finally{u(!1)}}}return r.createElement("div",{className:"admin-maintenance"},r.createElement("div",{className:"admin-maintenance__layout"},r.createElement(we,{className:"admin-maintenance__panel"},r.createElement("h3",{style:{marginTop:0}},"Log Maintenance"),r.createElement("form",{className:"admin-form-grid",onSubmit:S},r.createElement("label",{className:"field"},r.createElement("span",null,"Attraction"),r.createElement("select",{className:"input",value:y.attractionId,onChange:D=>v(T=>({...T,attractionId:D.target.value})),disabled:i},r.createElement("option",{value:""},"Select attraction..."),_.map(D=>r.createElement("option",{key:D.id,value:D.id},D.name)))),r.createElement("label",{className:"field"},r.createElement("span",null,"Assigned employee (optional)"),r.createElement("select",{className:"input",value:y.employeeId,onChange:D=>v(T=>({...T,employeeId:D.target.value})),disabled:i},r.createElement("option",{value:""},"Unassigned"),k.map(D=>r.createElement("option",{key:D.id,value:D.id},D.name||D.id)))),r.createElement("label",{className:"field"},r.createElement("span",null,"Date reported"),r.createElement("input",{className:"input",type:"date",value:y.dateBroken,onChange:D=>v(T=>({...T,dateBroken:D.target.value})),disabled:i})),r.createElement("label",{className:"field"},r.createElement("span",null,"Date resolved"),r.createElement("input",{className:"input",type:"date",value:y.dateFixed,onChange:D=>v(T=>({...T,dateFixed:D.target.value})),disabled:i})),r.createElement("label",{className:"field"},r.createElement("span",null,"Maintenance type"),r.createElement("select",{className:"input",value:y.type,onChange:D=>v(T=>({...T,type:D.target.value})),disabled:i},r.createElement("option",{value:""},"Select type..."),d.map(D=>r.createElement("option",{key:D.id,value:D.id},D.name)))),r.createElement("label",{className:"field"},r.createElement("span",null,"Severity"),r.createElement("select",{className:"input",value:y.severity,onChange:D=>v(T=>({...T,severity:D.target.value})),disabled:i},r.createElement("option",{value:""},"Select severity..."),N.map(D=>r.createElement("option",{key:D,value:D},D.replace(/\b\w/g,T=>T.toUpperCase()))))),r.createElement("label",{className:"field",style:{gridColumn:"1 / -1"}},r.createElement("span",null,"Description"),r.createElement("textarea",{className:"input",rows:4,value:y.description,onChange:D=>v(T=>({...T,description:D.target.value})),placeholder:"Describe the maintenance issue and any context.",disabled:i})),r.createElement("button",{className:"btn primary",type:"submit",disabled:i,style:{justifySelf:"flex-start",width:"auto"}},i?"Saving...":"Log Maintenance")),r.createElement("div",{style:{marginTop:12}},o&&r.createElement("div",{className:"alert success"},o),p&&r.createElement("div",{className:"alert error"},p))),r.createElement(we,{className:"admin-maintenance__panel"},r.createElement("h3",{style:{marginTop:0}},"Recent Maintenance Records"),n&&r.createElement("div",{className:"text-sm text-gray-600"},"Loading records..."),!n&&l&&r.createElement("div",{className:"alert error"},l),!n&&!l&&r.createElement(ey,{rows:e,columns:[{key:"attraction_name",label:"Attraction"},{key:"type_of_maintenance",label:"Type"},{key:"Severity_of_report",label:"Severity"},{key:"Date_broken_down",label:"Reported"},{key:"Date_fixed",label:"Resolved"},{key:"EmployeeID",label:"Assigned To",render:D=>D||""}],emptyMessage:"No maintenance records yet."}))))}function py(){return r.createElement(ny,null,r.createElement(Wi,null,r.createElement(ie,{index:!0,element:r.createElement(mn,{to:"tickets",replace:!0})}),r.createElement(ie,{path:"tickets",element:r.createElement(ay,null)}),r.createElement(ie,{path:"parking",element:r.createElement(ry,null)}),r.createElement(ie,{path:"gift",element:r.createElement(sy,null)}),r.createElement(ie,{path:"food",element:r.createElement(iy,null)}),r.createElement(ie,{path:"themes",element:r.createElement(oy,null)}),r.createElement(ie,{path:"attractions",element:r.createElement(uy,null)}),r.createElement(ie,{path:"employees",element:r.createElement(fy,null)}),r.createElement(ie,{path:"maintenance",element:r.createElement(td,null)}),r.createElement(ie,{path:"*",element:r.createElement(mn,{to:"tickets",replace:!0})})))}function yl({roles:e=[],fallback:t=null,children:n}){const{user:a}=ze();return!!a&&e.includes(a.role)?r.createElement(r.Fragment,null,n):t}const an=[{key:"cancellations",title:"Ride Cancellations",description:"Audit rainouts and other closures; filter by reason, attraction, or notes.",endpoint:"/reports/cancellations",emptyMessage:"Run the report to see cancellation activity.",columns:["attraction","cancel_date","reason_label"],badge:"Operations",fields:[{key:"start",label:"Start Date",type:"date",default:()=>Ey(14)},{key:"end",label:"End Date",type:"date",default:()=>Eu()},{key:"reasons",label:"Reasons",type:"multiselect",optionsKey:"reasons",size:5,placeholder:"All reasons",helper:"Toggle the reasons you want included."},{key:"search",label:"Search (ride or notes)",type:"text",placeholder:"Keywords..."}],buildParams:e=>{const t=new URLSearchParams;return e.start&&t.set("start",e.start),e.end&&t.set("end",e.end),Array.isArray(e.reasons)&&e.reasons.length&&t.set("reasons",e.reasons.join(",")),e.search&&t.set("search",e.search),t}},{key:"riders",title:"Ride Demand Trends",description:"See rider counts for a given day or roll aggregate metrics by month and attraction.",endpoint:"/reports/riders-per-day",emptyMessage:"Choose filters to see rider counts.",badge:"Guest Flow",columns:["Name","log_date","period_start","riders_count","avg_riders","entry_count"],fields:[{key:"group",label:"Group By",type:"select",options:[{value:"day",label:"Day"},{value:"month",label:"Month"}],default:"day",allowAll:!1,helper:"Switch to Month to see totals and averages per month."},{key:"date",label:"Ride Date (daily)",type:"date",default:()=>Eu(),helper:"Only used when grouping by day."},{key:"start",label:"Start Date (monthly)",type:"date",default:""},{key:"end",label:"End Date (monthly)",type:"date",default:""},{key:"ride",label:"Filter by Attraction",type:"text",placeholder:"Name or ID",helper:"Type part of the ride name or use an ID."},{key:"top",label:"Top Results",type:"number",default:"50",helper:"Limit the number of rows returned (1-500)."}],buildParams:e=>{const t=new URLSearchParams;return e.group&&t.set("group",e.group),e.date&&t.set("date",e.date),e.start&&t.set("start",e.start),e.end&&t.set("end",e.end),e.ride&&t.set("ride",e.ride),e.top&&t.set("top",e.top),t}},{key:"maintenance",title:"Maintenance Incidents",description:"Filter maintenance tickets by severity, type, attraction, or keyword.",endpoint:"/maintenance",emptyMessage:"Run the report to review maintenance history.",badge:"Maintenance",columns:["attraction_name","Date_broken_down","Severity_of_report","type_of_maintenance","Description_of_work"],fields:[{key:"start",label:"Start Date",type:"date",default:""},{key:"end",label:"End Date",type:"date",default:""},{key:"severity",label:"Severity",type:"select",optionsKey:"maintenanceSeverities",allowAll:!0,placeholder:"All severities"},{key:"type",label:"Maintenance Type",type:"select",optionsKey:"maintenanceTypes",allowAll:!0,placeholder:"All types"},{key:"attraction",label:"Attraction (ID or name)",type:"text",placeholder:"All attractions"},{key:"search",label:"Keyword search",type:"text",placeholder:"notes contain..."}],buildParams:e=>{const t=new URLSearchParams;return e.start&&t.set("start",e.start),e.end&&t.set("end",e.end),e.severity&&t.set("severity",e.severity),e.type&&t.set("type",e.type),e.attraction&&t.set("attraction",e.attraction),e.search&&t.set("q",e.search),t}},{key:"revenue",title:"Revenue Overview",description:"Combine ticket, dining, and gift sales into one report.",endpoint:"/reports/revenue",emptyMessage:"Run the report to see revenue totals.",badge:"Finance",columns:["period_label","category","item_name","quantity","total_amount"],fields:[{key:"start",label:"Start Date",type:"date",default:""},{key:"end",label:"End Date",type:"date",default:""},{key:"category",label:"Category",type:"select",options:[{value:"",label:"All categories"},{value:"ticket",label:"Tickets"},{value:"food",label:"Food"},{value:"gift",label:"Gifts"}],allowAll:!1},{key:"search",label:"Search item name",type:"text",placeholder:"e.g. VIP or Funnel Cake"}],buildParams:e=>{const t=new URLSearchParams;return e.start&&t.set("start",e.start),e.end&&t.set("end",e.end),e.category&&t.set("category",e.category),e.search&&t.set("search",e.search),t}}];function hy(){const{user:e,loading:t,refresh:n}=ze(),[a,l]=c.useState(an[0].key),[s,i]=c.useState(()=>vy()),[u,o]=c.useState({}),[m,p]=c.useState({}),[f,y]=c.useState({}),[v,_]=c.useState(""),[b,k]=c.useState({}),[g,d]=c.useState({}),[h,N]=c.useState([]),[C,E]=c.useState({types:[],severities:[]});if(c.useEffect(()=>{!e&&!t&&n()},[e,t,n]),c.useEffect(()=>{j("/cancellation-reasons").then(z=>{const X=(Array.isArray(z.data)?z.data:[]).map(ae=>({value:ae.code,label:ae.label||ae.reason||ae.code}));N(X)}).catch(()=>{})},[]),c.useEffect(()=>{j("/maintenance/meta").then(z=>{var H,X;E({types:Array.isArray((H=z.data)==null?void 0:H.types)?z.data.types:[],severities:Array.isArray((X=z.data)==null?void 0:X.severities)?z.data.severities:[]})}).catch(()=>{})},[]),c.useEffect(()=>{B(a,{silent:!0})},[a]),t)return r.createElement(Ql,null,r.createElement(Kl,null,"Loading..."));if(!e)return r.createElement(Ql,null,r.createElement(Kl,null,"Please login."));if(!["employee","manager","admin","owner"].includes(e.role))return r.createElement(Ql,null,r.createElement(Kl,null,"Employees, managers, admins, or owners only."));const x=an.find(z=>z.key===a)??an[0],S=u[a]||[],D=Object.prototype.hasOwnProperty.call(u,a),T=m[a]||"",I=f[a]||"",M=v===a,K=b[a],P=g[a]||{search:"",sortKey:"",sortDir:"asc"},U=c.useMemo(()=>({reasons:h,maintenanceTypes:C.types.map(z=>({value:z,label:Hs(z)})),maintenanceSeverities:C.severities.map(z=>({value:z,label:Hs(z)}))}),[h,C]);function G(z,H){d(X=>{const ae=X[z]||{};return{...X,[z]:{search:"",sortKey:"",sortDir:"asc",...ae,...H}}})}function re(z,H){d(X=>{const ae=X[z]||{};let $="asc";return ae.sortKey===H&&($=ae.sortDir==="asc"?"desc":"asc"),{...X,[z]:{...ae,sortKey:H,sortDir:$}}})}const F=c.useMemo(()=>{if(!Array.isArray(S))return[];const z=(P.search||"").trim().toLowerCase(),H=z?S.filter($=>x.columns.some(J=>{const Q=rn($)[J]??rn($)[J==null?void 0:J.toLowerCase()];return Q!=null&&String(Q).toLowerCase().includes(z)})):S,X=P.sortKey;if(!X)return H;const ae=P.sortDir==="desc"?-1:1;return[...H].sort(($,J)=>{const Q=rn($)[X]??rn($)[X==null?void 0:X.toLowerCase()],Z=rn(J)[X]??rn(J)[X==null?void 0:X.toLowerCase()];return wy(Q,Z)*ae})},[S,P,x.columns]);function W(z,H,X){i(ae=>({...ae,[z]:{...ae[z],[H]:X}}))}async function B(z,H={}){const X=an.find(Q=>Q.key===z);if(!X)return;const $=X.buildParams(s[z]).toString(),J=$?`${X.endpoint}?${$}`:X.endpoint;_(z),H.silent||(p(Q=>({...Q,[z]:""})),y(Q=>({...Q,[z]:""})));try{const Q=await j(J),Z=Array.isArray(Q.data)?Q.data:Q.rows||[];o(L=>({...L,[z]:Z})),k(L=>({...L,[z]:{count:Z.length,at:new Date().toISOString()}})),Z.length?y(L=>({...L,[z]:""})):y(L=>({...L,[z]:"No data matched those filters."}))}catch(Q){p(Z=>({...Z,[z]:(Q==null?void 0:Q.message)||"Unable to run report."})),o(Z=>({...Z,[z]:[]}))}finally{_("")}}function ne(z){z.preventDefault(),B(a)}function Y(z){const H=an.find(X=>X.key===z);H&&(i(X=>({...X,[z]:nd(H)})),setTimeout(()=>B(z),0))}return r.createElement("div",{className:"reports-grid"},r.createElement("aside",{className:"panel panel--stretch",style:{padding:0,overflow:"hidden"}},r.createElement("div",{style:{display:"flex",flexDirection:"column"}},an.map(z=>{const H=b[z.key];return r.createElement("button",{key:z.key,type:"button",className:`report-select-card ${z.key===a?"report-select-card--active":""}`,onClick:()=>l(z.key)},r.createElement("div",{className:"report-select-card__title"},z.title),H&&r.createElement("div",{className:"report-select-card__meta"},`${H.count} rows  ${Su(H.at)}`))}))),r.createElement("section",{style:{display:"grid",gap:16}},r.createElement("div",{className:"panel panel--stretch",style:{display:"grid",gap:16}},r.createElement("header",null,r.createElement("h3",{style:{marginTop:0}},x.title),r.createElement("p",{className:"muted",style:{marginBottom:0}},x.description)),r.createElement("form",{onSubmit:ne,className:"report-form",style:{display:"grid",gap:12}},r.createElement("div",{className:"report-fields"},x.fields.map(z=>{var H;return r.createElement(yy,{key:z.key,field:z,value:(H=s[a])==null?void 0:H[z.key],onChange:X=>W(a,z.key,X),options:gy(z,U)})})),r.createElement("div",{style:{display:"flex",gap:8,flexWrap:"wrap"}},r.createElement("button",{className:"btn primary",type:"submit",disabled:M},M?"Running...":"Refresh Data"),r.createElement("button",{className:"btn",type:"button",onClick:()=>Y(a),disabled:M},"Reset Filters"),K&&r.createElement("span",{className:"text-sm text-gray-700"},"Last run: ",Su(K.at),"  ",K.count," rows")),T&&r.createElement("div",{className:"alert error"},T),!T&&I&&D&&r.createElement("div",{className:"alert info"},I))),r.createElement("div",{className:"panel panel--stretch"},r.createElement("h3",{style:{marginTop:0}},"Results"),M&&r.createElement("div",null,"Loading data..."),!M&&T&&r.createElement("div",{className:"alert error"},T),!M&&!T&&!D&&r.createElement("div",{className:"report-empty"},"Choose a report on the left to load data."),!M&&!T&&D&&r.createElement(r.Fragment,null,r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12,gap:12,flexWrap:"wrap"}},r.createElement("input",{className:"input",type:"text",style:{minWidth:220,flex:"1 1 220px"},placeholder:"Search rows...",value:P.search||"",onChange:z=>G(a,{search:z.target.value})}),!!S.length&&r.createElement("span",{className:"muted",style:{fontSize:12}},"Showing ",F.length," of ",S.length," rows")),r.createElement(Ny,{rows:F,columns:x.columns,emptyMessage:x.emptyMessage,sortKey:P.sortKey,sortDir:P.sortDir,onSort:z=>re(a,z)})))))}function Ql({children:e}){return r.createElement("div",{className:"container",style:{display:"grid",gap:12}},e)}function Kl({children:e}){return r.createElement("div",{className:"panel"},e)}function yy({field:e,value:t,onChange:n,options:a=[]}){const{type:l,label:s,placeholder:i,size:u,allowAll:o=!0}=e,m=e.helper;if(l==="multiselect"){const p=Array.isArray(t)?t:[];return r.createElement("div",{className:"field field--stack"},r.createElement("span",null,s),r.createElement("div",{className:"multiselect-grid",style:{maxHeight:u?`${u*36}px`:"160px"}},a.map(f=>{const y=f.value??f.label,v=p.includes(y);return r.createElement("label",{key:y,className:`multiselect-chip ${v?"multiselect-chip--active":""}`},r.createElement("input",{type:"checkbox",checked:v,onChange:()=>{n(v?p.filter(_=>_!==y):[...p,y])}}),r.createElement("span",null,f.label))})),m&&r.createElement("small",{className:"field-helper"},m))}return l==="select"?r.createElement("label",{className:"field",style:{display:"flex",flexDirection:"column",gap:4}},r.createElement("span",null,s),r.createElement("select",{className:"select",value:t??"",onChange:p=>n(p.target.value)},o&&r.createElement("option",{value:""},i||"All options"),a.map(p=>r.createElement("option",{key:p.value||p.label,value:p.value},p.label))),m&&r.createElement("small",{className:"field-helper"},m)):r.createElement("label",{className:"field",style:{display:"flex",flexDirection:"column",gap:4}},r.createElement("span",null,s),r.createElement("input",{className:"input",type:l==="date"?"date":l==="number"?"number":"text",placeholder:i,value:t??"",onChange:p=>n(p.target.value),min:l==="number"?1:void 0}),m&&r.createElement("small",{className:"field-helper"},m))}function gy(e,t){return e.options?e.options:e.optionsKey&&t[e.optionsKey]?t[e.optionsKey]:[]}function vy(){const e={};return an.forEach(t=>{e[t.key]=nd(t)}),e}function nd(e){const t={};return e.fields.forEach(n=>{const a=typeof n.default=="function"?n.default():n.default;n.type==="multiselect"?t[n.key]=Array.isArray(a)?a:a?[a]:[]:t[n.key]=a??""}),t}function Eu(){return ad(new Date)}function Ey(e){const t=new Date;return t.setDate(t.getDate()-e),ad(t)}function ad(e){const t=e.getTimezoneOffset()*6e4;return new Date(e.getTime()-t).toISOString().slice(0,10)}function Ny({rows:e,columns:t,emptyMessage:n,sortKey:a,sortDir:l,onSort:s}){const i=Array.isArray(e)?e:[];return i.length?r.createElement("div",{className:"workspace-table"},r.createElement("table",null,r.createElement("thead",null,r.createElement("tr",null,t.map(u=>{const m=a===u?l==="desc"?"":"":"";return r.createElement("th",{key:u},r.createElement("button",{type:"button",className:"table-sort-btn",onClick:()=>s(u)},Hs(u)," ",m))}))),r.createElement("tbody",null,i.map((u,o)=>{const m=rn(u);return r.createElement("tr",{key:o},t.map(p=>{const f=m[p]??m[Sy(p)];return r.createElement("td",{key:p},ky(f,p))}))})))):r.createElement("div",{className:"report-empty"},n)}function rn(e){return!e||typeof e!="object"?{}:e}function Sy(e){return typeof e=="string"?e.toLowerCase():e}function Hs(e){return e?e.replace(/_/g," ").replace(/\b\w/g,n=>n.toUpperCase()):""}function ky(e,t){if(e==null)return"";if(typeof e=="number"){if(!Number.isFinite(e))return"";const n=Math.abs(e);return t&&/amount|price|revenue/i.test(t)?`$${e.toFixed(2)}`:Number.isInteger(e)?n>=1e3?e.toLocaleString():e:e.toFixed(2).replace(/\.00$/,"")}if(typeof e=="string"){const n=e.trim();if(/^\d{4}-\d{2}-\d{2}T/.test(n)){const a=new Date(n);if(!Number.isNaN(a.getTime()))return a.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}if(/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}$/.test(n)){const a=new Date(n.replace(" ","T"));if(!Number.isNaN(a.getTime()))return a.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}if(/^\d{4}-\d{2}-\d{2}$/.test(n)){const a=new Date(`${n}T00:00:00`);if(!Number.isNaN(a.getTime()))return a.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}return/^\d{2}:\d{2}:\d{2}$/.test(n)?n.slice(0,5):n}return e instanceof Date&&!Number.isNaN(e.getTime())?e.toLocaleString():String(e)}function wy(e,t){const n=Nu(e),a=Nu(t);return n<a?-1:n>a?1:0}function Nu(e){if(e==null)return"";if(typeof e=="number")return e;if(e instanceof Date)return e.getTime();const t=String(e).trim();if(!t)return"";const n=Number(t);if(!Number.isNaN(n))return n;if(/^\d{4}-\d{2}-\d{2}T/.test(t)||/^\d{4}-\d{2}-\d{2}$/.test(t)){const a=new Date(/T/.test(t)?t:`${t}T00:00:00`);if(!Number.isNaN(a.getTime()))return a.getTime()}if(/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}$/.test(t)){const a=new Date(t.replace(" ","T"));if(!Number.isNaN(a.getTime()))return a.getTime()}return/^\d{2}:\d{2}:\d{2}$/.test(t)?t.slice(0,5):t.toLowerCase()}function Su(e){const t=new Date(e);if(Number.isNaN(t.getTime()))return"";const n=Date.now()-t.getTime();if(n<6e4)return"just now";if(n<36e5){const a=Math.round(n/6e4);return`${a} min${a===1?"":"s"} ago`}if(n<864e5){const a=Math.round(n/36e5);return`${a} hr${a===1?"":"s"} ago`}return t.toLocaleDateString(void 0,{month:"short",day:"numeric"})}const _y=[{value:"Inspection",label:"Inspection"},{value:"Annual check-up",label:"Annual Check-Up"},{value:"Repair",label:"Repair"},{value:"Emergency fix",label:"Emergency Fix"},{value:"Upgrade",label:"Upgrade"}],by=["Low","Medium","High","Critical"];function Cy(){return r.createElement(yl,{roles:["employee","manager","admin","owner"],fallback:r.createElement("div",{className:"container"},r.createElement("div",{className:"panel"},"Reports are restricted to staff."))},r.createElement(xy,null))}function xy(){return r.createElement("div",{className:"workspace-stack"},r.createElement("section",{id:"operations",className:"workspace-section"},r.createElement(ku,{title:"Reports",description:"Select the report you need and adjust filters to focus the dataset."}),r.createElement(hy,null)),r.createElement("section",{id:"maintenance",className:"workspace-section"},r.createElement(ku,{title:"Maintenance Records",description:"Review recent maintenance logs and add manual entries when needs arise."}),r.createElement(Ty,null)))}function ku({title:e,description:t}){return r.createElement("header",{className:"workspace-section__header"},r.createElement("h2",null,e),r.createElement("p",null,t))}function Ty(){const{actualRole:e,role:t}=ze(),n=e||t,a=["manager","admin","owner"].includes(n),[l,s]=c.useState(0);return r.createElement("div",{className:"workspace-panel-grid"},a?r.createElement(Dy,{onSaved:()=>s(i=>i+1)}):r.createElement("div",{className:"workspace-panel"},r.createElement("h3",null,"Maintenance logging"),r.createElement("p",{className:"workspace-panel__intro"},"Maintenance requests can be logged by managers, admins, or owners. Reach out to your supervisor if you need access.")),r.createElement(Py,{title:"Recent Maintenance",path:"/maintenance",columns:["RecordID","AttractionID","EmployeeID","Date_broken_down","Date_fixed","type_of_maintenance","Severity_of_report"],emptyMessage:"No maintenance records found.",refreshKey:l,onRefresh:()=>s(i=>i+1)}))}function Dy({onSaved:e}){const[t,n]=c.useState({attractionId:"",employeeId:"",dateBroken:"",dateFixed:"",type:_y[0].value,severity:by[1],description:""}),[a,l]=c.useState(!1),[s,i]=c.useState("");async function u(o){if(o.preventDefault(),!a){l(!0),i("");try{await j("/maintenance",{method:"POST",body:JSON.stringify({attractionId:t.attractionId?Number(t.attractionId):void 0,employeeId:t.employeeId?Number(t.employeeId):void 0,dateBrokenDown:t.dateBroken,dateFixed:t.dateFixed,typeOfMaintenance:t.type,severityOfReport:t.severity,descriptionOfWork:t.description})}),i("Maintenance record saved."),n({attractionId:"",employeeId:"",dateBroken:"",dateFixed:"",type:"",severity:"",description:""})}catch(m){i((m==null?void 0:m.message)||"Unable to save maintenance record.")}finally{l(!1)}}}return r.createElement("div",{className:"workspace-panel"},r.createElement("h3",null,"Quick Add Maintenance"),r.createElement("p",{className:"workspace-panel__intro"},"Log last-minute work orders or supervisor approvals. Detailed editing can happen later in the admin console."),r.createElement("form",{onSubmit:u,className:"workspace-form"},r.createElement("div",{className:"workspace-form__row"},r.createElement("label",{className:"field"},r.createElement("span",null,"Attraction ID"),r.createElement("input",{className:"input",value:t.attractionId,onChange:o=>n(m=>({...m,attractionId:o.target.value})),placeholder:"102"})),r.createElement("label",{className:"field"},r.createElement("span",null,"Employee ID"),r.createElement("input",{className:"input",value:t.employeeId,onChange:o=>n(m=>({...m,employeeId:o.target.value})),placeholder:"Optional"}))),r.createElement("div",{className:"workspace-form__row"},r.createElement("label",{className:"field"},r.createElement("span",null,"Date Broken"),r.createElement("input",{className:"input",type:"date",value:t.dateBroken,onChange:o=>n(m=>({...m,dateBroken:o.target.value}))})),r.createElement("label",{className:"field"},r.createElement("span",null,"Date Fixed"),r.createElement("input",{className:"input",type:"date",value:t.dateFixed,onChange:o=>n(m=>({...m,dateFixed:o.target.value}))}))),r.createElement("div",{className:"workspace-form__row"},r.createElement("label",{className:"field"},r.createElement("span",null,"Type"),r.createElement("input",{className:"input",value:t.type,onChange:o=>n(m=>({...m,type:o.target.value})),placeholder:"repair"})),r.createElement("label",{className:"field"},r.createElement("span",null,"Severity"),r.createElement("input",{className:"input",value:t.severity,onChange:o=>n(m=>({...m,severity:o.target.value})),placeholder:"medium"}))),r.createElement("label",{className:"field"},r.createElement("span",null,"Description"),r.createElement("textarea",{className:"input",rows:3,value:t.description,onChange:o=>n(m=>({...m,description:o.target.value})),placeholder:"Short summary of the maintenance work."})),r.createElement("div",{className:"workspace-form__actions"},r.createElement("button",{className:"btn primary",type:"submit",disabled:a},a?"Saving...":"Save Maintenance"),s&&r.createElement("span",{className:"text-sm text-gray-700"},s))))}function Py({title:e,path:t,columns:n,emptyMessage:a,refreshKey:l=0,onRefresh:s}){const[i,u]=c.useState([]),[o,m]=c.useState(!0),[p,f]=c.useState("");return c.useEffect(()=>{let y=!0;return m(!0),f(""),j(t).then(v=>{y&&u(v.data||[])}).catch(v=>{y&&((v==null?void 0:v.status)===403?u([]):f((v==null?void 0:v.message)||"Failed to load data."))}).finally(()=>{y&&m(!1)}),()=>{y=!1}},[t,l]),r.createElement("div",{className:"workspace-panel"},r.createElement("div",{className:"workspace-panel__top"},r.createElement("h3",null,e),s&&r.createElement("button",{className:"btn",type:"button",onClick:s,disabled:o},o?"Refreshing...":"Refresh")),o&&r.createElement("div",{className:"text-sm text-gray-700"},"Loading..."),!o&&p&&r.createElement("div",{className:"alert error"},p),!o&&!p&&i.length===0&&r.createElement("div",{className:"workspace-table__empty"},a),!o&&i.length>0&&r.createElement("div",{className:"workspace-table"},r.createElement("table",null,r.createElement("thead",null,r.createElement("tr",null,n.map(y=>r.createElement("th",{key:y},y)))),r.createElement("tbody",null,i.map((y,v)=>r.createElement("tr",{key:v},n.map(_=>r.createElement("td",{key:_},String(y[_]??y[_.toLowerCase()]??"")))))))))}function Iy(){return r.createElement(yl,{roles:["manager","admin","owner"],fallback:r.createElement("div",{className:"container"},r.createElement("div",{className:"panel"},"Managers/Admins/Owners only."))},r.createElement(Ly,null))}function Ly(){const[e,t]=c.useState([]),[n,a]=c.useState([]),[l,s]=c.useState([]),[i,u]=c.useState(!0),[o,m]=c.useState(""),[p,f]=c.useState({attraction:"",date:""}),[y,v]=c.useState({employeeId:"",attractionId:"",shiftDate:"",startTime:"09:00",endTime:"17:00",notes:""}),[_,b]=c.useState(!1),[k,g]=c.useState("");c.useEffect(()=>{let E=!0;async function x(){u(!0),m("");try{const[S,D,T]=await Promise.all([j("/employees").catch(M=>{if((M==null?void 0:M.status)===403)return{data:[]};throw M}),j("/attractions").catch(M=>{if((M==null?void 0:M.status)===403)return{data:[]};throw M}),j("/schedules").catch(M=>{if((M==null?void 0:M.status)===403)return{data:[]};throw M})]);if(!E)return;const I=Array.isArray(S==null?void 0:S.data)?S.data:(S==null?void 0:S.employees)||[];t(I.filter(M=>(M.role_name??M.role??"").toLowerCase()==="employee")),a(Array.isArray(D==null?void 0:D.data)?D.data:(D==null?void 0:D.attractions)||[]),s(Array.isArray(T==null?void 0:T.data)?T.data:(T==null?void 0:T.schedules)||[])}catch(S){if(!E)return;m((S==null?void 0:S.message)||"Failed to load scheduling data.")}finally{E&&u(!1)}}return x(),()=>{E=!1}},[]);const d=c.useMemo(()=>n.map(E=>({id:(E==null?void 0:E.AttractionID)??(E==null?void 0:E.id)??(E==null?void 0:E.attraction_id),name:(E==null?void 0:E.Name)??(E==null?void 0:E.name)??"Attraction"})).filter(E=>E.id),[n]),h=c.useMemo(()=>e.map(E=>{const S=`${(E==null?void 0:E.first_name)??""} ${(E==null?void 0:E.last_name)??""}`.trim()||(E==null?void 0:E.email)||"Employee";return{id:(E==null?void 0:E.employeeID)??(E==null?void 0:E.id)??(E==null?void 0:E.EmployeeID),name:(E==null?void 0:E.name)??S}}).filter(E=>E.id),[e]),N=c.useMemo(()=>l.filter(E=>{const x=p.attraction?String(E.attractionId??E.AttractionID??"")===p.attraction:!0,S=p.date?(E.shiftDate??E.date??"").startsWith(p.date):!0;return x&&S}),[l,p]);async function C(E){if(E.preventDefault(),!_){if(!y.employeeId||!y.attractionId||!y.shiftDate){g("Please choose an employee, attraction, and date.");return}b(!0),g("");try{await j("/schedules",{method:"POST",body:JSON.stringify({employeeId:y.employeeId,attractionId:y.attractionId,shiftDate:y.shiftDate,startTime:y.startTime,endTime:y.endTime,notes:y.notes})}),g("Shift assigned."),v(S=>({...S,shiftDate:"",notes:""}));const x=await j("/schedules").catch(S=>{if((S==null?void 0:S.status)===403)return{data:[]};throw S});s(Array.isArray(x==null?void 0:x.data)?x.data:(x==null?void 0:x.schedules)||[])}catch(x){g((x==null?void 0:x.message)||"Unable to save schedule.")}finally{b(!1)}}}return r.createElement("div",{className:"manager-shell"},r.createElement("section",{className:"manager-hero"},r.createElement("div",{className:"manager-hero__content"},r.createElement("h1",null,"Scheduling Command Center"),r.createElement("p",null,"Assign the right people to the right attractions and keep every era fully staffed."),r.createElement("div",{className:"manager-stats"},r.createElement("div",{className:"manager-stat"},r.createElement("div",{className:"manager-stat__value"},h.length),r.createElement("div",{className:"manager-stat__label"},"Employees")),r.createElement("div",{className:"manager-stat"},r.createElement("div",{className:"manager-stat__value"},d.length),r.createElement("div",{className:"manager-stat__label"},"Attractions")),r.createElement("div",{className:"manager-stat"},r.createElement("div",{className:"manager-stat__value"},N.length),r.createElement("div",{className:"manager-stat__label"},"Upcoming shifts"))))),r.createElement("section",{className:"manager-grid"},r.createElement("div",{className:"manager-panel"},r.createElement("h3",null,"Assign a Shift"),r.createElement("p",{className:"manager-panel__intro"},"Choose an employee, pick their attraction, and capture shift details in one streamlined form."),r.createElement("form",{onSubmit:C,className:"manager-form"},r.createElement("div",{className:"field"},r.createElement("span",null,"Employee"),r.createElement("select",{className:"border rounded-xl p-2",value:y.employeeId,onChange:E=>v(x=>({...x,employeeId:E.target.value}))},r.createElement("option",{value:""},"Select employee..."),h.map(E=>r.createElement("option",{key:E.id,value:E.id},E.name)))),r.createElement("div",{className:"field"},r.createElement("span",null,"Attraction"),r.createElement("select",{className:"border rounded-xl p-2",value:y.attractionId,onChange:E=>v(x=>({...x,attractionId:E.target.value}))},r.createElement("option",{value:""},"Select attraction..."),d.map(E=>r.createElement("option",{key:E.id,value:E.id},E.name)))),r.createElement("div",{className:"manager-form__row"},r.createElement("label",{className:"field",style:{flex:1,minWidth:140}},r.createElement("span",null,"Shift Date"),r.createElement("input",{className:"input",type:"date",value:y.shiftDate,onChange:E=>v(x=>({...x,shiftDate:E.target.value}))})),r.createElement("label",{className:"field",style:{flex:1,minWidth:140}},r.createElement("span",null,"Start Time"),r.createElement("input",{className:"input",type:"time",value:y.startTime,onChange:E=>v(x=>({...x,startTime:E.target.value}))})),r.createElement("label",{className:"field",style:{flex:1,minWidth:140}},r.createElement("span",null,"End Time"),r.createElement("input",{className:"input",type:"time",value:y.endTime,onChange:E=>v(x=>({...x,endTime:E.target.value}))}))),r.createElement("label",{className:"field"},r.createElement("span",null,"Notes (optional)"),r.createElement("textarea",{className:"input",rows:3,value:y.notes,onChange:E=>v(x=>({...x,notes:E.target.value})),placeholder:"Coverage notes, rotation info, etc."})),r.createElement("div",{className:"manager-form__actions"},r.createElement("button",{className:"btn primary",type:"submit",disabled:_},_?"Saving...":"Assign Shift"),k&&r.createElement("div",{className:"text-sm text-gray-700"},k)))),r.createElement("div",{className:"manager-panel manager-panel--wide"},r.createElement("div",{className:"manager-panel__header"},r.createElement("div",null,r.createElement("h3",null,"Upcoming Shifts"),r.createElement("p",null,"Review who is covering each attraction and refine staffing by attraction or date.")),r.createElement("div",{className:"manager-filters"},r.createElement("select",{className:"border rounded-xl p-2",value:p.attraction,onChange:E=>f(x=>({...x,attraction:E.target.value}))},r.createElement("option",{value:""},"All attractions"),d.map(E=>r.createElement("option",{key:E.id,value:String(E.id)},E.name))),r.createElement("input",{className:"input",type:"date",value:p.date,onChange:E=>f(x=>({...x,date:E.target.value}))}))),i&&r.createElement("div",{className:"text-sm text-gray-700"},"Loading schedules..."),!i&&o&&r.createElement("div",{className:"alert error"},o),!i&&!o&&N.length===0&&r.createElement("div",{className:"text-sm text-gray-700"},"No scheduled shifts yet."),!i&&!o&&N.length>0&&r.createElement("div",{className:"manager-shift-grid"},N.map((E,x)=>{const S=h.find(M=>String(M.id)===String(E.employeeId??E.EmployeeID)),D=d.find(M=>String(M.id)===String(E.attractionId??E.AttractionID)),T=E.startTime??E.StartTime??_u(E.start_time),I=E.endTime??E.EndTime??_u(E.end_time);return r.createElement("div",{key:E.scheduleId??E.ScheduleID??x,className:"manager-shift-card"},r.createElement("div",{className:"manager-shift-card__header"},r.createElement("h4",null,(D==null?void 0:D.name)||"Attraction TBD"),r.createElement("span",null,Ry(E.shiftDate??E.date))),r.createElement("div",{className:"manager-shift-card__body"},r.createElement("div",null,r.createElement("label",null,"Team Member"),r.createElement("strong",null,(S==null?void 0:S.name)||"Unassigned")),r.createElement("div",null,r.createElement("label",null,"Shift"),r.createElement("strong",null,wu(T),"  ",wu(I)))),E.notes&&r.createElement("div",{className:"manager-shift-card__notes"},r.createElement("label",null,"Notes"),r.createElement("p",null,E.notes)))})))))}function Ry(e){if(!e)return"Date TBD";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString()}function wu(e){if(!e)return"";if(typeof e=="string"&&e.includes(":")){const[t,n]=e.split(":"),a=new Date;return a.setHours(Number(t),Number(n||0)),a.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}return String(e)}function _u(e){return e&&typeof e=="string"?e:""}const bu=["day","annual","birthday","other"];function Cu(e=""){const t=e.toLowerCase();return t.includes("annual")||t.includes("season")||t.includes("year")?"annual":t.includes("birthday")?"birthday":"day"}function Ay(e){switch(e){case"day":return"Day Tickets";case"annual":return"Annual Passes";case"birthday":return"Birthday Packages";case"other":return"Special Offers";default:return e}}function pr(e={}){const t=e.name||e.ticket_type||e.ticketType||e.id||e.ticketId||e.slug;return String(t??JSON.stringify(e))}function xu(e){return`$${Number(e||0).toFixed(2)}`}function My(e){if(!e)return null;if(/^\d{4}-\d{2}-\d{2}$/.test(e)){const[n,a,l]=e.split("-").map(Number);return new Date(n,a-1,l)}const t=new Date(e);return Number.isNaN(t.getTime())?null:t}function Tu(e){const t=My(e);return t?t.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric",year:"numeric"}):""}const Fy=Array.from({length:10},(e,t)=>t+1);function hr({filter:e="all"}){const{user:t}=ze(),{add:n,items:a}=Ga(),l=vt(),s=gt(),[i,u]=c.useState([]),[o,m]=c.useState([]),[p,f]=c.useState(!0),[y,v]=c.useState(""),[_,b]=c.useState(""),[k,g]=c.useState(""),[d,h]=c.useState("info"),N=c.useRef(null),[C,E]=c.useState({}),[x,S]=c.useState(""),[D,T]=c.useState(!1),[I,M]=c.useState(""),[K,P]=c.useState(null),U=c.useMemo(()=>new Date().toISOString().slice(0,10),[]);function G($,J="info",Q=""){N.current&&window.clearTimeout(N.current),h(J),b($),g(Q),N.current=window.setTimeout(()=>{b(""),g(""),N.current=null},3500)}c.useEffect(()=>()=>{N.current&&window.clearTimeout(N.current)},[]),c.useEffect(()=>{if(!K)return;const $=window.setTimeout(()=>P(null),3e3);return()=>window.clearTimeout($)},[K]),c.useEffect(()=>{let $=!0;return f(!0),Promise.all([fetch("http://localhost:5175/ticket-types"),fetch("http://localhost:5175/parking/options").catch(()=>null)]).then(async([J,Q])=>{if(!$)return;if(!(J!=null&&J.ok))throw new Error("Failed to load tickets");const Z=await J.json(),L=Q&&Q.ok?await Q.json():{data:[]};u((Z==null?void 0:Z.data)||[]),m(((L==null?void 0:L.data)||[]).map(te=>{const oe=te.lotId??te.parking_lot_id??null,Ne=te.lot??te.lot_name??"";return{id:oe!=null?String(oe):Ne,lotId:oe,name:Ne,price:Number(te.price??te.base_price??0)}})),v("")}).catch(J=>{$&&(v((J==null?void 0:J.message)||"Unable to load ticket options."),u([]),m([]))}).finally(()=>$&&f(!1)),()=>{$=!1}},[]);const re=c.useMemo(()=>{const $={day:[],annual:[],birthday:[],other:[]};return i.forEach(J=>{const Q=Cu(J.name);$[Q].push(J)}),$},[i]),F=e==="all"?bu:bu.filter($=>$===e),W=c.useMemo(()=>F.flatMap($=>re[$]||[]),[re,F]),B=c.useMemo(()=>o.find($=>$.id===I)||null,[o,I]);c.useEffect(()=>{E($=>{const J={};return i.forEach(Q=>{const Z=pr(Q),L=$[Z]||{selected:!1,qty:1};J[Z]={selected:L.selected,qty:Math.max(1,Number(L.qty)||1)}}),J})},[i]),c.useEffect(()=>{D&&o.length&&!I&&M(o[0].id),o.length||(T(!1),M(""))},[D,o,I]);const ne=o.length>0;function Y(){if(!t){const $=`${s.pathname}${s.search||""}`;return l(`/login?redirect=${encodeURIComponent($)}`),G("Sign in as a customer to add tickets to cart.","warning"),!1}return t.role!=="customer"?(G("Ticket purchases are limited to customer accounts.","warning"),!1):!0}const z=c.useMemo(()=>W.filter($=>{var J;return(J=C[pr($)])==null?void 0:J.selected}),[W,C]);function H($,J){E(Q=>{var Z;return{...Q,[$]:{selected:J,qty:Math.max(1,Number((Z=Q[$])==null?void 0:Z.qty)||1)}}})}function X($,J){const Q=Math.max(1,Number(J)||1);E(Z=>{var L;return{...Z,[$]:{selected:((L=Z[$])==null?void 0:L.selected)??!0,qty:Q}}})}function ae($){$.preventDefault();const J=`${s.pathname}${s.search||""}`;if(!t){l(`/login?redirect=${encodeURIComponent(J)}`);return}if(!Y())return;const Q=a.map(te=>{var oe;return(oe=te==null?void 0:te.meta)==null?void 0:oe.visitDate}).find(te=>typeof te=="string"&&te.trim());if(Q&&Q!==x){P({type:"date",message:`Your cart already includes tickets for ${Tu(Q)}. Remove them or select the same date.`});return}if(!x){P({type:"date",message:"Choose your visit date before adding to cart."});return}if(!z.length){P({type:"ticket",message:"Select at least one ticket to continue."});return}let Z=[];if(z.forEach(te=>{const oe=pr(te),Ne=C[oe],xe=Number((Ne==null?void 0:Ne.qty)||1),Ye={category:Cu(te.name),visitDate:x};n({id:`${oe}-${x}`,name:te.name,price:Number(te.price??0),kind:"ticket",qty:xe,meta:Ye}),Z.push(`${xe}x ${te.name}`)}),D){if(!ne){G("Parking add-ons are not available right now.","warning");return}if(!B){G("Select a parking lot to continue.","warning");return}n({id:`parking-${B.id}-${x}`,name:`Parking - ${B.name}`,price:B.price??0,kind:"parking",qty:1,meta:{lot:B.name,visitDate:x}}),Z.push(`Parking: ${B.name}`)}const L=Z.join(" - ");G("Items added to your cart.","success",L)}return r.createElement("div",{className:"page"},r.createElement("div",{className:"page-box page-box--tickets"},r.createElement("header",{style:{marginBottom:16}},r.createElement("h1",null,"Buy Tickets")),t&&t.role!=="customer"&&r.createElement("div",{className:"alert warning"},"Ticket purchases are available to customer accounts only."),_&&r.createElement("div",{className:`status-banner status-banner--${d}`,role:"status","aria-live":"polite"},r.createElement("div",{className:"status-banner__title"},_),k&&r.createElement("div",{className:"status-banner__detail"},k)),r.createElement("div",{className:"ticket-date-focus"},r.createElement("label",{className:"ticket-date-control"},r.createElement("span",{className:"ticket-date-control__label"},"Visit date"),r.createElement("input",{className:"ticket-date-control__input",type:"date",min:U,value:x,onChange:$=>S($.target.value),required:!0}))),p&&r.createElement("p",{className:"text-sm"},"Loading ticket options..."),y&&r.createElement("p",{className:"alert error"},y),!p&&!y&&F.every($=>re[$].length===0)&&r.createElement("p",{className:"text-sm"},"No tickets found for this category."),r.createElement("div",{className:"ticket-stack"},!p&&!y&&F.map($=>re[$].length>0&&r.createElement("section",{key:$,className:"ticket-section"},r.createElement("div",{className:"ticket-table","aria-label":`${Ay($)} tickets`},r.createElement("div",{className:"ticket-table__head ticket-table__head--multiselect"},r.createElement("span",null,"Choose"),r.createElement("span",null,"Details"),r.createElement("span",null,"Qty"),r.createElement("span",null,"Price")),re[$].map(J=>{const Q=pr(J),Z=C[Q]||{selected:!1,qty:1};return r.createElement("label",{key:Q,className:`ticket-row ticket-row--multiselect ${Z.selected?"ticket-row--active":""}`},r.createElement("span",{className:"ticket-row__control"},r.createElement("input",{type:"checkbox",checked:Z.selected,onChange:L=>H(Q,L.target.checked)})),r.createElement("div",{className:"ticket-row__info"},r.createElement("div",{className:"ticket-row__name"},J.name)),r.createElement("div",{className:"ticket-row__qty"},r.createElement("select",{className:"input",value:Z.qty,onChange:L=>X(Q,L.target.value),disabled:!Z.selected},Fy.map(L=>r.createElement("option",{key:L,value:L},L)))),r.createElement("div",{className:"ticket-row__price"},xu(J.price)))}))))),r.createElement("form",{className:"ticket-planner",onSubmit:ae},r.createElement("div",{className:"ticket-planner__card"},r.createElement("div",null,r.createElement("h3",null,"Your Selection"),r.createElement("div",{style:{fontSize:"0.9rem",color:"#0f172a"}},z.length?`${z.length} ticket type${z.length===1?"":"s"} selected`:"Select one or more ticket types from the list."),r.createElement("div",{style:{fontSize:"0.9rem",color:"#0f172a"}},x?`Visit date locked to ${Tu(x)}`:"Pick your visit date above to enable checkout.")),r.createElement("label",{className:"ticket-checkbox"},r.createElement("input",{type:"checkbox",checked:D,disabled:!ne,onChange:$=>T($.target.checked)}),r.createElement("span",null,"Reserve parking (optional)")),D&&ne&&r.createElement("label",{className:"ticket-field"},"Parking lot",r.createElement("select",{className:"input",value:I,onChange:$=>M($.target.value),required:!0},o.map($=>r.createElement("option",{key:$.id,value:$.id},$.name,"  ",xu($.price))))),r.createElement("button",{type:"submit",className:"btn primary"},"Add to cart"))),K&&r.createElement("div",{className:"ticket-alert",role:"alert"},r.createElement("div",{className:"ticket-alert__card"},r.createElement("strong",null,K.type==="date"?"Pick a date":"Choose a ticket"),r.createElement("p",null,K.message),r.createElement("button",{className:"btn primary",onClick:()=>P(null)},"Got it")))))}function Uy({library:e,loading:t,error:n}){const a=vt(),l=(e==null?void 0:e.themes)||[],s=c.useMemo(()=>{const o=new Set,m=[];return l.forEach(p=>{(p.rides||[]).forEach(f=>{const y=f.slug||f.Name||f.name;!y||o.has(y)||(o.add(y),m.push({...f,themeName:p.name,capacity:f.capacity_per_experience??f.capacity??f.riders_per_vehicle??null}))})}),m},[l]),i=c.useMemo(()=>s.filter(o=>(o.type||o.TypeName||"").toLowerCase().includes("show")),[s]);c.useMemo(()=>{const o=new Map;return i.forEach(m=>{const p=(m.type||m.TypeName||"Shows").trim();o.has(p)||o.set(p,[]),o.get(p).push(m)}),Array.from(o.entries()).sort(([m],[p])=>m.localeCompare(p))},[i]);const u=c.useMemo(()=>i.slice(0,12),[i]);return r.createElement("div",{className:"page rides-page"},r.createElement("div",{className:"rides-shell"},r.createElement("section",{className:"rides-hero"},r.createElement("div",{className:"rides-hero__content"},r.createElement("p",{className:"rides-eyebrow"},"Rides & Attractions"),r.createElement("h1",null,"Jump through eras, one thrill at a time."),r.createElement("p",{className:"rides-hero__copy"},"Browse every land, queue up the cant-miss coasters, and plan a full day of shows, dark rides, and immersive walkthroughs before you arrive."),r.createElement("div",{className:"rides-hero__cta"},r.createElement("button",{className:"btn primary",onClick:()=>a("/ticket-passes")},"Buy Tickets"),r.createElement("button",{className:"btn",onClick:()=>a("/things-to-do/dining")},"Visit Marketplace")))),t&&r.createElement("p",{className:"text-sm text-gray-600"},"Loading attractions"),n&&r.createElement("p",{className:"alert error"},n),!t&&!n&&l.length>0&&r.createElement(r.Fragment,null,r.createElement("section",{className:"rides-themes"},r.createElement("div",{className:"section-header rides-section-header"},r.createElement("div",null,r.createElement("h2",null,"Choose a realm"),r.createElement("p",null,"Hop between eras. Tap a land to see the full lineup of rides, dining, and live entertainment."))),r.createElement("div",{className:"rides-themes__grid"},l.map(o=>r.createElement("article",{key:o.slug,className:"theme-card"},o.image_url&&r.createElement("div",{className:"theme-card__image",style:{backgroundImage:`url(${o.image_url})`}}),r.createElement("div",{className:"theme-card__header"},r.createElement("h3",null,o.name),r.createElement("span",null,(o.rides||[]).length," attractions")),o.description&&r.createElement("p",{className:"theme-card__body"},o.description),r.createElement("div",{className:"theme-card__actions"},r.createElement("button",{className:"btn",onClick:()=>a(`/theme/${o.slug}`)},"Explore")))))),r.createElement("section",{className:"rides-highlight"},r.createElement("div",{className:"section-header rides-section-header"},r.createElement("div",null,r.createElement("h2",null,"Featured entertainment"))),u.length?r.createElement("div",{className:"rides-highlight__grid"},u.map(o=>{const m=o.experience_level??o.experienceLevel??o.thrill_level??o.type_description??null,p=o.target_audience??o.targetAudience??o.audience??null,f=o.description||o.type_description||"",y=f&&f.trim().toLowerCase()==="seated or street performance with scheduled times."?"":f;return r.createElement("article",{key:o.slug||o.name,className:"ride-feature-card ride-feature-card--show"},o.image_url&&r.createElement("div",{className:"ride-feature-card__image",style:{backgroundImage:`url(${o.image_url})`}}),r.createElement("div",{className:"ride-feature-card__meta"},r.createElement("span",null,o.themeName)),r.createElement("h3",null,o.name),y&&r.createElement("p",null,y),r.createElement("div",{className:"ride-feature-card__stats"},o.capacity&&r.createElement("div",null,r.createElement("strong",null,o.capacity.toLocaleString()),r.createElement("span",{className:"ride-feature-card__stat-label"},"Capacity")),m&&r.createElement("div",null,r.createElement("strong",null,m),r.createElement("span",{className:"ride-feature-card__stat-label"},"Experience")),p&&r.createElement("div",null,r.createElement("strong",null,p),r.createElement("span",{className:"ride-feature-card__stat-label"},"Audience"))),r.createElement("div",{className:"ride-feature-card__cta"},r.createElement("span",null,"Included in ",o.themeName)))})):r.createElement("p",{className:"text-sm text-gray-600"},"Add live entertainment in the admin console to populate this section."))),!t&&!n&&l.length===0&&r.createElement("p",{className:"text-sm text-gray-600"},"No attractions are ready yet. Add themes and rides in the admin console to populate this page.")))}function Oy(){const{slug:e}=oh(),[t,n]=c.useState(null),[a,l]=c.useState(!0),[s,i]=c.useState("");return c.useEffect(()=>{if(!e)return;let u=!0;return l(!0),fetch(`http://localhost:5175/ride-library/themes/${e}`).then(o=>o.ok?o.json():Promise.reject(new Error("Theme not found"))).then(o=>{u&&(n((o==null?void 0:o.data)||null),i(""))}).catch(o=>{u&&(i((o==null?void 0:o.message)||"Unable to load theme."),n(null))}).finally(()=>u&&l(!1)),()=>{u=!1}},[e]),r.createElement("div",{className:"page"},r.createElement("div",{className:"page-box page-box--wide"},a&&r.createElement("p",{className:"text-sm text-gray-600"},"Loading attractions..."),s&&r.createElement("p",{className:"alert error"},s),!a&&!s&&t&&r.createElement(r.Fragment,null,r.createElement("div",{className:"theme-detail__hero"},r.createElement("div",{className:"theme-detail__copy"},r.createElement("p",{className:"theme-detail__eyebrow"},"Featured realm"),r.createElement("h1",null,t.name),t.description&&r.createElement("p",{className:"text-sm text-gray-700"},t.description),r.createElement("p",{className:"text-sm text-gray-600",style:{marginTop:8}},(t.rides||[]).length," attractions in this land.")),t.image_url&&r.createElement("div",{className:"theme-detail__image",style:{backgroundImage:`url(${t.image_url})`}})),r.createElement("div",{className:"ride-grid ride-grid--detail"},(t.rides||[]).map(u=>{var _;const o=u.capacity_per_experience??u.capacity??u.riders_per_vehicle??u.RidersPerVehicle??((_=u.details)==null?void 0:_.RidersPerVehicle)??null,m=u.type||u.TypeName||"Attraction",p=u.target_audience??u.audience??null,f=u.experience_level??u.thrill_level??u.type_description??u.type,y=u.duration_minutes??u.duration??null,v=u.description&&u.description.trim().toLowerCase()==="seated or street performance with scheduled times."?"":u.description;return r.createElement("article",{key:u.slug||u.id,className:"ride-card ride-card--theme"},r.createElement("header",{className:"ride-card__header"},r.createElement("h2",null,u.name)),r.createElement("div",{className:"ride-card__meta"},r.createElement("span",{className:"ride-card__chip"},m),f&&r.createElement("span",{className:"ride-card__chip ride-card__chip--accent"},f)),u.image_url&&r.createElement("div",{className:"ride-card__media",style:{backgroundImage:`url(${u.image_url})`}}),v&&r.createElement("p",{className:"ride-card__body"},v),r.createElement("div",{className:"ride-card__stats"},o!=null&&r.createElement("div",null,r.createElement("strong",null,o.toLocaleString()),r.createElement("span",{className:"ride-card__stat-label"},"Capacity")),p&&r.createElement("div",null,r.createElement("strong",null,p),r.createElement("span",{className:"ride-card__stat-label"},"Audience")),y&&r.createElement("div",null,r.createElement("strong",null,y," min"),r.createElement("span",{className:"ride-card__stat-label"},"Duration"))))}))),!a&&!s&&!t&&r.createElement("p",{className:"text-sm text-gray-600"},"Theme not found.")))}function rd(){const{user:e}=ze(),[t,n]=c.useState(!0),[a,l]=c.useState({full_name:"",phone:""}),[s,i]=c.useState({full_name:"",phone:""}),[u,o]=c.useState(!1),[m,p]=c.useState(""),[f,y]=c.useState("info"),[v,_]=c.useState([]),[b,k]=c.useState(!1),g=(e==null?void 0:e.role)==="customer";c.useEffect(()=>{if(!e)return;let h=!1;return n(!0),j("/profile/me").then(N=>{if(h)return;const C=(N==null?void 0:N.profile)||{full_name:"",phone:""};l(C),i({full_name:C.full_name||"",phone:C.phone||""})}).catch(N=>{h||(p((N==null?void 0:N.message)||"Unable to load your profile right now."),y("error"))}).finally(()=>{h||n(!1)}),()=>{h=!0}},[e]),c.useEffect(()=>{if(!e||!g)return;let h=!1;return k(!0),j("/orders/me").then(N=>{h||_(Array.isArray(N==null?void 0:N.data)?N.data:[])}).catch(()=>{h||_([])}).finally(()=>{h||k(!1)}),()=>{h=!0}},[e,g]);async function d(h){if(h.preventDefault(),!!e){o(!0),p("");try{const N={full_name:s.full_name.trim(),phone:s.phone.trim()},C=await j("/profile/me",{method:"PUT",body:JSON.stringify(N)});l((C==null?void 0:C.profile)||N),y("success"),p("Profile updated.")}catch(N){y("error"),p((N==null?void 0:N.message)||"Unable to save profile.")}finally{o(!1)}}}return e?r.createElement("div",{className:"page"},r.createElement("div",{className:"page-box page-box--wide",style:{display:"grid",gap:24}},r.createElement("section",{className:"panel"},r.createElement("h1",{style:{marginTop:0}},"Account Overview"),r.createElement("div",{className:"muted",style:{fontSize:14}},"Signed in as ",r.createElement("strong",null,e.email||"")," (",e.role,")")),r.createElement("section",{className:"panel"},r.createElement("h2",{style:{marginTop:0}},"Profile Details"),t&&r.createElement("div",{className:"muted"},"Loading profile"),!t&&r.createElement("form",{className:"account-form",onSubmit:d},r.createElement("label",{className:"field"},r.createElement("span",null,"Full name"),r.createElement("input",{className:"input",value:s.full_name,onChange:h=>i(N=>({...N,full_name:h.target.value})),placeholder:"Add your name"})),r.createElement("label",{className:"field"},r.createElement("span",null,"Phone"),r.createElement("input",{className:"input",value:s.phone,onChange:h=>i(N=>({...N,phone:h.target.value})),placeholder:"(555) 123-4567"})),r.createElement("button",{className:"btn primary",type:"submit",disabled:u},u?"Saving":"Save Changes"),m&&r.createElement("div",{className:`alert ${f==="success"?"success":f==="error"?"error":"info"}`},m))),g&&r.createElement("section",{className:"panel"},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline",flexWrap:"wrap",gap:12}},r.createElement("h2",{style:{margin:0}},"Purchase History"),r.createElement("span",{className:"muted",style:{fontSize:12}},"Latest 200 orders (tickets, parking, dining, gifts)")),b&&r.createElement("div",{className:"muted"},"Loading history"),!b&&v.length===0&&r.createElement("div",{className:"muted",style:{fontSize:14}},"You have not completed any purchases yet."),!b&&v.length>0&&r.createElement("div",{className:"table-responsive"},r.createElement("table",{className:"table"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Item"),r.createElement("th",null,"Type"),r.createElement("th",null,"Visit Date"),r.createElement("th",null,"Quantity"),r.createElement("th",null,"Price"),r.createElement("th",null,"Purchased"))),r.createElement("tbody",null,v.map(h=>{var C;const N=h.visit_date||((C=h.details)==null?void 0:C.visitDate);return r.createElement("tr",{key:h.purchase_id},r.createElement("td",null,h.item_name),r.createElement("td",null,h.item_type),r.createElement("td",null,$y(N)),r.createElement("td",null,h.quantity),r.createElement("td",null,"$",Number(h.price||0).toFixed(2)),r.createElement("td",null,zy(h.created_at)))}))))))):r.createElement("div",{className:"page"},r.createElement("div",{className:"page-box"},r.createElement("h1",null,"Account"),r.createElement("p",null,"Please sign in to view your account and ticket history.")))}function zy(e){if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?String(e):t.toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"})}function $y(e){if(!e)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(e)){const[n,a,l]=e.split("-").map(Number);return new Date(n,a-1,l).toLocaleDateString(void 0,{dateStyle:"medium"})}const t=new Date(e);return Number.isNaN(t.getTime())?"":t.toLocaleDateString(void 0,{dateStyle:"medium"})}function By(){const{user:e,refresh:t}=ze(),[n,a]=Fh(),l=vt(),[s,i]=c.useState(""),[u,o]=c.useState("error"),[m,p]=c.useState(!1),f=c.useMemo(()=>{const b=n.get("redirect");return b&&b.startsWith("/")?b:"/"},[n]),y=n.get("mode")==="signup"?"signup":"login";c.useEffect(()=>{e&&l(f,{replace:!0})},[e,f,l]);function v(b){a(k=>{const g=new URLSearchParams(k);return b==="signup"?g.set("mode","signup"):g.delete("mode"),f&&f!=="/"?g.set("redirect",f):g.delete("redirect"),g})}async function _(b){if(b.preventDefault(),m)return;const k=new FormData(b.currentTarget),g=String(k.get("email")||"").trim(),d=String(k.get("password")||"");if(!g||!d){o("error"),i("Please provide both email and password.");return}p(!0),i("");try{y==="signup"?await $h(g,d):await zh(g,d),qi("in"),await t(),l(f,{replace:!0})}catch(h){o("error"),i((h==null?void 0:h.message)||"Unable to complete request.")}finally{p(!1)}}return r.createElement("div",{className:"page"},r.createElement("div",{className:"page-box page-box--narrow auth-page"},r.createElement("header",{className:"auth-page__header"},r.createElement("h1",null,y==="signup"?"Create your account":"Welcome back"),r.createElement("p",{className:"muted"},y==="signup"?"Register as a customer to purchase tickets and manage your visits.":"Sign in with the email and password you used when creating your account.")),r.createElement("form",{className:"auth-form",onSubmit:_},s&&r.createElement("div",{className:`alert ${u==="error"?"error":"info"}`},s),r.createElement("label",{className:"field"},r.createElement("span",null,"Email"),r.createElement("input",{className:"input",name:"email",type:"email",autoComplete:"email",required:!0,placeholder:"you@example.com"})),r.createElement("label",{className:"field"},r.createElement("span",null,"Password"),r.createElement("input",{className:"input",name:"password",type:"password",autoComplete:y==="signup"?"new-password":"current-password",minLength:6,required:!0})),r.createElement("button",{className:"btn primary w-full",type:"submit",disabled:m},m?"Please wait...":y==="signup"?"Sign Up":"Sign In")),r.createElement("footer",{className:"auth-page__footer"},y==="signup"?r.createElement("p",null,"Already have an account?"," ",r.createElement("button",{type:"button",className:"link-button",onClick:()=>v("login")},"Sign in")):r.createElement("p",null,"New here?"," ",r.createElement("button",{type:"button",className:"link-button",onClick:()=>v("signup")},"Create an account")),r.createElement("p",{className:"auth-page__back"},r.createElement(Tr,{to:f&&f!=="/"?f:"/"},"<"," Back to site")))))}function jy(){const{user:e}=ze(),t=(e==null?void 0:e.role)==="employee",[n,a]=c.useState([]),[l,s]=c.useState(!0),[i,u]=c.useState("");c.useEffect(()=>{let m=!0;async function p(){s(!0),u("");try{const f=await j("/schedules");if(!m)return;a(Array.isArray(f==null?void 0:f.data)?f.data:(f==null?void 0:f.schedules)||[])}catch(f){if(!m)return;u((f==null?void 0:f.message)||"Unable to load schedule."),a([])}finally{m&&s(!1)}}return p(),()=>{m=!1}},[]);const o=c.useMemo(()=>n.map(m=>({id:m.ScheduleID??m.id,date:m.Shift_date??m.shiftDate??"",start:m.Start_time??m.startTime??"",end:m.End_time??m.endTime??"",attraction:m.attraction_name??m.attractionName??"",attractionId:m.AttractionID??m.attractionId??m.attractionID??null,notes:m.notes||""})).sort((m,p)=>(m.date||"").localeCompare(p.date||"")||(m.start||"").localeCompare(p.start||"")),[n]);return r.createElement("div",{className:"page"},r.createElement("div",{className:"panel"},r.createElement("h2",{style:{marginTop:0}},"My Schedule"),r.createElement("p",{className:"muted"},"Review your upcoming shifts and notes from your manager."),l&&r.createElement("div",{className:"text-sm text-gray-600"},"Loading schedule..."),!l&&i&&r.createElement("div",{className:"alert error"},i),!l&&!i&&o.length===0&&r.createElement("div",{className:"text-sm text-gray-600"},"No shifts have been assigned yet."),!l&&!i&&o.length>0&&r.createElement("div",{className:"table-wrapper",style:{overflowX:"auto"}},r.createElement("table",{style:{width:"100%",borderCollapse:"collapse"}},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",{style:ca},"Date"),r.createElement("th",{style:ca},"Start"),r.createElement("th",{style:ca},"End"),r.createElement("th",{style:ca},"Attraction"),r.createElement("th",{style:ca},"Notes"))),r.createElement("tbody",null,o.map(m=>r.createElement("tr",{key:m.id||`${m.date}-${m.start}`},r.createElement("td",{style:ma},m.date||"--"),r.createElement("td",{style:ma},m.start||"--"),r.createElement("td",{style:ma},m.end||"--"),r.createElement("td",{style:ma},m.attraction||"Unassigned"),r.createElement("td",{style:ma},m.notes||""))))))),r.createElement(Vy,{shifts:o,disabled:!o.length,isEmployee:t}))}function Vy({shifts:e,disabled:t,isEmployee:n}){const a=c.useMemo(()=>(e||[]).filter(S=>S.attractionId&&S.date).map(S=>({id:S.id||`${S.attractionId}-${S.date}-${S.start}`,label:`${S.date}  ${S.attraction||"Attraction"}`,date:S.date,attractionId:S.attractionId})),[e]),[l,s]=c.useState(()=>{var S;return((S=a[0])==null?void 0:S.id)||""}),i=a.find(S=>S.id===l)||a[0]||null,[u,o]=c.useState((i==null?void 0:i.date)||""),[m,p]=c.useState(""),[f,y]=c.useState(!1),[v,_]=c.useState(""),[b,k]=c.useState([]),[g,d]=c.useState(!0),[h,N]=c.useState(""),[C,E]=c.useState(0);if(c.useEffect(()=>{var S;s(((S=a[0])==null?void 0:S.id)||"")},[a]),c.useEffect(()=>{o((i==null?void 0:i.date)||"")},[i]),c.useEffect(()=>{let S=!0;async function D(){if(!(i!=null&&i.attractionId)){k([]),d(!1),N("");return}d(!0),N("");try{const T=new URLSearchParams;T.set("limit","8"),T.set("attractionId",String(i.attractionId));const I=await j(`/ride-log?${T.toString()}`);if(!S)return;k(Array.isArray(I==null?void 0:I.data)?I.data:[])}catch(T){if(!S)return;k([]),N((T==null?void 0:T.message)||"Unable to load recent logs.")}finally{S&&d(!1)}}return d(!0),D(),()=>{S=!1}},[i==null?void 0:i.attractionId,C]),t||a.length===0)return r.createElement("div",{className:"panel"},r.createElement("h3",{style:{marginTop:0}},"Log Riders"),r.createElement("p",{className:"muted"},"Assigned shifts will show up here so you can record rider counts."));async function x(S){if(S.preventDefault(),!i){_("Select a shift to log riders.");return}const D=Number(m);if(!Number.isFinite(D)||D<0){_("Enter a non-negative rider count.");return}y(!0),_("");try{await j("/ride-log",{method:"POST",body:JSON.stringify({attractionId:i.attractionId,logDate:u||i.date,ridersCount:D})}),_("Rider count saved."),p(""),E(T=>T+1)}catch(T){_((T==null?void 0:T.message)||"Unable to log riders.")}finally{y(!1)}}return r.createElement("div",{className:"panel"},r.createElement("h3",{style:{marginTop:0}},"Log Riders"),r.createElement("p",{className:"muted"},"Record how many guests rode your assigned attraction for the selected shift."),r.createElement("form",{onSubmit:x,style:{display:"grid",gap:12}},r.createElement("label",{className:"field"},r.createElement("span",null,"Shift"),r.createElement("select",{className:"select",value:l,onChange:S=>s(S.target.value)},a.map(S=>r.createElement("option",{key:S.id,value:S.id},S.label)))),r.createElement("label",{className:"field"},r.createElement("span",null,"Date"),r.createElement("input",{className:"input",type:"date",value:u,onChange:S=>o(S.target.value),disabled:n})),r.createElement("label",{className:"field"},r.createElement("span",null,"Riders"),r.createElement("input",{className:"input",type:"number",min:"0",step:"1",value:m,onChange:S=>p(S.target.value),placeholder:"e.g. 850"})),r.createElement("div",{style:{display:"flex",gap:8,alignItems:"center"}},r.createElement("button",{className:"btn primary",type:"submit",disabled:f},f?"Saving...":"Save Rider Count"),v&&r.createElement("span",{className:"text-sm text-gray-700"},v))),r.createElement("div",{style:{marginTop:16}},r.createElement("h4",{style:{marginBottom:8}},"Recent entries"),g&&r.createElement("div",{className:"text-sm text-gray-600"},"Loading history..."),!g&&h&&r.createElement("div",{className:"alert error"},h),!g&&!h&&b.length===0&&r.createElement("div",{className:"text-sm text-gray-600"},"No rider logs yet for this attraction."),!g&&!h&&b.length>0&&r.createElement("ul",{style:{listStyle:"none",padding:0,margin:0,display:"grid",gap:6}},b.map(S=>{const D=Number(S.riders_count??S.ridersCount??0);return r.createElement("li",{key:`${S.AttractionID}-${S.log_date}`},r.createElement("div",{className:"text-sm font-medium"},S.log_date,"  ",D.toLocaleString()," riders"),r.createElement("div",{className:"text-xs text-gray-500"},S.attraction_name))}))))}const ca={textAlign:"left",padding:"8px",borderBottom:"1px solid #e2e8f0",fontSize:"0.85rem",textTransform:"uppercase",letterSpacing:".08em"},ma={padding:"8px",borderBottom:"1px solid #f1f5f9",fontSize:"0.95rem"};function Wy(){return r.createElement(yl,{roles:["employee","manager","admin","owner"],fallback:r.createElement("div",{className:"page"},r.createElement("div",{className:"panel"},"Only staff members can view schedules."))},r.createElement(jy,null))}function Hy(){const{user:e}=ze(),t=!e||e.role==="customer",[n,a]=c.useState({themes:[],rides:[]}),[l,s]=c.useState(!0),[i,u]=c.useState("");return c.useEffect(()=>{if(!t){a({themes:[],rides:[]}),s(!1),u("");return}let o=!0;return s(!0),fetch("http://localhost:5175/ride-library").then(m=>m.ok?m.json():Promise.reject(new Error("Failed to load rides"))).then(m=>{o&&(a((m==null?void 0:m.data)||{themes:[],rides:[]}),u(""))}).catch(m=>{o&&(u((m==null?void 0:m.message)||"Unable to load ride data."),a({themes:[],rides:[]}))}).finally(()=>o&&s(!1)),()=>{o=!1}},[t]),r.createElement(jh,null,r.createElement("div",{className:"min-h-screen bg-gray-50"},t?r.createElement(r.Fragment,null,r.createElement(Qh,{themes:n.themes}),r.createElement(Qy,{rideLibrary:n,libraryLoading:l,libraryError:i})):r.createElement(qy,null)))}function Qy({rideLibrary:e,libraryLoading:t,libraryError:n}){return r.createElement(Wi,null,r.createElement(ie,{path:"/",element:r.createElement(Ky,null)}),r.createElement(ie,{path:"/ticket-passes",element:r.createElement(hr,{filter:"all"})}),r.createElement(ie,{path:"/ticket-passes/day-tickets",element:r.createElement(hr,{filter:"day"})}),r.createElement(ie,{path:"/ticket-passes/annual-passes",element:r.createElement(hr,{filter:"annual"})}),r.createElement(ie,{path:"/ticket-passes/birthday-package",element:r.createElement(hr,{filter:"birthday"})}),r.createElement(ie,{path:"/things-to-do/rides-attractions",element:r.createElement(Uy,{library:e,loading:t,error:n})}),r.createElement(ie,{path:"/things-to-do/dining",element:r.createElement(Jh,null)}),r.createElement(ie,{path:"/things-to-do/shopping",element:r.createElement(Gh,null)}),r.createElement(ie,{path:"/theme/:slug",element:r.createElement(Oy,null)}),r.createElement(ie,{path:"/login",element:r.createElement(By,null)}),r.createElement(ie,{path:"/account",element:r.createElement(rd,null)}),r.createElement(ie,{path:"*",element:r.createElement(mn,{to:"/",replace:!0})}))}function Ky(){const{user:e,loading:t}=ze();return t?r.createElement("div",{className:"page"},r.createElement("div",{className:"panel"},"Loading your experience...")):!e||e.role==="customer"?r.createElement(qh,null):r.createElement(mn,{to:ld(e.role),replace:!0})}function qy(){const{user:e,loading:t}=ze(),n=gt(),a=ld(e==null?void 0:e.role);return t&&!e?r.createElement("div",{className:"page"},r.createElement("div",{className:"panel"},"Loading your experience...")):r.createElement(r.Fragment,null,r.createElement(Jy,{currentPath:n.pathname}),r.createElement(Wi,null,r.createElement(ie,{path:"/",element:r.createElement(mn,{to:a,replace:!0})}),r.createElement(ie,{path:"/schedule",element:r.createElement(Wy,null)}),r.createElement(ie,{path:"/reports",element:r.createElement(Cy,null)}),r.createElement(ie,{path:"/manager",element:r.createElement(Iy,null)}),r.createElement(ie,{path:"/maintenance",element:r.createElement(yl,{roles:["manager","admin","owner"],fallback:r.createElement("div",{className:"page"},r.createElement("div",{className:"panel"},"Managers or higher only."))},r.createElement(td,null))}),r.createElement(ie,{path:"/admin/*",element:r.createElement(py,null)}),r.createElement(ie,{path:"/account",element:r.createElement(rd,null)}),r.createElement(ie,{path:"/login",element:r.createElement(mn,{to:a,replace:!0})}),r.createElement(ie,{path:"*",element:r.createElement(mn,{to:a,replace:!0})})))}const Gy=[{label:"Schedule",path:"/schedule",roles:["employee","manager"]},{label:"Reports",path:"/reports",roles:["employee","manager","admin","owner"]},{label:"Manager",path:"/manager",roles:["manager"]},{label:"Maintenance",path:"/maintenance",roles:["manager"]},{label:"Admin",path:"/admin",roles:["admin","owner"]}];function Jy({currentPath:e}){const{user:t,signOut:n}=ze(),a=vt(),l=(t==null?void 0:t.role)??"",{authToast:s,dismissToast:i}=ed(t),u=c.useMemo(()=>{const p=Gy.filter(f=>!f.roles||f.roles.includes(l));return l==="admin"||l==="owner"?p.filter(f=>f.path==="/reports"||f.path.startsWith("/admin")):p},[l]),o=p=>e===p||e.startsWith(`${p}/`);function m(){qi("out"),n(),a("/",{replace:!0})}return r.createElement(r.Fragment,null,r.createElement("header",{className:"nav-shell"},r.createElement("div",{className:"nav-bar"},r.createElement("div",{className:"nav-left"},r.createElement("button",{className:"nav-brand",type:"button",onClick:()=>a("/")},"Time Jump Staff"),r.createElement("span",{className:"nav-role-pill"},l?l.toUpperCase():"STAFF")),r.createElement("nav",{className:"nav-links"},r.createElement("div",{className:"nav-staff"},u.map(p=>r.createElement("button",{key:p.path,className:`nav-link nav-link--staff ${o(p.path)?"nav-link--active":""}`,onClick:()=>a(p.path)},p.label))),r.createElement("div",{className:"nav-auth"},r.createElement("button",{className:"nav-account",onClick:()=>a("/account")},"Account"),r.createElement("button",{className:"btn primary",onClick:m},"Sign Out"))))),r.createElement(Zm,{toast:s,onDismiss:i}))}function ld(e){return e==="admin"||e==="owner"?"/admin":e==="manager"?"/manager":"/schedule"}console.log("[main] loaded");const Yy=document.getElementById("root");Yy?zm(document.getElementById("root")).render(r.createElement(r.StrictMode,null,r.createElement(Lh,null,r.createElement(Bh,null,r.createElement(Hy,null))))):document.body.innerHTML='<pre style="color:red">#root not found in index.html</pre>';
