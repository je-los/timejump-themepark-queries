function gd(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const l in a)if(l!=="default"&&!(l in e)){const s=Object.getOwnPropertyDescriptor(a,l);s&&Object.defineProperty(e,l,s.get?s:{enumerable:!0,get:()=>a[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function vd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zu={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qa=Symbol.for("react.element"),Ed=Symbol.for("react.portal"),Sd=Symbol.for("react.fragment"),Nd=Symbol.for("react.strict_mode"),kd=Symbol.for("react.profiler"),wd=Symbol.for("react.provider"),bd=Symbol.for("react.context"),_d=Symbol.for("react.forward_ref"),Cd=Symbol.for("react.suspense"),xd=Symbol.for("react.memo"),Td=Symbol.for("react.lazy"),ao=Symbol.iterator;function Dd(e){return e===null||typeof e!="object"?null:(e=ao&&e[ao]||e["@@iterator"],typeof e=="function"?e:null)}var Bu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ju=Object.assign,Vu={};function Xn(e,t,n){this.props=e,this.context=t,this.refs=Vu,this.updater=n||Bu}Xn.prototype.isReactComponent={};Xn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Wu(){}Wu.prototype=Xn.prototype;function ei(e,t,n){this.props=e,this.context=t,this.refs=Vu,this.updater=n||Bu}var ti=ei.prototype=new Wu;ti.constructor=ei;ju(ti,Xn.prototype);ti.isPureReactComponent=!0;var ro=Array.isArray,Hu=Object.prototype.hasOwnProperty,ni={current:null},Qu={key:!0,ref:!0,__self:!0,__source:!0};function qu(e,t,n){var a,l={},s=null,i=null;if(t!=null)for(a in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)Hu.call(t,a)&&!Qu.hasOwnProperty(a)&&(l[a]=t[a]);var u=arguments.length-2;if(u===1)l.children=n;else if(1<u){for(var o=Array(u),m=0;m<u;m++)o[m]=arguments[m+2];l.children=o}if(e&&e.defaultProps)for(a in u=e.defaultProps,u)l[a]===void 0&&(l[a]=u[a]);return{$$typeof:Qa,type:e,key:s,ref:i,props:l,_owner:ni.current}}function Pd(e,t){return{$$typeof:Qa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ai(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qa}function Id(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var lo=/\/+/g;function Nl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Id(""+e.key):t.toString(36)}function Sr(e,t,n,a,l){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Qa:case Ed:i=!0}}if(i)return i=e,l=l(i),e=a===""?"."+Nl(i,0):a,ro(l)?(n="",e!=null&&(n=e.replace(lo,"$&/")+"/"),Sr(l,t,n,"",function(m){return m})):l!=null&&(ai(l)&&(l=Pd(l,n+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(lo,"$&/")+"/")+e)),t.push(l)),1;if(i=0,a=a===""?".":a+":",ro(e))for(var u=0;u<e.length;u++){s=e[u];var o=a+Nl(s,u);i+=Sr(s,t,n,o,l)}else if(o=Dd(e),typeof o=="function")for(e=o.call(e),u=0;!(s=e.next()).done;)s=s.value,o=a+Nl(s,u++),i+=Sr(s,t,n,o,l);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Za(e,t,n){if(e==null)return e;var a=[],l=0;return Sr(e,a,"","",function(s){return t.call(n,s,l++)}),a}function Ld(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var je={current:null},Nr={transition:null},Rd={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:Nr,ReactCurrentOwner:ni};function Ju(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:Za,forEach:function(e,t,n){Za(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Za(e,function(){t++}),t},toArray:function(e){return Za(e,function(t){return t})||[]},only:function(e){if(!ai(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};oe.Component=Xn;oe.Fragment=Sd;oe.Profiler=kd;oe.PureComponent=ei;oe.StrictMode=Nd;oe.Suspense=Cd;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rd;oe.act=Ju;oe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=ju({},e.props),l=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=ni.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(o in t)Hu.call(t,o)&&!Qu.hasOwnProperty(o)&&(a[o]=t[o]===void 0&&u!==void 0?u[o]:t[o])}var o=arguments.length-2;if(o===1)a.children=n;else if(1<o){u=Array(o);for(var m=0;m<o;m++)u[m]=arguments[m+2];a.children=u}return{$$typeof:Qa,type:e.type,key:l,ref:s,props:a,_owner:i}};oe.createContext=function(e){return e={$$typeof:bd,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:wd,_context:e},e.Consumer=e};oe.createElement=qu;oe.createFactory=function(e){var t=qu.bind(null,e);return t.type=e,t};oe.createRef=function(){return{current:null}};oe.forwardRef=function(e){return{$$typeof:_d,render:e}};oe.isValidElement=ai;oe.lazy=function(e){return{$$typeof:Td,_payload:{_status:-1,_result:e},_init:Ld}};oe.memo=function(e,t){return{$$typeof:xd,type:e,compare:t===void 0?null:t}};oe.startTransition=function(e){var t=Nr.transition;Nr.transition={};try{e()}finally{Nr.transition=t}};oe.unstable_act=Ju;oe.useCallback=function(e,t){return je.current.useCallback(e,t)};oe.useContext=function(e){return je.current.useContext(e)};oe.useDebugValue=function(){};oe.useDeferredValue=function(e){return je.current.useDeferredValue(e)};oe.useEffect=function(e,t){return je.current.useEffect(e,t)};oe.useId=function(){return je.current.useId()};oe.useImperativeHandle=function(e,t,n){return je.current.useImperativeHandle(e,t,n)};oe.useInsertionEffect=function(e,t){return je.current.useInsertionEffect(e,t)};oe.useLayoutEffect=function(e,t){return je.current.useLayoutEffect(e,t)};oe.useMemo=function(e,t){return je.current.useMemo(e,t)};oe.useReducer=function(e,t,n){return je.current.useReducer(e,t,n)};oe.useRef=function(e){return je.current.useRef(e)};oe.useState=function(e){return je.current.useState(e)};oe.useSyncExternalStore=function(e,t,n){return je.current.useSyncExternalStore(e,t,n)};oe.useTransition=function(){return je.current.useTransition()};oe.version="18.3.1";zu.exports=oe;var c=zu.exports;const r=vd(c),Ad=gd({__proto__:null,default:r},[c]);var Ku={exports:{}},nt={},Yu={exports:{}},Gu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,q){var K=F.length;F.push(q);e:for(;0<K;){var N=K-1>>>1,I=F[N];if(0<l(I,q))F[N]=q,F[K]=I,K=N;else break e}}function n(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var q=F[0],K=F.pop();if(K!==q){F[0]=K;e:for(var N=0,I=F.length,X=I>>>1;N<X;){var G=2*(N+1)-1,se=F[G],ne=G+1,ie=F[ne];if(0>l(se,K))ne<I&&0>l(ie,se)?(F[N]=ie,F[ne]=K,N=ne):(F[N]=se,F[G]=K,N=G);else if(ne<I&&0>l(ie,K))F[N]=ie,F[ne]=K,N=ne;else break e}}return q}function l(F,q){var K=F.sortIndex-q.sortIndex;return K!==0?K:F.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,u=i.now();e.unstable_now=function(){return i.now()-u}}var o=[],m=[],f=1,p=null,h=3,v=!1,S=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(F){for(var q=n(m);q!==null;){if(q.callback===null)a(m);else if(q.startTime<=F)a(m),q.sortIndex=q.expirationTime,t(o,q);else break;q=n(m)}}function w(F){if(_=!1,y(F),!S)if(n(o)!==null)S=!0,Q(T);else{var q=n(m);q!==null&&ae(w,q.startTime-F)}}function T(F,q){S=!1,_&&(_=!1,g(x),x=-1),v=!0;var K=h;try{for(y(q),p=n(o);p!==null&&(!(p.expirationTime>q)||F&&!P());){var N=p.callback;if(typeof N=="function"){p.callback=null,h=p.priorityLevel;var I=N(p.expirationTime<=q);q=e.unstable_now(),typeof I=="function"?p.callback=I:p===n(o)&&a(o),y(q)}else a(o);p=n(o)}if(p!==null)var X=!0;else{var G=n(m);G!==null&&ae(w,G.startTime-q),X=!1}return X}finally{p=null,h=K,v=!1}}var D=!1,C=null,x=-1,$=5,A=-1;function P(){return!(e.unstable_now()-A<$)}function R(){if(C!==null){var F=e.unstable_now();A=F;var q=!0;try{q=C(!0,F)}finally{q?z():(D=!1,C=null)}}else D=!1}var z;if(typeof d=="function")z=function(){d(R)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,U=L.port2;L.port1.onmessage=R,z=function(){U.postMessage(null)}}else z=function(){E(R,0)};function Q(F){C=F,D||(D=!0,z())}function ae(F,q){x=E(function(){F(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){S||v||(S=!0,Q(T))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(o)},e.unstable_next=function(F){switch(h){case 1:case 2:case 3:var q=3;break;default:q=h}var K=h;h=q;try{return F()}finally{h=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,q){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var K=h;h=F;try{return q()}finally{h=K}},e.unstable_scheduleCallback=function(F,q,K){var N=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?N+K:N):K=N,F){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=K+I,F={id:f++,callback:q,priorityLevel:F,startTime:K,expirationTime:I,sortIndex:-1},K>N?(F.sortIndex=K,t(m,F),n(o)===null&&F===n(m)&&(_?(g(x),x=-1):_=!0,ae(w,K-N))):(F.sortIndex=I,t(o,F),S||v||(S=!0,Q(T))),F},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(F){var q=h;return function(){var K=h;h=q;try{return F.apply(this,arguments)}finally{h=K}}}})(Gu);Yu.exports=Gu;var Md=Yu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Od=c,tt=Md;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xu=new Set,Ca={};function wn(e,t){Hn(e,t),Hn(e+"Capture",t)}function Hn(e,t){for(Ca[e]=t,e=0;e<t.length;e++)Xu.add(t[e])}var It=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ns=Object.prototype.hasOwnProperty,Ud=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,so={},io={};function Fd(e){return ns.call(io,e)?!0:ns.call(so,e)?!1:Ud.test(e)?io[e]=!0:(so[e]=!0,!1)}function $d(e,t,n,a){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function zd(e,t,n,a){if(t===null||typeof t>"u"||$d(e,t,n,a))return!0;if(a)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ve(e,t,n,a,l,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var Ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ae[e]=new Ve(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ae[t]=new Ve(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ae[e]=new Ve(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ae[e]=new Ve(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ae[e]=new Ve(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ae[e]=new Ve(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ae[e]=new Ve(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ae[e]=new Ve(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ae[e]=new Ve(e,5,!1,e.toLowerCase(),null,!1,!1)});var ri=/[\-:]([a-z])/g;function li(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ri,li);Ae[t]=new Ve(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ri,li);Ae[t]=new Ve(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ri,li);Ae[t]=new Ve(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ae[e]=new Ve(e,1,!1,e.toLowerCase(),null,!1,!1)});Ae.xlinkHref=new Ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ae[e]=new Ve(e,1,!1,e.toLowerCase(),null,!0,!0)});function si(e,t,n,a){var l=Ae.hasOwnProperty(t)?Ae[t]:null;(l!==null?l.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(zd(t,n,l,a)&&(n=null),a||l===null?Fd(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,a=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}var Mt=Od.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,er=Symbol.for("react.element"),Cn=Symbol.for("react.portal"),xn=Symbol.for("react.fragment"),ii=Symbol.for("react.strict_mode"),as=Symbol.for("react.profiler"),Zu=Symbol.for("react.provider"),ec=Symbol.for("react.context"),oi=Symbol.for("react.forward_ref"),rs=Symbol.for("react.suspense"),ls=Symbol.for("react.suspense_list"),ui=Symbol.for("react.memo"),Ft=Symbol.for("react.lazy"),tc=Symbol.for("react.offscreen"),oo=Symbol.iterator;function aa(e){return e===null||typeof e!="object"?null:(e=oo&&e[oo]||e["@@iterator"],typeof e=="function"?e:null)}var Ne=Object.assign,kl;function fa(e){if(kl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);kl=t&&t[1]||""}return`
`+kl+e}var wl=!1;function bl(e,t){if(!e||wl)return"";wl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var a=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){a=m}e.call(t.prototype)}else{try{throw Error()}catch(m){a=m}e()}}catch(m){if(m&&a&&typeof m.stack=="string"){for(var l=m.stack.split(`
`),s=a.stack.split(`
`),i=l.length-1,u=s.length-1;1<=i&&0<=u&&l[i]!==s[u];)u--;for(;1<=i&&0<=u;i--,u--)if(l[i]!==s[u]){if(i!==1||u!==1)do if(i--,u--,0>u||l[i]!==s[u]){var o=`
`+l[i].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=i&&0<=u);break}}}finally{wl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?fa(e):""}function Bd(e){switch(e.tag){case 5:return fa(e.type);case 16:return fa("Lazy");case 13:return fa("Suspense");case 19:return fa("SuspenseList");case 0:case 2:case 15:return e=bl(e.type,!1),e;case 11:return e=bl(e.type.render,!1),e;case 1:return e=bl(e.type,!0),e;default:return""}}function ss(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xn:return"Fragment";case Cn:return"Portal";case as:return"Profiler";case ii:return"StrictMode";case rs:return"Suspense";case ls:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ec:return(e.displayName||"Context")+".Consumer";case Zu:return(e._context.displayName||"Context")+".Provider";case oi:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ui:return t=e.displayName||null,t!==null?t:ss(e.type)||"Memo";case Ft:t=e._payload,e=e._init;try{return ss(e(t))}catch{}}return null}function jd(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ss(t);case 8:return t===ii?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function en(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Vd(e){var t=nc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){a=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(i){a=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function tr(e){e._valueTracker||(e._valueTracker=Vd(e))}function ac(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=nc(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Rr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function is(e,t){var n=t.checked;return Ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function uo(e,t){var n=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;n=en(t.value!=null?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function rc(e,t){t=t.checked,t!=null&&si(e,"checked",t,!1)}function os(e,t){rc(e,t);var n=en(t.value),a=t.type;if(n!=null)a==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?us(e,t.type,n):t.hasOwnProperty("defaultValue")&&us(e,t.type,en(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function co(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function us(e,t,n){(t!=="number"||Rr(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var pa=Array.isArray;function Fn(e,t,n,a){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&a&&(e[n].defaultSelected=!0)}else{for(n=""+en(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,a&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function cs(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function mo(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(B(92));if(pa(n)){if(1<n.length)throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:en(n)}}function lc(e,t){var n=en(t.value),a=en(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),a!=null&&(e.defaultValue=""+a)}function fo(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function sc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ms(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?sc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var nr,ic=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,a,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,a,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(nr=nr||document.createElement("div"),nr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=nr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ga={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wd=["Webkit","ms","Moz","O"];Object.keys(ga).forEach(function(e){Wd.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ga[t]=ga[e]})});function oc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ga.hasOwnProperty(e)&&ga[e]?(""+t).trim():t+"px"}function uc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var a=n.indexOf("--")===0,l=oc(n,t[n],a);n==="float"&&(n="cssFloat"),a?e.setProperty(n,l):e[n]=l}}var Hd=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ds(e,t){if(t){if(Hd[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function fs(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ps=null;function ci(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hs=null,$n=null,zn=null;function po(e){if(e=Ka(e)){if(typeof hs!="function")throw Error(B(280));var t=e.stateNode;t&&(t=ol(t),hs(e.stateNode,e.type,t))}}function cc(e){$n?zn?zn.push(e):zn=[e]:$n=e}function mc(){if($n){var e=$n,t=zn;if(zn=$n=null,po(e),t)for(e=0;e<t.length;e++)po(t[e])}}function dc(e,t){return e(t)}function fc(){}var _l=!1;function pc(e,t,n){if(_l)return e(t,n);_l=!0;try{return dc(e,t,n)}finally{_l=!1,($n!==null||zn!==null)&&(fc(),mc())}}function Ta(e,t){var n=e.stateNode;if(n===null)return null;var a=ol(n);if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var ys=!1;if(It)try{var ra={};Object.defineProperty(ra,"passive",{get:function(){ys=!0}}),window.addEventListener("test",ra,ra),window.removeEventListener("test",ra,ra)}catch{ys=!1}function Qd(e,t,n,a,l,s,i,u,o){var m=Array.prototype.slice.call(arguments,3);try{t.apply(n,m)}catch(f){this.onError(f)}}var va=!1,Ar=null,Mr=!1,gs=null,qd={onError:function(e){va=!0,Ar=e}};function Jd(e,t,n,a,l,s,i,u,o){va=!1,Ar=null,Qd.apply(qd,arguments)}function Kd(e,t,n,a,l,s,i,u,o){if(Jd.apply(this,arguments),va){if(va){var m=Ar;va=!1,Ar=null}else throw Error(B(198));Mr||(Mr=!0,gs=m)}}function bn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function hc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ho(e){if(bn(e)!==e)throw Error(B(188))}function Yd(e){var t=e.alternate;if(!t){if(t=bn(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,a=t;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(a=l.return,a!==null){n=a;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return ho(l),e;if(s===a)return ho(l),t;s=s.sibling}throw Error(B(188))}if(n.return!==a.return)n=l,a=s;else{for(var i=!1,u=l.child;u;){if(u===n){i=!0,n=l,a=s;break}if(u===a){i=!0,a=l,n=s;break}u=u.sibling}if(!i){for(u=s.child;u;){if(u===n){i=!0,n=s,a=l;break}if(u===a){i=!0,a=s,n=l;break}u=u.sibling}if(!i)throw Error(B(189))}}if(n.alternate!==a)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function yc(e){return e=Yd(e),e!==null?gc(e):null}function gc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gc(e);if(t!==null)return t;e=e.sibling}return null}var vc=tt.unstable_scheduleCallback,yo=tt.unstable_cancelCallback,Gd=tt.unstable_shouldYield,Xd=tt.unstable_requestPaint,_e=tt.unstable_now,Zd=tt.unstable_getCurrentPriorityLevel,mi=tt.unstable_ImmediatePriority,Ec=tt.unstable_UserBlockingPriority,Or=tt.unstable_NormalPriority,ef=tt.unstable_LowPriority,Sc=tt.unstable_IdlePriority,rl=null,St=null;function tf(e){if(St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(rl,e,void 0,(e.current.flags&128)===128)}catch{}}var pt=Math.clz32?Math.clz32:rf,nf=Math.log,af=Math.LN2;function rf(e){return e>>>=0,e===0?32:31-(nf(e)/af|0)|0}var ar=64,rr=4194304;function ha(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ur(e,t){var n=e.pendingLanes;if(n===0)return 0;var a=0,l=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var u=i&~l;u!==0?a=ha(u):(s&=i,s!==0&&(a=ha(s)))}else i=n&~l,i!==0?a=ha(i):s!==0&&(a=ha(s));if(a===0)return 0;if(t!==0&&t!==a&&!(t&l)&&(l=a&-a,s=t&-t,l>=s||l===16&&(s&4194240)!==0))return t;if(a&4&&(a|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)n=31-pt(t),l=1<<n,a|=e[n],t&=~l;return a}function lf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sf(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,l=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-pt(s),u=1<<i,o=l[i];o===-1?(!(u&n)||u&a)&&(l[i]=lf(u,t)):o<=t&&(e.expiredLanes|=u),s&=~u}}function vs(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Nc(){var e=ar;return ar<<=1,!(ar&4194240)&&(ar=64),e}function Cl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pt(t),e[t]=n}function of(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-pt(n),s=1<<l;t[l]=0,a[l]=-1,e[l]=-1,n&=~s}}function di(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-pt(n),l=1<<a;l&t|e[a]&t&&(e[a]|=t),n&=~l}}var de=0;function kc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var wc,fi,bc,_c,Cc,Es=!1,lr=[],Ht=null,Qt=null,qt=null,Da=new Map,Pa=new Map,zt=[],uf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function go(e,t){switch(e){case"focusin":case"focusout":Ht=null;break;case"dragenter":case"dragleave":Qt=null;break;case"mouseover":case"mouseout":qt=null;break;case"pointerover":case"pointerout":Da.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pa.delete(t.pointerId)}}function la(e,t,n,a,l,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[l]},t!==null&&(t=Ka(t),t!==null&&fi(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function cf(e,t,n,a,l){switch(t){case"focusin":return Ht=la(Ht,e,t,n,a,l),!0;case"dragenter":return Qt=la(Qt,e,t,n,a,l),!0;case"mouseover":return qt=la(qt,e,t,n,a,l),!0;case"pointerover":var s=l.pointerId;return Da.set(s,la(Da.get(s)||null,e,t,n,a,l)),!0;case"gotpointercapture":return s=l.pointerId,Pa.set(s,la(Pa.get(s)||null,e,t,n,a,l)),!0}return!1}function xc(e){var t=dn(e.target);if(t!==null){var n=bn(t);if(n!==null){if(t=n.tag,t===13){if(t=hc(n),t!==null){e.blockedOn=t,Cc(e.priority,function(){bc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ss(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);ps=a,n.target.dispatchEvent(a),ps=null}else return t=Ka(n),t!==null&&fi(t),e.blockedOn=n,!1;t.shift()}return!0}function vo(e,t,n){kr(e)&&n.delete(t)}function mf(){Es=!1,Ht!==null&&kr(Ht)&&(Ht=null),Qt!==null&&kr(Qt)&&(Qt=null),qt!==null&&kr(qt)&&(qt=null),Da.forEach(vo),Pa.forEach(vo)}function sa(e,t){e.blockedOn===t&&(e.blockedOn=null,Es||(Es=!0,tt.unstable_scheduleCallback(tt.unstable_NormalPriority,mf)))}function Ia(e){function t(l){return sa(l,e)}if(0<lr.length){sa(lr[0],e);for(var n=1;n<lr.length;n++){var a=lr[n];a.blockedOn===e&&(a.blockedOn=null)}}for(Ht!==null&&sa(Ht,e),Qt!==null&&sa(Qt,e),qt!==null&&sa(qt,e),Da.forEach(t),Pa.forEach(t),n=0;n<zt.length;n++)a=zt[n],a.blockedOn===e&&(a.blockedOn=null);for(;0<zt.length&&(n=zt[0],n.blockedOn===null);)xc(n),n.blockedOn===null&&zt.shift()}var Bn=Mt.ReactCurrentBatchConfig,Fr=!0;function df(e,t,n,a){var l=de,s=Bn.transition;Bn.transition=null;try{de=1,pi(e,t,n,a)}finally{de=l,Bn.transition=s}}function ff(e,t,n,a){var l=de,s=Bn.transition;Bn.transition=null;try{de=4,pi(e,t,n,a)}finally{de=l,Bn.transition=s}}function pi(e,t,n,a){if(Fr){var l=Ss(e,t,n,a);if(l===null)Ol(e,t,a,$r,n),go(e,a);else if(cf(l,e,t,n,a))a.stopPropagation();else if(go(e,a),t&4&&-1<uf.indexOf(e)){for(;l!==null;){var s=Ka(l);if(s!==null&&wc(s),s=Ss(e,t,n,a),s===null&&Ol(e,t,a,$r,n),s===l)break;l=s}l!==null&&a.stopPropagation()}else Ol(e,t,a,null,n)}}var $r=null;function Ss(e,t,n,a){if($r=null,e=ci(a),e=dn(e),e!==null)if(t=bn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=hc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $r=e,null}function Tc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zd()){case mi:return 1;case Ec:return 4;case Or:case ef:return 16;case Sc:return 536870912;default:return 16}default:return 16}}var jt=null,hi=null,wr=null;function Dc(){if(wr)return wr;var e,t=hi,n=t.length,a,l="value"in jt?jt.value:jt.textContent,s=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(a=1;a<=i&&t[n-a]===l[s-a];a++);return wr=l.slice(e,1<a?1-a:void 0)}function br(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function sr(){return!0}function Eo(){return!1}function at(e){function t(n,a,l,s,i){this._reactName=n,this._targetInst=l,this.type=a,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sr:Eo,this.isPropagationStopped=Eo,this}return Ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),t}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=at(Zn),Ja=Ne({},Zn,{view:0,detail:0}),pf=at(Ja),xl,Tl,ia,ll=Ne({},Ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ia&&(ia&&e.type==="mousemove"?(xl=e.screenX-ia.screenX,Tl=e.screenY-ia.screenY):Tl=xl=0,ia=e),xl)},movementY:function(e){return"movementY"in e?e.movementY:Tl}}),So=at(ll),hf=Ne({},ll,{dataTransfer:0}),yf=at(hf),gf=Ne({},Ja,{relatedTarget:0}),Dl=at(gf),vf=Ne({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ef=at(vf),Sf=Ne({},Zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nf=at(Sf),kf=Ne({},Zn,{data:0}),No=at(kf),wf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_f={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_f[e])?!!t[e]:!1}function gi(){return Cf}var xf=Ne({},Ja,{key:function(e){if(e.key){var t=wf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=br(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gi,charCode:function(e){return e.type==="keypress"?br(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?br(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tf=at(xf),Df=Ne({},ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ko=at(Df),Pf=Ne({},Ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gi}),If=at(Pf),Lf=Ne({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rf=at(Lf),Af=Ne({},ll,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mf=at(Af),Of=[9,13,27,32],vi=It&&"CompositionEvent"in window,Ea=null;It&&"documentMode"in document&&(Ea=document.documentMode);var Uf=It&&"TextEvent"in window&&!Ea,Pc=It&&(!vi||Ea&&8<Ea&&11>=Ea),wo=" ",bo=!1;function Ic(e,t){switch(e){case"keyup":return Of.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Tn=!1;function Ff(e,t){switch(e){case"compositionend":return Lc(t);case"keypress":return t.which!==32?null:(bo=!0,wo);case"textInput":return e=t.data,e===wo&&bo?null:e;default:return null}}function $f(e,t){if(Tn)return e==="compositionend"||!vi&&Ic(e,t)?(e=Dc(),wr=hi=jt=null,Tn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pc&&t.locale!=="ko"?null:t.data;default:return null}}var zf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _o(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zf[e.type]:t==="textarea"}function Rc(e,t,n,a){cc(a),t=zr(t,"onChange"),0<t.length&&(n=new yi("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Sa=null,La=null;function Bf(e){Wc(e,0)}function sl(e){var t=In(e);if(ac(t))return e}function jf(e,t){if(e==="change")return t}var Ac=!1;if(It){var Pl;if(It){var Il="oninput"in document;if(!Il){var Co=document.createElement("div");Co.setAttribute("oninput","return;"),Il=typeof Co.oninput=="function"}Pl=Il}else Pl=!1;Ac=Pl&&(!document.documentMode||9<document.documentMode)}function xo(){Sa&&(Sa.detachEvent("onpropertychange",Mc),La=Sa=null)}function Mc(e){if(e.propertyName==="value"&&sl(La)){var t=[];Rc(t,La,e,ci(e)),pc(Bf,t)}}function Vf(e,t,n){e==="focusin"?(xo(),Sa=t,La=n,Sa.attachEvent("onpropertychange",Mc)):e==="focusout"&&xo()}function Wf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return sl(La)}function Hf(e,t){if(e==="click")return sl(t)}function Qf(e,t){if(e==="input"||e==="change")return sl(t)}function qf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yt=typeof Object.is=="function"?Object.is:qf;function Ra(e,t){if(yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var l=n[a];if(!ns.call(t,l)||!yt(e[l],t[l]))return!1}return!0}function To(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Do(e,t){var n=To(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=To(n)}}function Oc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Oc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Uc(){for(var e=window,t=Rr();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Rr(e.document)}return t}function Ei(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Jf(e){var t=Uc(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Oc(n.ownerDocument.documentElement,n)){if(a!==null&&Ei(n)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,s=Math.min(a.start,l);a=a.end===void 0?s:Math.min(a.end,l),!e.extend&&s>a&&(l=a,a=s,s=l),l=Do(n,s);var i=Do(n,a);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),s>a?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Kf=It&&"documentMode"in document&&11>=document.documentMode,Dn=null,Ns=null,Na=null,ks=!1;function Po(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ks||Dn==null||Dn!==Rr(a)||(a=Dn,"selectionStart"in a&&Ei(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Na&&Ra(Na,a)||(Na=a,a=zr(Ns,"onSelect"),0<a.length&&(t=new yi("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=Dn)))}function ir(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pn={animationend:ir("Animation","AnimationEnd"),animationiteration:ir("Animation","AnimationIteration"),animationstart:ir("Animation","AnimationStart"),transitionend:ir("Transition","TransitionEnd")},Ll={},Fc={};It&&(Fc=document.createElement("div").style,"AnimationEvent"in window||(delete Pn.animationend.animation,delete Pn.animationiteration.animation,delete Pn.animationstart.animation),"TransitionEvent"in window||delete Pn.transitionend.transition);function il(e){if(Ll[e])return Ll[e];if(!Pn[e])return e;var t=Pn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Fc)return Ll[e]=t[n];return e}var $c=il("animationend"),zc=il("animationiteration"),Bc=il("animationstart"),jc=il("transitionend"),Vc=new Map,Io="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nn(e,t){Vc.set(e,t),wn(t,[e])}for(var Rl=0;Rl<Io.length;Rl++){var Al=Io[Rl],Yf=Al.toLowerCase(),Gf=Al[0].toUpperCase()+Al.slice(1);nn(Yf,"on"+Gf)}nn($c,"onAnimationEnd");nn(zc,"onAnimationIteration");nn(Bc,"onAnimationStart");nn("dblclick","onDoubleClick");nn("focusin","onFocus");nn("focusout","onBlur");nn(jc,"onTransitionEnd");Hn("onMouseEnter",["mouseout","mouseover"]);Hn("onMouseLeave",["mouseout","mouseover"]);Hn("onPointerEnter",["pointerout","pointerover"]);Hn("onPointerLeave",["pointerout","pointerover"]);wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wn("onBeforeInput",["compositionend","keypress","textInput","paste"]);wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ya="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xf=new Set("cancel close invalid load scroll toggle".split(" ").concat(ya));function Lo(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,Kd(a,t,void 0,e),e.currentTarget=null}function Wc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],l=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var i=a.length-1;0<=i;i--){var u=a[i],o=u.instance,m=u.currentTarget;if(u=u.listener,o!==s&&l.isPropagationStopped())break e;Lo(l,u,m),s=o}else for(i=0;i<a.length;i++){if(u=a[i],o=u.instance,m=u.currentTarget,u=u.listener,o!==s&&l.isPropagationStopped())break e;Lo(l,u,m),s=o}}}if(Mr)throw e=gs,Mr=!1,gs=null,e}function he(e,t){var n=t[xs];n===void 0&&(n=t[xs]=new Set);var a=e+"__bubble";n.has(a)||(Hc(t,e,2,!1),n.add(a))}function Ml(e,t,n){var a=0;t&&(a|=4),Hc(n,e,a,t)}var or="_reactListening"+Math.random().toString(36).slice(2);function Aa(e){if(!e[or]){e[or]=!0,Xu.forEach(function(n){n!=="selectionchange"&&(Xf.has(n)||Ml(n,!1,e),Ml(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[or]||(t[or]=!0,Ml("selectionchange",!1,t))}}function Hc(e,t,n,a){switch(Tc(t)){case 1:var l=df;break;case 4:l=ff;break;default:l=pi}n=l.bind(null,t,n,e),l=void 0,!ys||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),a?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Ol(e,t,n,a,l){var s=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var i=a.tag;if(i===3||i===4){var u=a.stateNode.containerInfo;if(u===l||u.nodeType===8&&u.parentNode===l)break;if(i===4)for(i=a.return;i!==null;){var o=i.tag;if((o===3||o===4)&&(o=i.stateNode.containerInfo,o===l||o.nodeType===8&&o.parentNode===l))return;i=i.return}for(;u!==null;){if(i=dn(u),i===null)return;if(o=i.tag,o===5||o===6){a=s=i;continue e}u=u.parentNode}}a=a.return}pc(function(){var m=s,f=ci(n),p=[];e:{var h=Vc.get(e);if(h!==void 0){var v=yi,S=e;switch(e){case"keypress":if(br(n)===0)break e;case"keydown":case"keyup":v=Tf;break;case"focusin":S="focus",v=Dl;break;case"focusout":S="blur",v=Dl;break;case"beforeblur":case"afterblur":v=Dl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=So;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=yf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=If;break;case $c:case zc:case Bc:v=Ef;break;case jc:v=Rf;break;case"scroll":v=pf;break;case"wheel":v=Mf;break;case"copy":case"cut":case"paste":v=Nf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=ko}var _=(t&4)!==0,E=!_&&e==="scroll",g=_?h!==null?h+"Capture":null:h;_=[];for(var d=m,y;d!==null;){y=d;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,g!==null&&(w=Ta(d,g),w!=null&&_.push(Ma(d,w,y)))),E)break;d=d.return}0<_.length&&(h=new v(h,S,null,n,f),p.push({event:h,listeners:_}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&n!==ps&&(S=n.relatedTarget||n.fromElement)&&(dn(S)||S[Lt]))break e;if((v||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,v?(S=n.relatedTarget||n.toElement,v=m,S=S?dn(S):null,S!==null&&(E=bn(S),S!==E||S.tag!==5&&S.tag!==6)&&(S=null)):(v=null,S=m),v!==S)){if(_=So,w="onMouseLeave",g="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(_=ko,w="onPointerLeave",g="onPointerEnter",d="pointer"),E=v==null?h:In(v),y=S==null?h:In(S),h=new _(w,d+"leave",v,n,f),h.target=E,h.relatedTarget=y,w=null,dn(f)===m&&(_=new _(g,d+"enter",S,n,f),_.target=y,_.relatedTarget=E,w=_),E=w,v&&S)t:{for(_=v,g=S,d=0,y=_;y;y=_n(y))d++;for(y=0,w=g;w;w=_n(w))y++;for(;0<d-y;)_=_n(_),d--;for(;0<y-d;)g=_n(g),y--;for(;d--;){if(_===g||g!==null&&_===g.alternate)break t;_=_n(_),g=_n(g)}_=null}else _=null;v!==null&&Ro(p,h,v,_,!1),S!==null&&E!==null&&Ro(p,E,S,_,!0)}}e:{if(h=m?In(m):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var T=jf;else if(_o(h))if(Ac)T=Qf;else{T=Wf;var D=Vf}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=Hf);if(T&&(T=T(e,m))){Rc(p,T,n,f);break e}D&&D(e,h,m),e==="focusout"&&(D=h._wrapperState)&&D.controlled&&h.type==="number"&&us(h,"number",h.value)}switch(D=m?In(m):window,e){case"focusin":(_o(D)||D.contentEditable==="true")&&(Dn=D,Ns=m,Na=null);break;case"focusout":Na=Ns=Dn=null;break;case"mousedown":ks=!0;break;case"contextmenu":case"mouseup":case"dragend":ks=!1,Po(p,n,f);break;case"selectionchange":if(Kf)break;case"keydown":case"keyup":Po(p,n,f)}var C;if(vi)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Tn?Ic(e,n)&&(x="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(Pc&&n.locale!=="ko"&&(Tn||x!=="onCompositionStart"?x==="onCompositionEnd"&&Tn&&(C=Dc()):(jt=f,hi="value"in jt?jt.value:jt.textContent,Tn=!0)),D=zr(m,x),0<D.length&&(x=new No(x,e,null,n,f),p.push({event:x,listeners:D}),C?x.data=C:(C=Lc(n),C!==null&&(x.data=C)))),(C=Uf?Ff(e,n):$f(e,n))&&(m=zr(m,"onBeforeInput"),0<m.length&&(f=new No("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:m}),f.data=C))}Wc(p,t)})}function Ma(e,t,n){return{instance:e,listener:t,currentTarget:n}}function zr(e,t){for(var n=t+"Capture",a=[];e!==null;){var l=e,s=l.stateNode;l.tag===5&&s!==null&&(l=s,s=Ta(e,n),s!=null&&a.unshift(Ma(e,s,l)),s=Ta(e,t),s!=null&&a.push(Ma(e,s,l))),e=e.return}return a}function _n(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ro(e,t,n,a,l){for(var s=t._reactName,i=[];n!==null&&n!==a;){var u=n,o=u.alternate,m=u.stateNode;if(o!==null&&o===a)break;u.tag===5&&m!==null&&(u=m,l?(o=Ta(n,s),o!=null&&i.unshift(Ma(n,o,u))):l||(o=Ta(n,s),o!=null&&i.push(Ma(n,o,u)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Zf=/\r\n?/g,ep=/\u0000|\uFFFD/g;function Ao(e){return(typeof e=="string"?e:""+e).replace(Zf,`
`).replace(ep,"")}function ur(e,t,n){if(t=Ao(t),Ao(e)!==t&&n)throw Error(B(425))}function Br(){}var ws=null,bs=null;function _s(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Cs=typeof setTimeout=="function"?setTimeout:void 0,tp=typeof clearTimeout=="function"?clearTimeout:void 0,Mo=typeof Promise=="function"?Promise:void 0,np=typeof queueMicrotask=="function"?queueMicrotask:typeof Mo<"u"?function(e){return Mo.resolve(null).then(e).catch(ap)}:Cs;function ap(e){setTimeout(function(){throw e})}function Ul(e,t){var n=t,a=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(a===0){e.removeChild(l),Ia(t);return}a--}else n!=="$"&&n!=="$?"&&n!=="$!"||a++;n=l}while(n);Ia(t)}function Jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Oo(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ea=Math.random().toString(36).slice(2),Et="__reactFiber$"+ea,Oa="__reactProps$"+ea,Lt="__reactContainer$"+ea,xs="__reactEvents$"+ea,rp="__reactListeners$"+ea,lp="__reactHandles$"+ea;function dn(e){var t=e[Et];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Lt]||n[Et]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Oo(e);e!==null;){if(n=e[Et])return n;e=Oo(e)}return t}e=n,n=e.parentNode}return null}function Ka(e){return e=e[Et]||e[Lt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function In(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function ol(e){return e[Oa]||null}var Ts=[],Ln=-1;function an(e){return{current:e}}function ye(e){0>Ln||(e.current=Ts[Ln],Ts[Ln]=null,Ln--)}function pe(e,t){Ln++,Ts[Ln]=e.current,e.current=t}var tn={},$e=an(tn),Je=an(!1),vn=tn;function Qn(e,t){var n=e.type.contextTypes;if(!n)return tn;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var l={},s;for(s in n)l[s]=t[s];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ke(e){return e=e.childContextTypes,e!=null}function jr(){ye(Je),ye($e)}function Uo(e,t,n){if($e.current!==tn)throw Error(B(168));pe($e,t),pe(Je,n)}function Qc(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return n;a=a.getChildContext();for(var l in a)if(!(l in t))throw Error(B(108,jd(e)||"Unknown",l));return Ne({},n,a)}function Vr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tn,vn=$e.current,pe($e,e),pe(Je,Je.current),!0}function Fo(e,t,n){var a=e.stateNode;if(!a)throw Error(B(169));n?(e=Qc(e,t,vn),a.__reactInternalMemoizedMergedChildContext=e,ye(Je),ye($e),pe($e,e)):ye(Je),pe(Je,n)}var xt=null,ul=!1,Fl=!1;function qc(e){xt===null?xt=[e]:xt.push(e)}function sp(e){ul=!0,qc(e)}function rn(){if(!Fl&&xt!==null){Fl=!0;var e=0,t=de;try{var n=xt;for(de=1;e<n.length;e++){var a=n[e];do a=a(!0);while(a!==null)}xt=null,ul=!1}catch(l){throw xt!==null&&(xt=xt.slice(e+1)),vc(mi,rn),l}finally{de=t,Fl=!1}}return null}var Rn=[],An=0,Wr=null,Hr=0,rt=[],lt=0,En=null,Tt=1,Dt="";function on(e,t){Rn[An++]=Hr,Rn[An++]=Wr,Wr=e,Hr=t}function Jc(e,t,n){rt[lt++]=Tt,rt[lt++]=Dt,rt[lt++]=En,En=e;var a=Tt;e=Dt;var l=32-pt(a)-1;a&=~(1<<l),n+=1;var s=32-pt(t)+l;if(30<s){var i=l-l%5;s=(a&(1<<i)-1).toString(32),a>>=i,l-=i,Tt=1<<32-pt(t)+l|n<<l|a,Dt=s+e}else Tt=1<<s|n<<l|a,Dt=e}function Si(e){e.return!==null&&(on(e,1),Jc(e,1,0))}function Ni(e){for(;e===Wr;)Wr=Rn[--An],Rn[An]=null,Hr=Rn[--An],Rn[An]=null;for(;e===En;)En=rt[--lt],rt[lt]=null,Dt=rt[--lt],rt[lt]=null,Tt=rt[--lt],rt[lt]=null}var et=null,Ze=null,ge=!1,ft=null;function Kc(e,t){var n=st(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function $o(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,et=e,Ze=Jt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,et=e,Ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=En!==null?{id:Tt,overflow:Dt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=st(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,et=e,Ze=null,!0):!1;default:return!1}}function Ds(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ps(e){if(ge){var t=Ze;if(t){var n=t;if(!$o(e,t)){if(Ds(e))throw Error(B(418));t=Jt(n.nextSibling);var a=et;t&&$o(e,t)?Kc(a,n):(e.flags=e.flags&-4097|2,ge=!1,et=e)}}else{if(Ds(e))throw Error(B(418));e.flags=e.flags&-4097|2,ge=!1,et=e}}}function zo(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;et=e}function cr(e){if(e!==et)return!1;if(!ge)return zo(e),ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_s(e.type,e.memoizedProps)),t&&(t=Ze)){if(Ds(e))throw Yc(),Error(B(418));for(;t;)Kc(e,t),t=Jt(t.nextSibling)}if(zo(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ze=Jt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ze=null}}else Ze=et?Jt(e.stateNode.nextSibling):null;return!0}function Yc(){for(var e=Ze;e;)e=Jt(e.nextSibling)}function qn(){Ze=et=null,ge=!1}function ki(e){ft===null?ft=[e]:ft.push(e)}var ip=Mt.ReactCurrentBatchConfig;function oa(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var a=n.stateNode}if(!a)throw Error(B(147,e));var l=a,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var u=l.refs;i===null?delete u[s]:u[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,e))}return e}function mr(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Bo(e){var t=e._init;return t(e._payload)}function Gc(e){function t(g,d){if(e){var y=g.deletions;y===null?(g.deletions=[d],g.flags|=16):y.push(d)}}function n(g,d){if(!e)return null;for(;d!==null;)t(g,d),d=d.sibling;return null}function a(g,d){for(g=new Map;d!==null;)d.key!==null?g.set(d.key,d):g.set(d.index,d),d=d.sibling;return g}function l(g,d){return g=Xt(g,d),g.index=0,g.sibling=null,g}function s(g,d,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<d?(g.flags|=2,d):y):(g.flags|=2,d)):(g.flags|=1048576,d)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function u(g,d,y,w){return d===null||d.tag!==6?(d=Hl(y,g.mode,w),d.return=g,d):(d=l(d,y),d.return=g,d)}function o(g,d,y,w){var T=y.type;return T===xn?f(g,d,y.props.children,w,y.key):d!==null&&(d.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ft&&Bo(T)===d.type)?(w=l(d,y.props),w.ref=oa(g,d,y),w.return=g,w):(w=Ir(y.type,y.key,y.props,null,g.mode,w),w.ref=oa(g,d,y),w.return=g,w)}function m(g,d,y,w){return d===null||d.tag!==4||d.stateNode.containerInfo!==y.containerInfo||d.stateNode.implementation!==y.implementation?(d=Ql(y,g.mode,w),d.return=g,d):(d=l(d,y.children||[]),d.return=g,d)}function f(g,d,y,w,T){return d===null||d.tag!==7?(d=yn(y,g.mode,w,T),d.return=g,d):(d=l(d,y),d.return=g,d)}function p(g,d,y){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Hl(""+d,g.mode,y),d.return=g,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case er:return y=Ir(d.type,d.key,d.props,null,g.mode,y),y.ref=oa(g,null,d),y.return=g,y;case Cn:return d=Ql(d,g.mode,y),d.return=g,d;case Ft:var w=d._init;return p(g,w(d._payload),y)}if(pa(d)||aa(d))return d=yn(d,g.mode,y,null),d.return=g,d;mr(g,d)}return null}function h(g,d,y,w){var T=d!==null?d.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return T!==null?null:u(g,d,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case er:return y.key===T?o(g,d,y,w):null;case Cn:return y.key===T?m(g,d,y,w):null;case Ft:return T=y._init,h(g,d,T(y._payload),w)}if(pa(y)||aa(y))return T!==null?null:f(g,d,y,w,null);mr(g,y)}return null}function v(g,d,y,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(y)||null,u(d,g,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case er:return g=g.get(w.key===null?y:w.key)||null,o(d,g,w,T);case Cn:return g=g.get(w.key===null?y:w.key)||null,m(d,g,w,T);case Ft:var D=w._init;return v(g,d,y,D(w._payload),T)}if(pa(w)||aa(w))return g=g.get(y)||null,f(d,g,w,T,null);mr(d,w)}return null}function S(g,d,y,w){for(var T=null,D=null,C=d,x=d=0,$=null;C!==null&&x<y.length;x++){C.index>x?($=C,C=null):$=C.sibling;var A=h(g,C,y[x],w);if(A===null){C===null&&(C=$);break}e&&C&&A.alternate===null&&t(g,C),d=s(A,d,x),D===null?T=A:D.sibling=A,D=A,C=$}if(x===y.length)return n(g,C),ge&&on(g,x),T;if(C===null){for(;x<y.length;x++)C=p(g,y[x],w),C!==null&&(d=s(C,d,x),D===null?T=C:D.sibling=C,D=C);return ge&&on(g,x),T}for(C=a(g,C);x<y.length;x++)$=v(C,g,x,y[x],w),$!==null&&(e&&$.alternate!==null&&C.delete($.key===null?x:$.key),d=s($,d,x),D===null?T=$:D.sibling=$,D=$);return e&&C.forEach(function(P){return t(g,P)}),ge&&on(g,x),T}function _(g,d,y,w){var T=aa(y);if(typeof T!="function")throw Error(B(150));if(y=T.call(y),y==null)throw Error(B(151));for(var D=T=null,C=d,x=d=0,$=null,A=y.next();C!==null&&!A.done;x++,A=y.next()){C.index>x?($=C,C=null):$=C.sibling;var P=h(g,C,A.value,w);if(P===null){C===null&&(C=$);break}e&&C&&P.alternate===null&&t(g,C),d=s(P,d,x),D===null?T=P:D.sibling=P,D=P,C=$}if(A.done)return n(g,C),ge&&on(g,x),T;if(C===null){for(;!A.done;x++,A=y.next())A=p(g,A.value,w),A!==null&&(d=s(A,d,x),D===null?T=A:D.sibling=A,D=A);return ge&&on(g,x),T}for(C=a(g,C);!A.done;x++,A=y.next())A=v(C,g,x,A.value,w),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?x:A.key),d=s(A,d,x),D===null?T=A:D.sibling=A,D=A);return e&&C.forEach(function(R){return t(g,R)}),ge&&on(g,x),T}function E(g,d,y,w){if(typeof y=="object"&&y!==null&&y.type===xn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case er:e:{for(var T=y.key,D=d;D!==null;){if(D.key===T){if(T=y.type,T===xn){if(D.tag===7){n(g,D.sibling),d=l(D,y.props.children),d.return=g,g=d;break e}}else if(D.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ft&&Bo(T)===D.type){n(g,D.sibling),d=l(D,y.props),d.ref=oa(g,D,y),d.return=g,g=d;break e}n(g,D);break}else t(g,D);D=D.sibling}y.type===xn?(d=yn(y.props.children,g.mode,w,y.key),d.return=g,g=d):(w=Ir(y.type,y.key,y.props,null,g.mode,w),w.ref=oa(g,d,y),w.return=g,g=w)}return i(g);case Cn:e:{for(D=y.key;d!==null;){if(d.key===D)if(d.tag===4&&d.stateNode.containerInfo===y.containerInfo&&d.stateNode.implementation===y.implementation){n(g,d.sibling),d=l(d,y.children||[]),d.return=g,g=d;break e}else{n(g,d);break}else t(g,d);d=d.sibling}d=Ql(y,g.mode,w),d.return=g,g=d}return i(g);case Ft:return D=y._init,E(g,d,D(y._payload),w)}if(pa(y))return S(g,d,y,w);if(aa(y))return _(g,d,y,w);mr(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,d!==null&&d.tag===6?(n(g,d.sibling),d=l(d,y),d.return=g,g=d):(n(g,d),d=Hl(y,g.mode,w),d.return=g,g=d),i(g)):n(g,d)}return E}var Jn=Gc(!0),Xc=Gc(!1),Qr=an(null),qr=null,Mn=null,wi=null;function bi(){wi=Mn=qr=null}function _i(e){var t=Qr.current;ye(Qr),e._currentValue=t}function Is(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function jn(e,t){qr=e,wi=Mn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qe=!0),e.firstContext=null)}function ot(e){var t=e._currentValue;if(wi!==e)if(e={context:e,memoizedValue:t,next:null},Mn===null){if(qr===null)throw Error(B(308));Mn=e,qr.dependencies={lanes:0,firstContext:e}}else Mn=Mn.next=e;return t}var fn=null;function Ci(e){fn===null?fn=[e]:fn.push(e)}function Zc(e,t,n,a){var l=t.interleaved;return l===null?(n.next=n,Ci(t)):(n.next=l.next,l.next=n),t.interleaved=n,Rt(e,a)}function Rt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var $t=!1;function xi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function em(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kt(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,ce&2){var l=a.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),a.pending=t,Rt(e,n)}return l=a.interleaved,l===null?(t.next=t,Ci(a)):(t.next=l.next,l.next=t),a.interleaved=t,Rt(e,n)}function _r(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,di(e,n)}}function jo(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?l=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?l=s=t:s=s.next=t}else l=s=t;n={baseState:a.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:a.shared,effects:a.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Jr(e,t,n,a){var l=e.updateQueue;$t=!1;var s=l.firstBaseUpdate,i=l.lastBaseUpdate,u=l.shared.pending;if(u!==null){l.shared.pending=null;var o=u,m=o.next;o.next=null,i===null?s=m:i.next=m,i=o;var f=e.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==i&&(u===null?f.firstBaseUpdate=m:u.next=m,f.lastBaseUpdate=o))}if(s!==null){var p=l.baseState;i=0,f=m=o=null,u=s;do{var h=u.lane,v=u.eventTime;if((a&h)===h){f!==null&&(f=f.next={eventTime:v,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var S=e,_=u;switch(h=t,v=n,_.tag){case 1:if(S=_.payload,typeof S=="function"){p=S.call(v,p,h);break e}p=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=_.payload,h=typeof S=="function"?S.call(v,p,h):S,h==null)break e;p=Ne({},p,h);break e;case 2:$t=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,h=l.effects,h===null?l.effects=[u]:h.push(u))}else v={eventTime:v,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(m=f=v,o=p):f=f.next=v,i|=h;if(u=u.next,u===null){if(u=l.shared.pending,u===null)break;h=u,u=h.next,h.next=null,l.lastBaseUpdate=h,l.shared.pending=null}}while(!0);if(f===null&&(o=p),l.baseState=o,l.firstBaseUpdate=m,l.lastBaseUpdate=f,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else s===null&&(l.shared.lanes=0);Nn|=i,e.lanes=i,e.memoizedState=p}}function Vo(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],l=a.callback;if(l!==null){if(a.callback=null,a=n,typeof l!="function")throw Error(B(191,l));l.call(a)}}}var Ya={},Nt=an(Ya),Ua=an(Ya),Fa=an(Ya);function pn(e){if(e===Ya)throw Error(B(174));return e}function Ti(e,t){switch(pe(Fa,t),pe(Ua,e),pe(Nt,Ya),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ms(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ms(t,e)}ye(Nt),pe(Nt,t)}function Kn(){ye(Nt),ye(Ua),ye(Fa)}function tm(e){pn(Fa.current);var t=pn(Nt.current),n=ms(t,e.type);t!==n&&(pe(Ua,e),pe(Nt,n))}function Di(e){Ua.current===e&&(ye(Nt),ye(Ua))}var Ee=an(0);function Kr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $l=[];function Pi(){for(var e=0;e<$l.length;e++)$l[e]._workInProgressVersionPrimary=null;$l.length=0}var Cr=Mt.ReactCurrentDispatcher,zl=Mt.ReactCurrentBatchConfig,Sn=0,Se=null,Te=null,Pe=null,Yr=!1,ka=!1,$a=0,op=0;function Oe(){throw Error(B(321))}function Ii(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yt(e[n],t[n]))return!1;return!0}function Li(e,t,n,a,l,s){if(Sn=s,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Cr.current=e===null||e.memoizedState===null?dp:fp,e=n(a,l),ka){s=0;do{if(ka=!1,$a=0,25<=s)throw Error(B(301));s+=1,Pe=Te=null,t.updateQueue=null,Cr.current=pp,e=n(a,l)}while(ka)}if(Cr.current=Gr,t=Te!==null&&Te.next!==null,Sn=0,Pe=Te=Se=null,Yr=!1,t)throw Error(B(300));return e}function Ri(){var e=$a!==0;return $a=0,e}function vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?Se.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function ut(){if(Te===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=Pe===null?Se.memoizedState:Pe.next;if(t!==null)Pe=t,Te=e;else{if(e===null)throw Error(B(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Pe===null?Se.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function za(e,t){return typeof t=="function"?t(e):t}function Bl(e){var t=ut(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var a=Te,l=a.baseQueue,s=n.pending;if(s!==null){if(l!==null){var i=l.next;l.next=s.next,s.next=i}a.baseQueue=l=s,n.pending=null}if(l!==null){s=l.next,a=a.baseState;var u=i=null,o=null,m=s;do{var f=m.lane;if((Sn&f)===f)o!==null&&(o=o.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),a=m.hasEagerState?m.eagerState:e(a,m.action);else{var p={lane:f,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};o===null?(u=o=p,i=a):o=o.next=p,Se.lanes|=f,Nn|=f}m=m.next}while(m!==null&&m!==s);o===null?i=a:o.next=u,yt(a,t.memoizedState)||(qe=!0),t.memoizedState=a,t.baseState=i,t.baseQueue=o,n.lastRenderedState=a}if(e=n.interleaved,e!==null){l=e;do s=l.lane,Se.lanes|=s,Nn|=s,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function jl(e){var t=ut(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var a=n.dispatch,l=n.pending,s=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do s=e(s,i.action),i=i.next;while(i!==l);yt(s,t.memoizedState)||(qe=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,a]}function nm(){}function am(e,t){var n=Se,a=ut(),l=t(),s=!yt(a.memoizedState,l);if(s&&(a.memoizedState=l,qe=!0),a=a.queue,Ai(sm.bind(null,n,a,e),[e]),a.getSnapshot!==t||s||Pe!==null&&Pe.memoizedState.tag&1){if(n.flags|=2048,Ba(9,lm.bind(null,n,a,l,t),void 0,null),Ie===null)throw Error(B(349));Sn&30||rm(n,t,l)}return l}function rm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function lm(e,t,n,a){t.value=n,t.getSnapshot=a,im(t)&&om(e)}function sm(e,t,n){return n(function(){im(t)&&om(e)})}function im(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yt(e,n)}catch{return!0}}function om(e){var t=Rt(e,1);t!==null&&ht(t,e,1,-1)}function Wo(e){var t=vt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:e},t.queue=e,e=e.dispatch=mp.bind(null,Se,e),[t.memoizedState,e]}function Ba(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e)),e}function um(){return ut().memoizedState}function xr(e,t,n,a){var l=vt();Se.flags|=e,l.memoizedState=Ba(1|t,n,void 0,a===void 0?null:a)}function cl(e,t,n,a){var l=ut();a=a===void 0?null:a;var s=void 0;if(Te!==null){var i=Te.memoizedState;if(s=i.destroy,a!==null&&Ii(a,i.deps)){l.memoizedState=Ba(t,n,s,a);return}}Se.flags|=e,l.memoizedState=Ba(1|t,n,s,a)}function Ho(e,t){return xr(8390656,8,e,t)}function Ai(e,t){return cl(2048,8,e,t)}function cm(e,t){return cl(4,2,e,t)}function mm(e,t){return cl(4,4,e,t)}function dm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fm(e,t,n){return n=n!=null?n.concat([e]):null,cl(4,4,dm.bind(null,t,e),n)}function Mi(){}function pm(e,t){var n=ut();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&Ii(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function hm(e,t){var n=ut();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&Ii(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function ym(e,t,n){return Sn&21?(yt(n,t)||(n=Nc(),Se.lanes|=n,Nn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qe=!0),e.memoizedState=n)}function up(e,t){var n=de;de=n!==0&&4>n?n:4,e(!0);var a=zl.transition;zl.transition={};try{e(!1),t()}finally{de=n,zl.transition=a}}function gm(){return ut().memoizedState}function cp(e,t,n){var a=Gt(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},vm(e))Em(t,n);else if(n=Zc(e,t,n,a),n!==null){var l=Be();ht(n,e,a,l),Sm(n,t,a)}}function mp(e,t,n){var a=Gt(e),l={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(vm(e))Em(t,l);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,u=s(i,n);if(l.hasEagerState=!0,l.eagerState=u,yt(u,i)){var o=t.interleaved;o===null?(l.next=l,Ci(t)):(l.next=o.next,o.next=l),t.interleaved=l;return}}catch{}finally{}n=Zc(e,t,l,a),n!==null&&(l=Be(),ht(n,e,a,l),Sm(n,t,a))}}function vm(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function Em(e,t){ka=Yr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Sm(e,t,n){if(n&4194240){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,di(e,n)}}var Gr={readContext:ot,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useInsertionEffect:Oe,useLayoutEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useMutableSource:Oe,useSyncExternalStore:Oe,useId:Oe,unstable_isNewReconciler:!1},dp={readContext:ot,useCallback:function(e,t){return vt().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:Ho,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,xr(4194308,4,dm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xr(4194308,4,e,t)},useInsertionEffect:function(e,t){return xr(4,2,e,t)},useMemo:function(e,t){var n=vt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=vt();return t=n!==void 0?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=cp.bind(null,Se,e),[a.memoizedState,e]},useRef:function(e){var t=vt();return e={current:e},t.memoizedState=e},useState:Wo,useDebugValue:Mi,useDeferredValue:function(e){return vt().memoizedState=e},useTransition:function(){var e=Wo(!1),t=e[0];return e=up.bind(null,e[1]),vt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=Se,l=vt();if(ge){if(n===void 0)throw Error(B(407));n=n()}else{if(n=t(),Ie===null)throw Error(B(349));Sn&30||rm(a,t,n)}l.memoizedState=n;var s={value:n,getSnapshot:t};return l.queue=s,Ho(sm.bind(null,a,s,e),[e]),a.flags|=2048,Ba(9,lm.bind(null,a,s,n,t),void 0,null),n},useId:function(){var e=vt(),t=Ie.identifierPrefix;if(ge){var n=Dt,a=Tt;n=(a&~(1<<32-pt(a)-1)).toString(32)+n,t=":"+t+"R"+n,n=$a++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=op++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},fp={readContext:ot,useCallback:pm,useContext:ot,useEffect:Ai,useImperativeHandle:fm,useInsertionEffect:cm,useLayoutEffect:mm,useMemo:hm,useReducer:Bl,useRef:um,useState:function(){return Bl(za)},useDebugValue:Mi,useDeferredValue:function(e){var t=ut();return ym(t,Te.memoizedState,e)},useTransition:function(){var e=Bl(za)[0],t=ut().memoizedState;return[e,t]},useMutableSource:nm,useSyncExternalStore:am,useId:gm,unstable_isNewReconciler:!1},pp={readContext:ot,useCallback:pm,useContext:ot,useEffect:Ai,useImperativeHandle:fm,useInsertionEffect:cm,useLayoutEffect:mm,useMemo:hm,useReducer:jl,useRef:um,useState:function(){return jl(za)},useDebugValue:Mi,useDeferredValue:function(e){var t=ut();return Te===null?t.memoizedState=e:ym(t,Te.memoizedState,e)},useTransition:function(){var e=jl(za)[0],t=ut().memoizedState;return[e,t]},useMutableSource:nm,useSyncExternalStore:am,useId:gm,unstable_isNewReconciler:!1};function mt(e,t){if(e&&e.defaultProps){t=Ne({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ls(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:Ne({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ml={isMounted:function(e){return(e=e._reactInternals)?bn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Be(),l=Gt(e),s=Pt(a,l);s.payload=t,n!=null&&(s.callback=n),t=Kt(e,s,l),t!==null&&(ht(t,e,l,a),_r(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Be(),l=Gt(e),s=Pt(a,l);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Kt(e,s,l),t!==null&&(ht(t,e,l,a),_r(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Be(),a=Gt(e),l=Pt(n,a);l.tag=2,t!=null&&(l.callback=t),t=Kt(e,l,a),t!==null&&(ht(t,e,a,n),_r(t,e,a))}};function Qo(e,t,n,a,l,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,s,i):t.prototype&&t.prototype.isPureReactComponent?!Ra(n,a)||!Ra(l,s):!0}function Nm(e,t,n){var a=!1,l=tn,s=t.contextType;return typeof s=="object"&&s!==null?s=ot(s):(l=Ke(t)?vn:$e.current,a=t.contextTypes,s=(a=a!=null)?Qn(e,l):tn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ml,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=s),t}function qo(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&ml.enqueueReplaceState(t,t.state,null)}function Rs(e,t,n,a){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},xi(e);var s=t.contextType;typeof s=="object"&&s!==null?l.context=ot(s):(s=Ke(t)?vn:$e.current,l.context=Qn(e,s)),l.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Ls(e,t,s,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&ml.enqueueReplaceState(l,l.state,null),Jr(e,n,l,a),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Yn(e,t){try{var n="",a=t;do n+=Bd(a),a=a.return;while(a);var l=n}catch(s){l=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:l,digest:null}}function Vl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function As(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hp=typeof WeakMap=="function"?WeakMap:Map;function km(e,t,n){n=Pt(-1,n),n.tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){Zr||(Zr=!0,Ws=a),As(e,t)},n}function wm(e,t,n){n=Pt(-1,n),n.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var l=t.value;n.payload=function(){return a(l)},n.callback=function(){As(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){As(e,t),typeof a!="function"&&(Yt===null?Yt=new Set([this]):Yt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Jo(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new hp;var l=new Set;a.set(t,l)}else l=a.get(t),l===void 0&&(l=new Set,a.set(t,l));l.has(n)||(l.add(n),e=Dp.bind(null,e,t,n),t.then(e,e))}function Ko(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Yo(e,t,n,a,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Pt(-1,1),t.tag=2,Kt(n,t,1))),n.lanes|=1),e)}var yp=Mt.ReactCurrentOwner,qe=!1;function ze(e,t,n,a){t.child=e===null?Xc(t,null,n,a):Jn(t,e.child,n,a)}function Go(e,t,n,a,l){n=n.render;var s=t.ref;return jn(t,l),a=Li(e,t,n,a,s,l),n=Ri(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,At(e,t,l)):(ge&&n&&Si(t),t.flags|=1,ze(e,t,a,l),t.child)}function Xo(e,t,n,a,l){if(e===null){var s=n.type;return typeof s=="function"&&!Vi(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,bm(e,t,s,a,l)):(e=Ir(n.type,null,a,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&l)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ra,n(i,a)&&e.ref===t.ref)return At(e,t,l)}return t.flags|=1,e=Xt(s,a),e.ref=t.ref,e.return=t,t.child=e}function bm(e,t,n,a,l){if(e!==null){var s=e.memoizedProps;if(Ra(s,a)&&e.ref===t.ref)if(qe=!1,t.pendingProps=a=s,(e.lanes&l)!==0)e.flags&131072&&(qe=!0);else return t.lanes=e.lanes,At(e,t,l)}return Ms(e,t,n,a,l)}function _m(e,t,n){var a=t.pendingProps,l=a.children,s=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(Un,Xe),Xe|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pe(Un,Xe),Xe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=s!==null?s.baseLanes:n,pe(Un,Xe),Xe|=a}else s!==null?(a=s.baseLanes|n,t.memoizedState=null):a=n,pe(Un,Xe),Xe|=a;return ze(e,t,l,n),t.child}function Cm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ms(e,t,n,a,l){var s=Ke(n)?vn:$e.current;return s=Qn(t,s),jn(t,l),n=Li(e,t,n,a,s,l),a=Ri(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,At(e,t,l)):(ge&&a&&Si(t),t.flags|=1,ze(e,t,n,l),t.child)}function Zo(e,t,n,a,l){if(Ke(n)){var s=!0;Vr(t)}else s=!1;if(jn(t,l),t.stateNode===null)Tr(e,t),Nm(t,n,a),Rs(t,n,a,l),a=!0;else if(e===null){var i=t.stateNode,u=t.memoizedProps;i.props=u;var o=i.context,m=n.contextType;typeof m=="object"&&m!==null?m=ot(m):(m=Ke(n)?vn:$e.current,m=Qn(t,m));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";p||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u!==a||o!==m)&&qo(t,i,a,m),$t=!1;var h=t.memoizedState;i.state=h,Jr(t,a,i,l),o=t.memoizedState,u!==a||h!==o||Je.current||$t?(typeof f=="function"&&(Ls(t,n,f,a),o=t.memoizedState),(u=$t||Qo(t,n,u,a,h,o,m))?(p||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=o),i.props=a,i.state=o,i.context=m,a=u):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,em(e,t),u=t.memoizedProps,m=t.type===t.elementType?u:mt(t.type,u),i.props=m,p=t.pendingProps,h=i.context,o=n.contextType,typeof o=="object"&&o!==null?o=ot(o):(o=Ke(n)?vn:$e.current,o=Qn(t,o));var v=n.getDerivedStateFromProps;(f=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u!==p||h!==o)&&qo(t,i,a,o),$t=!1,h=t.memoizedState,i.state=h,Jr(t,a,i,l);var S=t.memoizedState;u!==p||h!==S||Je.current||$t?(typeof v=="function"&&(Ls(t,n,v,a),S=t.memoizedState),(m=$t||Qo(t,n,m,a,h,S,o)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,S,o),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,S,o)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=S),i.props=a,i.state=S,i.context=o,a=m):(typeof i.componentDidUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return Os(e,t,n,a,s,l)}function Os(e,t,n,a,l,s){Cm(e,t);var i=(t.flags&128)!==0;if(!a&&!i)return l&&Fo(t,n,!1),At(e,t,s);a=t.stateNode,yp.current=t;var u=i&&typeof n.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&i?(t.child=Jn(t,e.child,null,s),t.child=Jn(t,null,u,s)):ze(e,t,u,s),t.memoizedState=a.state,l&&Fo(t,n,!0),t.child}function xm(e){var t=e.stateNode;t.pendingContext?Uo(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Uo(e,t.context,!1),Ti(e,t.containerInfo)}function eu(e,t,n,a,l){return qn(),ki(l),t.flags|=256,ze(e,t,n,a),t.child}var Us={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Tm(e,t,n){var a=t.pendingProps,l=Ee.current,s=!1,i=(t.flags&128)!==0,u;if((u=i)||(u=e!==null&&e.memoizedState===null?!1:(l&2)!==0),u?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),pe(Ee,l&1),e===null)return Ps(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=a.children,e=a.fallback,s?(a=t.mode,s=t.child,i={mode:"hidden",children:i},!(a&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=pl(i,a,0,null),e=yn(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Us,e):Oi(t,i));if(l=e.memoizedState,l!==null&&(u=l.dehydrated,u!==null))return gp(e,t,i,a,u,l,n);if(s){s=a.fallback,i=t.mode,l=e.child,u=l.sibling;var o={mode:"hidden",children:a.children};return!(i&1)&&t.child!==l?(a=t.child,a.childLanes=0,a.pendingProps=o,t.deletions=null):(a=Xt(l,o),a.subtreeFlags=l.subtreeFlags&14680064),u!==null?s=Xt(u,s):(s=yn(s,i,n,null),s.flags|=2),s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,i=e.child.memoizedState,i=i===null?Fs(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=Us,a}return s=e.child,e=s.sibling,a=Xt(s,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=n),a.return=t,a.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Oi(e,t){return t=pl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function dr(e,t,n,a){return a!==null&&ki(a),Jn(t,e.child,null,n),e=Oi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function gp(e,t,n,a,l,s,i){if(n)return t.flags&256?(t.flags&=-257,a=Vl(Error(B(422))),dr(e,t,i,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=a.fallback,l=t.mode,a=pl({mode:"visible",children:a.children},l,0,null),s=yn(s,l,i,null),s.flags|=2,a.return=t,s.return=t,a.sibling=s,t.child=a,t.mode&1&&Jn(t,e.child,null,i),t.child.memoizedState=Fs(i),t.memoizedState=Us,s);if(!(t.mode&1))return dr(e,t,i,null);if(l.data==="$!"){if(a=l.nextSibling&&l.nextSibling.dataset,a)var u=a.dgst;return a=u,s=Error(B(419)),a=Vl(s,a,void 0),dr(e,t,i,a)}if(u=(i&e.childLanes)!==0,qe||u){if(a=Ie,a!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(a.suspendedLanes|i)?0:l,l!==0&&l!==s.retryLane&&(s.retryLane=l,Rt(e,l),ht(a,e,l,-1))}return ji(),a=Vl(Error(B(421))),dr(e,t,i,a)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Pp.bind(null,e),l._reactRetry=t,null):(e=s.treeContext,Ze=Jt(l.nextSibling),et=t,ge=!0,ft=null,e!==null&&(rt[lt++]=Tt,rt[lt++]=Dt,rt[lt++]=En,Tt=e.id,Dt=e.overflow,En=t),t=Oi(t,a.children),t.flags|=4096,t)}function tu(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Is(e.return,t,n)}function Wl(e,t,n,a,l){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:l}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=n,s.tailMode=l)}function Dm(e,t,n){var a=t.pendingProps,l=a.revealOrder,s=a.tail;if(ze(e,t,a.children,n),a=Ee.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tu(e,n,t);else if(e.tag===19)tu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(pe(Ee,a),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Kr(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Wl(t,!1,l,n,s);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Kr(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Wl(t,!0,n,null,s);break;case"together":Wl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Tr(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function At(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Nn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=Xt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Xt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function vp(e,t,n){switch(t.tag){case 3:xm(t),qn();break;case 5:tm(t);break;case 1:Ke(t.type)&&Vr(t);break;case 4:Ti(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,l=t.memoizedProps.value;pe(Qr,a._currentValue),a._currentValue=l;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(pe(Ee,Ee.current&1),t.flags|=128,null):n&t.child.childLanes?Tm(e,t,n):(pe(Ee,Ee.current&1),e=At(e,t,n),e!==null?e.sibling:null);pe(Ee,Ee.current&1);break;case 19:if(a=(n&t.childLanes)!==0,e.flags&128){if(a)return Dm(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),pe(Ee,Ee.current),a)break;return null;case 22:case 23:return t.lanes=0,_m(e,t,n)}return At(e,t,n)}var Pm,$s,Im,Lm;Pm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$s=function(){};Im=function(e,t,n,a){var l=e.memoizedProps;if(l!==a){e=t.stateNode,pn(Nt.current);var s=null;switch(n){case"input":l=is(e,l),a=is(e,a),s=[];break;case"select":l=Ne({},l,{value:void 0}),a=Ne({},a,{value:void 0}),s=[];break;case"textarea":l=cs(e,l),a=cs(e,a),s=[];break;default:typeof l.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Br)}ds(n,a);var i;n=null;for(m in l)if(!a.hasOwnProperty(m)&&l.hasOwnProperty(m)&&l[m]!=null)if(m==="style"){var u=l[m];for(i in u)u.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(Ca.hasOwnProperty(m)?s||(s=[]):(s=s||[]).push(m,null));for(m in a){var o=a[m];if(u=l!=null?l[m]:void 0,a.hasOwnProperty(m)&&o!==u&&(o!=null||u!=null))if(m==="style")if(u){for(i in u)!u.hasOwnProperty(i)||o&&o.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in o)o.hasOwnProperty(i)&&u[i]!==o[i]&&(n||(n={}),n[i]=o[i])}else n||(s||(s=[]),s.push(m,n)),n=o;else m==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,u=u?u.__html:void 0,o!=null&&u!==o&&(s=s||[]).push(m,o)):m==="children"?typeof o!="string"&&typeof o!="number"||(s=s||[]).push(m,""+o):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(Ca.hasOwnProperty(m)?(o!=null&&m==="onScroll"&&he("scroll",e),s||u===o||(s=[])):(s=s||[]).push(m,o))}n&&(s=s||[]).push("style",n);var m=s;(t.updateQueue=m)&&(t.flags|=4)}};Lm=function(e,t,n,a){n!==a&&(t.flags|=4)};function ua(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ue(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags&14680064,a|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags,a|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Ep(e,t,n){var a=t.pendingProps;switch(Ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(t),null;case 1:return Ke(t.type)&&jr(),Ue(t),null;case 3:return a=t.stateNode,Kn(),ye(Je),ye($e),Pi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(cr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ft!==null&&(qs(ft),ft=null))),$s(e,t),Ue(t),null;case 5:Di(t);var l=pn(Fa.current);if(n=t.type,e!==null&&t.stateNode!=null)Im(e,t,n,a,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(B(166));return Ue(t),null}if(e=pn(Nt.current),cr(t)){a=t.stateNode,n=t.type;var s=t.memoizedProps;switch(a[Et]=t,a[Oa]=s,e=(t.mode&1)!==0,n){case"dialog":he("cancel",a),he("close",a);break;case"iframe":case"object":case"embed":he("load",a);break;case"video":case"audio":for(l=0;l<ya.length;l++)he(ya[l],a);break;case"source":he("error",a);break;case"img":case"image":case"link":he("error",a),he("load",a);break;case"details":he("toggle",a);break;case"input":uo(a,s),he("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!s.multiple},he("invalid",a);break;case"textarea":mo(a,s),he("invalid",a)}ds(n,s),l=null;for(var i in s)if(s.hasOwnProperty(i)){var u=s[i];i==="children"?typeof u=="string"?a.textContent!==u&&(s.suppressHydrationWarning!==!0&&ur(a.textContent,u,e),l=["children",u]):typeof u=="number"&&a.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&ur(a.textContent,u,e),l=["children",""+u]):Ca.hasOwnProperty(i)&&u!=null&&i==="onScroll"&&he("scroll",a)}switch(n){case"input":tr(a),co(a,s,!0);break;case"textarea":tr(a),fo(a);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(a.onclick=Br)}a=l,t.updateQueue=a,a!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=sc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=i.createElement(n,{is:a.is}):(e=i.createElement(n),n==="select"&&(i=e,a.multiple?i.multiple=!0:a.size&&(i.size=a.size))):e=i.createElementNS(e,n),e[Et]=t,e[Oa]=a,Pm(e,t,!1,!1),t.stateNode=e;e:{switch(i=fs(n,a),n){case"dialog":he("cancel",e),he("close",e),l=a;break;case"iframe":case"object":case"embed":he("load",e),l=a;break;case"video":case"audio":for(l=0;l<ya.length;l++)he(ya[l],e);l=a;break;case"source":he("error",e),l=a;break;case"img":case"image":case"link":he("error",e),he("load",e),l=a;break;case"details":he("toggle",e),l=a;break;case"input":uo(e,a),l=is(e,a),he("invalid",e);break;case"option":l=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},l=Ne({},a,{value:void 0}),he("invalid",e);break;case"textarea":mo(e,a),l=cs(e,a),he("invalid",e);break;default:l=a}ds(n,l),u=l;for(s in u)if(u.hasOwnProperty(s)){var o=u[s];s==="style"?uc(e,o):s==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&ic(e,o)):s==="children"?typeof o=="string"?(n!=="textarea"||o!=="")&&xa(e,o):typeof o=="number"&&xa(e,""+o):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ca.hasOwnProperty(s)?o!=null&&s==="onScroll"&&he("scroll",e):o!=null&&si(e,s,o,i))}switch(n){case"input":tr(e),co(e,a,!1);break;case"textarea":tr(e),fo(e);break;case"option":a.value!=null&&e.setAttribute("value",""+en(a.value));break;case"select":e.multiple=!!a.multiple,s=a.value,s!=null?Fn(e,!!a.multiple,s,!1):a.defaultValue!=null&&Fn(e,!!a.multiple,a.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Br)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ue(t),null;case 6:if(e&&t.stateNode!=null)Lm(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(B(166));if(n=pn(Fa.current),pn(Nt.current),cr(t)){if(a=t.stateNode,n=t.memoizedProps,a[Et]=t,(s=a.nodeValue!==n)&&(e=et,e!==null))switch(e.tag){case 3:ur(a.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ur(a.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else a=(n.nodeType===9?n:n.ownerDocument).createTextNode(a),a[Et]=t,t.stateNode=a}return Ue(t),null;case 13:if(ye(Ee),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ge&&Ze!==null&&t.mode&1&&!(t.flags&128))Yc(),qn(),t.flags|=98560,s=!1;else if(s=cr(t),a!==null&&a.dehydrated!==null){if(e===null){if(!s)throw Error(B(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[Et]=t}else qn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ue(t),s=!1}else ft!==null&&(qs(ft),ft=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||Ee.current&1?De===0&&(De=3):ji())),t.updateQueue!==null&&(t.flags|=4),Ue(t),null);case 4:return Kn(),$s(e,t),e===null&&Aa(t.stateNode.containerInfo),Ue(t),null;case 10:return _i(t.type._context),Ue(t),null;case 17:return Ke(t.type)&&jr(),Ue(t),null;case 19:if(ye(Ee),s=t.memoizedState,s===null)return Ue(t),null;if(a=(t.flags&128)!==0,i=s.rendering,i===null)if(a)ua(s,!1);else{if(De!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Kr(e),i!==null){for(t.flags|=128,ua(s,!1),a=i.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;n!==null;)s=n,e=a,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return pe(Ee,Ee.current&1|2),t.child}e=e.sibling}s.tail!==null&&_e()>Gn&&(t.flags|=128,a=!0,ua(s,!1),t.lanes=4194304)}else{if(!a)if(e=Kr(i),e!==null){if(t.flags|=128,a=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ua(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!ge)return Ue(t),null}else 2*_e()-s.renderingStartTime>Gn&&n!==1073741824&&(t.flags|=128,a=!0,ua(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=_e(),t.sibling=null,n=Ee.current,pe(Ee,a?n&1|2:n&1),t):(Ue(t),null);case 22:case 23:return Bi(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?Xe&1073741824&&(Ue(t),t.subtreeFlags&6&&(t.flags|=8192)):Ue(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function Sp(e,t){switch(Ni(t),t.tag){case 1:return Ke(t.type)&&jr(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Kn(),ye(Je),ye($e),Pi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Di(t),null;case 13:if(ye(Ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));qn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ye(Ee),null;case 4:return Kn(),null;case 10:return _i(t.type._context),null;case 22:case 23:return Bi(),null;case 24:return null;default:return null}}var fr=!1,Fe=!1,Np=typeof WeakSet=="function"?WeakSet:Set,Y=null;function On(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(a){we(e,t,a)}else n.current=null}function zs(e,t,n){try{n()}catch(a){we(e,t,a)}}var nu=!1;function kp(e,t){if(ws=Fr,e=Uc(),Ei(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var l=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,u=-1,o=-1,m=0,f=0,p=e,h=null;t:for(;;){for(var v;p!==n||l!==0&&p.nodeType!==3||(u=i+l),p!==s||a!==0&&p.nodeType!==3||(o=i+a),p.nodeType===3&&(i+=p.nodeValue.length),(v=p.firstChild)!==null;)h=p,p=v;for(;;){if(p===e)break t;if(h===n&&++m===l&&(u=i),h===s&&++f===a&&(o=i),(v=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=v}n=u===-1||o===-1?null:{start:u,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(bs={focusedElem:e,selectionRange:n},Fr=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var _=S.memoizedProps,E=S.memoizedState,g=t.stateNode,d=g.getSnapshotBeforeUpdate(t.elementType===t.type?_:mt(t.type,_),E);g.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(w){we(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return S=nu,nu=!1,S}function wa(e,t,n){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var l=a=a.next;do{if((l.tag&e)===e){var s=l.destroy;l.destroy=void 0,s!==void 0&&zs(t,n,s)}l=l.next}while(l!==a)}}function dl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function Bs(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Rm(e){var t=e.alternate;t!==null&&(e.alternate=null,Rm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Et],delete t[Oa],delete t[xs],delete t[rp],delete t[lp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Am(e){return e.tag===5||e.tag===3||e.tag===4}function au(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Am(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function js(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Br));else if(a!==4&&(e=e.child,e!==null))for(js(e,t,n),e=e.sibling;e!==null;)js(e,t,n),e=e.sibling}function Vs(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Vs(e,t,n),e=e.sibling;e!==null;)Vs(e,t,n),e=e.sibling}var Le=null,dt=!1;function Ut(e,t,n){for(n=n.child;n!==null;)Mm(e,t,n),n=n.sibling}function Mm(e,t,n){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(rl,n)}catch{}switch(n.tag){case 5:Fe||On(n,t);case 6:var a=Le,l=dt;Le=null,Ut(e,t,n),Le=a,dt=l,Le!==null&&(dt?(e=Le,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Le.removeChild(n.stateNode));break;case 18:Le!==null&&(dt?(e=Le,n=n.stateNode,e.nodeType===8?Ul(e.parentNode,n):e.nodeType===1&&Ul(e,n),Ia(e)):Ul(Le,n.stateNode));break;case 4:a=Le,l=dt,Le=n.stateNode.containerInfo,dt=!0,Ut(e,t,n),Le=a,dt=l;break;case 0:case 11:case 14:case 15:if(!Fe&&(a=n.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){l=a=a.next;do{var s=l,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&zs(n,t,i),l=l.next}while(l!==a)}Ut(e,t,n);break;case 1:if(!Fe&&(On(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(u){we(n,t,u)}Ut(e,t,n);break;case 21:Ut(e,t,n);break;case 22:n.mode&1?(Fe=(a=Fe)||n.memoizedState!==null,Ut(e,t,n),Fe=a):Ut(e,t,n);break;default:Ut(e,t,n)}}function ru(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Np),t.forEach(function(a){var l=Ip.bind(null,e,a);n.has(a)||(n.add(a),a.then(l,l))})}}function ct(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];try{var s=e,i=t,u=i;e:for(;u!==null;){switch(u.tag){case 5:Le=u.stateNode,dt=!1;break e;case 3:Le=u.stateNode.containerInfo,dt=!0;break e;case 4:Le=u.stateNode.containerInfo,dt=!0;break e}u=u.return}if(Le===null)throw Error(B(160));Mm(s,i,l),Le=null,dt=!1;var o=l.alternate;o!==null&&(o.return=null),l.return=null}catch(m){we(l,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Om(t,e),t=t.sibling}function Om(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ct(t,e),gt(e),a&4){try{wa(3,e,e.return),dl(3,e)}catch(_){we(e,e.return,_)}try{wa(5,e,e.return)}catch(_){we(e,e.return,_)}}break;case 1:ct(t,e),gt(e),a&512&&n!==null&&On(n,n.return);break;case 5:if(ct(t,e),gt(e),a&512&&n!==null&&On(n,n.return),e.flags&32){var l=e.stateNode;try{xa(l,"")}catch(_){we(e,e.return,_)}}if(a&4&&(l=e.stateNode,l!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,u=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&rc(l,s),fs(u,i);var m=fs(u,s);for(i=0;i<o.length;i+=2){var f=o[i],p=o[i+1];f==="style"?uc(l,p):f==="dangerouslySetInnerHTML"?ic(l,p):f==="children"?xa(l,p):si(l,f,p,m)}switch(u){case"input":os(l,s);break;case"textarea":lc(l,s);break;case"select":var h=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?Fn(l,!!s.multiple,v,!1):h!==!!s.multiple&&(s.defaultValue!=null?Fn(l,!!s.multiple,s.defaultValue,!0):Fn(l,!!s.multiple,s.multiple?[]:"",!1))}l[Oa]=s}catch(_){we(e,e.return,_)}}break;case 6:if(ct(t,e),gt(e),a&4){if(e.stateNode===null)throw Error(B(162));l=e.stateNode,s=e.memoizedProps;try{l.nodeValue=s}catch(_){we(e,e.return,_)}}break;case 3:if(ct(t,e),gt(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Ia(t.containerInfo)}catch(_){we(e,e.return,_)}break;case 4:ct(t,e),gt(e);break;case 13:ct(t,e),gt(e),l=e.child,l.flags&8192&&(s=l.memoizedState!==null,l.stateNode.isHidden=s,!s||l.alternate!==null&&l.alternate.memoizedState!==null||($i=_e())),a&4&&ru(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Fe=(m=Fe)||f,ct(t,e),Fe=m):ct(t,e),gt(e),a&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!f&&e.mode&1)for(Y=e,f=e.child;f!==null;){for(p=Y=f;Y!==null;){switch(h=Y,v=h.child,h.tag){case 0:case 11:case 14:case 15:wa(4,h,h.return);break;case 1:On(h,h.return);var S=h.stateNode;if(typeof S.componentWillUnmount=="function"){a=h,n=h.return;try{t=a,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(_){we(a,n,_)}}break;case 5:On(h,h.return);break;case 22:if(h.memoizedState!==null){su(p);continue}}v!==null?(v.return=h,Y=v):su(p)}f=f.sibling}e:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{l=p.stateNode,m?(s=l.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=p.stateNode,o=p.memoizedProps.style,i=o!=null&&o.hasOwnProperty("display")?o.display:null,u.style.display=oc("display",i))}catch(_){we(e,e.return,_)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=m?"":p.memoizedProps}catch(_){we(e,e.return,_)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ct(t,e),gt(e),a&4&&ru(e);break;case 21:break;default:ct(t,e),gt(e)}}function gt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Am(n)){var a=n;break e}n=n.return}throw Error(B(160))}switch(a.tag){case 5:var l=a.stateNode;a.flags&32&&(xa(l,""),a.flags&=-33);var s=au(e);Vs(e,s,l);break;case 3:case 4:var i=a.stateNode.containerInfo,u=au(e);js(e,u,i);break;default:throw Error(B(161))}}catch(o){we(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wp(e,t,n){Y=e,Um(e)}function Um(e,t,n){for(var a=(e.mode&1)!==0;Y!==null;){var l=Y,s=l.child;if(l.tag===22&&a){var i=l.memoizedState!==null||fr;if(!i){var u=l.alternate,o=u!==null&&u.memoizedState!==null||Fe;u=fr;var m=Fe;if(fr=i,(Fe=o)&&!m)for(Y=l;Y!==null;)i=Y,o=i.child,i.tag===22&&i.memoizedState!==null?iu(l):o!==null?(o.return=i,Y=o):iu(l);for(;s!==null;)Y=s,Um(s),s=s.sibling;Y=l,fr=u,Fe=m}lu(e)}else l.subtreeFlags&8772&&s!==null?(s.return=l,Y=s):lu(e)}}function lu(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fe||dl(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Fe)if(n===null)a.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:mt(t.type,n.memoizedProps);a.componentDidUpdate(l,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Vo(t,s,a);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Vo(t,i,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&n.focus();break;case"img":o.src&&(n.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var f=m.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Ia(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Fe||t.flags&512&&Bs(t)}catch(h){we(t,t.return,h)}}if(t===e){Y=null;break}if(n=t.sibling,n!==null){n.return=t.return,Y=n;break}Y=t.return}}function su(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Y=n;break}Y=t.return}}function iu(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{dl(4,t)}catch(o){we(t,n,o)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var l=t.return;try{a.componentDidMount()}catch(o){we(t,l,o)}}var s=t.return;try{Bs(t)}catch(o){we(t,s,o)}break;case 5:var i=t.return;try{Bs(t)}catch(o){we(t,i,o)}}}catch(o){we(t,t.return,o)}if(t===e){Y=null;break}var u=t.sibling;if(u!==null){u.return=t.return,Y=u;break}Y=t.return}}var bp=Math.ceil,Xr=Mt.ReactCurrentDispatcher,Ui=Mt.ReactCurrentOwner,it=Mt.ReactCurrentBatchConfig,ce=0,Ie=null,xe=null,Re=0,Xe=0,Un=an(0),De=0,ja=null,Nn=0,fl=0,Fi=0,ba=null,Qe=null,$i=0,Gn=1/0,Ct=null,Zr=!1,Ws=null,Yt=null,pr=!1,Vt=null,el=0,_a=0,Hs=null,Dr=-1,Pr=0;function Be(){return ce&6?_e():Dr!==-1?Dr:Dr=_e()}function Gt(e){return e.mode&1?ce&2&&Re!==0?Re&-Re:ip.transition!==null?(Pr===0&&(Pr=Nc()),Pr):(e=de,e!==0||(e=window.event,e=e===void 0?16:Tc(e.type)),e):1}function ht(e,t,n,a){if(50<_a)throw _a=0,Hs=null,Error(B(185));qa(e,n,a),(!(ce&2)||e!==Ie)&&(e===Ie&&(!(ce&2)&&(fl|=n),De===4&&Bt(e,Re)),Ye(e,a),n===1&&ce===0&&!(t.mode&1)&&(Gn=_e()+500,ul&&rn()))}function Ye(e,t){var n=e.callbackNode;sf(e,t);var a=Ur(e,e===Ie?Re:0);if(a===0)n!==null&&yo(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(n!=null&&yo(n),t===1)e.tag===0?sp(ou.bind(null,e)):qc(ou.bind(null,e)),np(function(){!(ce&6)&&rn()}),n=null;else{switch(kc(a)){case 1:n=mi;break;case 4:n=Ec;break;case 16:n=Or;break;case 536870912:n=Sc;break;default:n=Or}n=Hm(n,Fm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Fm(e,t){if(Dr=-1,Pr=0,ce&6)throw Error(B(327));var n=e.callbackNode;if(Vn()&&e.callbackNode!==n)return null;var a=Ur(e,e===Ie?Re:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=tl(e,a);else{t=a;var l=ce;ce|=2;var s=zm();(Ie!==e||Re!==t)&&(Ct=null,Gn=_e()+500,hn(e,t));do try{xp();break}catch(u){$m(e,u)}while(!0);bi(),Xr.current=s,ce=l,xe!==null?t=0:(Ie=null,Re=0,t=De)}if(t!==0){if(t===2&&(l=vs(e),l!==0&&(a=l,t=Qs(e,l))),t===1)throw n=ja,hn(e,0),Bt(e,a),Ye(e,_e()),n;if(t===6)Bt(e,a);else{if(l=e.current.alternate,!(a&30)&&!_p(l)&&(t=tl(e,a),t===2&&(s=vs(e),s!==0&&(a=s,t=Qs(e,s))),t===1))throw n=ja,hn(e,0),Bt(e,a),Ye(e,_e()),n;switch(e.finishedWork=l,e.finishedLanes=a,t){case 0:case 1:throw Error(B(345));case 2:un(e,Qe,Ct);break;case 3:if(Bt(e,a),(a&130023424)===a&&(t=$i+500-_e(),10<t)){if(Ur(e,0)!==0)break;if(l=e.suspendedLanes,(l&a)!==a){Be(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Cs(un.bind(null,e,Qe,Ct),t);break}un(e,Qe,Ct);break;case 4:if(Bt(e,a),(a&4194240)===a)break;for(t=e.eventTimes,l=-1;0<a;){var i=31-pt(a);s=1<<i,i=t[i],i>l&&(l=i),a&=~s}if(a=l,a=_e()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*bp(a/1960))-a,10<a){e.timeoutHandle=Cs(un.bind(null,e,Qe,Ct),a);break}un(e,Qe,Ct);break;case 5:un(e,Qe,Ct);break;default:throw Error(B(329))}}}return Ye(e,_e()),e.callbackNode===n?Fm.bind(null,e):null}function Qs(e,t){var n=ba;return e.current.memoizedState.isDehydrated&&(hn(e,t).flags|=256),e=tl(e,t),e!==2&&(t=Qe,Qe=n,t!==null&&qs(t)),e}function qs(e){Qe===null?Qe=e:Qe.push.apply(Qe,e)}function _p(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var a=0;a<n.length;a++){var l=n[a],s=l.getSnapshot;l=l.value;try{if(!yt(s(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bt(e,t){for(t&=~Fi,t&=~fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-pt(t),a=1<<n;e[n]=-1,t&=~a}}function ou(e){if(ce&6)throw Error(B(327));Vn();var t=Ur(e,0);if(!(t&1))return Ye(e,_e()),null;var n=tl(e,t);if(e.tag!==0&&n===2){var a=vs(e);a!==0&&(t=a,n=Qs(e,a))}if(n===1)throw n=ja,hn(e,0),Bt(e,t),Ye(e,_e()),n;if(n===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,un(e,Qe,Ct),Ye(e,_e()),null}function zi(e,t){var n=ce;ce|=1;try{return e(t)}finally{ce=n,ce===0&&(Gn=_e()+500,ul&&rn())}}function kn(e){Vt!==null&&Vt.tag===0&&!(ce&6)&&Vn();var t=ce;ce|=1;var n=it.transition,a=de;try{if(it.transition=null,de=1,e)return e()}finally{de=a,it.transition=n,ce=t,!(ce&6)&&rn()}}function Bi(){Xe=Un.current,ye(Un)}function hn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,tp(n)),xe!==null)for(n=xe.return;n!==null;){var a=n;switch(Ni(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&jr();break;case 3:Kn(),ye(Je),ye($e),Pi();break;case 5:Di(a);break;case 4:Kn();break;case 13:ye(Ee);break;case 19:ye(Ee);break;case 10:_i(a.type._context);break;case 22:case 23:Bi()}n=n.return}if(Ie=e,xe=e=Xt(e.current,null),Re=Xe=t,De=0,ja=null,Fi=fl=Nn=0,Qe=ba=null,fn!==null){for(t=0;t<fn.length;t++)if(n=fn[t],a=n.interleaved,a!==null){n.interleaved=null;var l=a.next,s=n.pending;if(s!==null){var i=s.next;s.next=l,a.next=i}n.pending=a}fn=null}return e}function $m(e,t){do{var n=xe;try{if(bi(),Cr.current=Gr,Yr){for(var a=Se.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}Yr=!1}if(Sn=0,Pe=Te=Se=null,ka=!1,$a=0,Ui.current=null,n===null||n.return===null){De=1,ja=t,xe=null;break}e:{var s=e,i=n.return,u=n,o=t;if(t=Re,u.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var m=o,f=u,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=Ko(i);if(v!==null){v.flags&=-257,Yo(v,i,u,s,t),v.mode&1&&Jo(s,m,t),t=v,o=m;var S=t.updateQueue;if(S===null){var _=new Set;_.add(o),t.updateQueue=_}else S.add(o);break e}else{if(!(t&1)){Jo(s,m,t),ji();break e}o=Error(B(426))}}else if(ge&&u.mode&1){var E=Ko(i);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Yo(E,i,u,s,t),ki(Yn(o,u));break e}}s=o=Yn(o,u),De!==4&&(De=2),ba===null?ba=[s]:ba.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=km(s,o,t);jo(s,g);break e;case 1:u=o;var d=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof d.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Yt===null||!Yt.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=wm(s,u,t);jo(s,w);break e}}s=s.return}while(s!==null)}jm(n)}catch(T){t=T,xe===n&&n!==null&&(xe=n=n.return);continue}break}while(!0)}function zm(){var e=Xr.current;return Xr.current=Gr,e===null?Gr:e}function ji(){(De===0||De===3||De===2)&&(De=4),Ie===null||!(Nn&268435455)&&!(fl&268435455)||Bt(Ie,Re)}function tl(e,t){var n=ce;ce|=2;var a=zm();(Ie!==e||Re!==t)&&(Ct=null,hn(e,t));do try{Cp();break}catch(l){$m(e,l)}while(!0);if(bi(),ce=n,Xr.current=a,xe!==null)throw Error(B(261));return Ie=null,Re=0,De}function Cp(){for(;xe!==null;)Bm(xe)}function xp(){for(;xe!==null&&!Gd();)Bm(xe)}function Bm(e){var t=Wm(e.alternate,e,Xe);e.memoizedProps=e.pendingProps,t===null?jm(e):xe=t,Ui.current=null}function jm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Sp(n,t),n!==null){n.flags&=32767,xe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{De=6,xe=null;return}}else if(n=Ep(n,t,Xe),n!==null){xe=n;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);De===0&&(De=5)}function un(e,t,n){var a=de,l=it.transition;try{it.transition=null,de=1,Tp(e,t,n,a)}finally{it.transition=l,de=a}return null}function Tp(e,t,n,a){do Vn();while(Vt!==null);if(ce&6)throw Error(B(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(of(e,s),e===Ie&&(xe=Ie=null,Re=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pr||(pr=!0,Hm(Or,function(){return Vn(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=it.transition,it.transition=null;var i=de;de=1;var u=ce;ce|=4,Ui.current=null,kp(e,n),Om(n,e),Jf(bs),Fr=!!ws,bs=ws=null,e.current=n,wp(n),Xd(),ce=u,de=i,it.transition=s}else e.current=n;if(pr&&(pr=!1,Vt=e,el=l),s=e.pendingLanes,s===0&&(Yt=null),tf(n.stateNode),Ye(e,_e()),t!==null)for(a=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],a(l.value,{componentStack:l.stack,digest:l.digest});if(Zr)throw Zr=!1,e=Ws,Ws=null,e;return el&1&&e.tag!==0&&Vn(),s=e.pendingLanes,s&1?e===Hs?_a++:(_a=0,Hs=e):_a=0,rn(),null}function Vn(){if(Vt!==null){var e=kc(el),t=it.transition,n=de;try{if(it.transition=null,de=16>e?16:e,Vt===null)var a=!1;else{if(e=Vt,Vt=null,el=0,ce&6)throw Error(B(331));var l=ce;for(ce|=4,Y=e.current;Y!==null;){var s=Y,i=s.child;if(Y.flags&16){var u=s.deletions;if(u!==null){for(var o=0;o<u.length;o++){var m=u[o];for(Y=m;Y!==null;){var f=Y;switch(f.tag){case 0:case 11:case 15:wa(8,f,s)}var p=f.child;if(p!==null)p.return=f,Y=p;else for(;Y!==null;){f=Y;var h=f.sibling,v=f.return;if(Rm(f),f===m){Y=null;break}if(h!==null){h.return=v,Y=h;break}Y=v}}}var S=s.alternate;if(S!==null){var _=S.child;if(_!==null){S.child=null;do{var E=_.sibling;_.sibling=null,_=E}while(_!==null)}}Y=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,Y=i;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:wa(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Y=g;break e}Y=s.return}}var d=e.current;for(Y=d;Y!==null;){i=Y;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,Y=y;else e:for(i=d;Y!==null;){if(u=Y,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:dl(9,u)}}catch(T){we(u,u.return,T)}if(u===i){Y=null;break e}var w=u.sibling;if(w!==null){w.return=u.return,Y=w;break e}Y=u.return}}if(ce=l,rn(),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(rl,e)}catch{}a=!0}return a}finally{de=n,it.transition=t}}return!1}function uu(e,t,n){t=Yn(n,t),t=km(e,t,1),e=Kt(e,t,1),t=Be(),e!==null&&(qa(e,1,t),Ye(e,t))}function we(e,t,n){if(e.tag===3)uu(e,e,n);else for(;t!==null;){if(t.tag===3){uu(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Yt===null||!Yt.has(a))){e=Yn(n,e),e=wm(t,e,1),t=Kt(t,e,1),e=Be(),t!==null&&(qa(t,1,e),Ye(t,e));break}}t=t.return}}function Dp(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),t=Be(),e.pingedLanes|=e.suspendedLanes&n,Ie===e&&(Re&n)===n&&(De===4||De===3&&(Re&130023424)===Re&&500>_e()-$i?hn(e,0):Fi|=n),Ye(e,t)}function Vm(e,t){t===0&&(e.mode&1?(t=rr,rr<<=1,!(rr&130023424)&&(rr=4194304)):t=1);var n=Be();e=Rt(e,t),e!==null&&(qa(e,t,n),Ye(e,n))}function Pp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Vm(e,n)}function Ip(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(B(314))}a!==null&&a.delete(t),Vm(e,n)}var Wm;Wm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Je.current)qe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return qe=!1,vp(e,t,n);qe=!!(e.flags&131072)}else qe=!1,ge&&t.flags&1048576&&Jc(t,Hr,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Tr(e,t),e=t.pendingProps;var l=Qn(t,$e.current);jn(t,n),l=Li(null,t,a,e,l,n);var s=Ri();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ke(a)?(s=!0,Vr(t)):s=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,xi(t),l.updater=ml,t.stateNode=l,l._reactInternals=t,Rs(t,a,e,n),t=Os(null,t,a,!0,s,n)):(t.tag=0,ge&&s&&Si(t),ze(null,t,l,n),t=t.child),t;case 16:a=t.elementType;e:{switch(Tr(e,t),e=t.pendingProps,l=a._init,a=l(a._payload),t.type=a,l=t.tag=Rp(a),e=mt(a,e),l){case 0:t=Ms(null,t,a,e,n);break e;case 1:t=Zo(null,t,a,e,n);break e;case 11:t=Go(null,t,a,e,n);break e;case 14:t=Xo(null,t,a,mt(a.type,e),n);break e}throw Error(B(306,a,""))}return t;case 0:return a=t.type,l=t.pendingProps,l=t.elementType===a?l:mt(a,l),Ms(e,t,a,l,n);case 1:return a=t.type,l=t.pendingProps,l=t.elementType===a?l:mt(a,l),Zo(e,t,a,l,n);case 3:e:{if(xm(t),e===null)throw Error(B(387));a=t.pendingProps,s=t.memoizedState,l=s.element,em(e,t),Jr(t,a,null,n);var i=t.memoizedState;if(a=i.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){l=Yn(Error(B(423)),t),t=eu(e,t,a,n,l);break e}else if(a!==l){l=Yn(Error(B(424)),t),t=eu(e,t,a,n,l);break e}else for(Ze=Jt(t.stateNode.containerInfo.firstChild),et=t,ge=!0,ft=null,n=Xc(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qn(),a===l){t=At(e,t,n);break e}ze(e,t,a,n)}t=t.child}return t;case 5:return tm(t),e===null&&Ps(t),a=t.type,l=t.pendingProps,s=e!==null?e.memoizedProps:null,i=l.children,_s(a,l)?i=null:s!==null&&_s(a,s)&&(t.flags|=32),Cm(e,t),ze(e,t,i,n),t.child;case 6:return e===null&&Ps(t),null;case 13:return Tm(e,t,n);case 4:return Ti(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Jn(t,null,a,n):ze(e,t,a,n),t.child;case 11:return a=t.type,l=t.pendingProps,l=t.elementType===a?l:mt(a,l),Go(e,t,a,l,n);case 7:return ze(e,t,t.pendingProps,n),t.child;case 8:return ze(e,t,t.pendingProps.children,n),t.child;case 12:return ze(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,l=t.pendingProps,s=t.memoizedProps,i=l.value,pe(Qr,a._currentValue),a._currentValue=i,s!==null)if(yt(s.value,i)){if(s.children===l.children&&!Je.current){t=At(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var u=s.dependencies;if(u!==null){i=s.child;for(var o=u.firstContext;o!==null;){if(o.context===a){if(s.tag===1){o=Pt(-1,n&-n),o.tag=2;var m=s.updateQueue;if(m!==null){m=m.shared;var f=m.pending;f===null?o.next=o:(o.next=f.next,f.next=o),m.pending=o}}s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Is(s.return,n,t),u.lanes|=n;break}o=o.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(B(341));i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Is(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}ze(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,a=t.pendingProps.children,jn(t,n),l=ot(l),a=a(l),t.flags|=1,ze(e,t,a,n),t.child;case 14:return a=t.type,l=mt(a,t.pendingProps),l=mt(a.type,l),Xo(e,t,a,l,n);case 15:return bm(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,l=t.pendingProps,l=t.elementType===a?l:mt(a,l),Tr(e,t),t.tag=1,Ke(a)?(e=!0,Vr(t)):e=!1,jn(t,n),Nm(t,a,l),Rs(t,a,l,n),Os(null,t,a,!0,e,n);case 19:return Dm(e,t,n);case 22:return _m(e,t,n)}throw Error(B(156,t.tag))};function Hm(e,t){return vc(e,t)}function Lp(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function st(e,t,n,a){return new Lp(e,t,n,a)}function Vi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rp(e){if(typeof e=="function")return Vi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===oi)return 11;if(e===ui)return 14}return 2}function Xt(e,t){var n=e.alternate;return n===null?(n=st(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ir(e,t,n,a,l,s){var i=2;if(a=e,typeof e=="function")Vi(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case xn:return yn(n.children,l,s,t);case ii:i=8,l|=8;break;case as:return e=st(12,n,t,l|2),e.elementType=as,e.lanes=s,e;case rs:return e=st(13,n,t,l),e.elementType=rs,e.lanes=s,e;case ls:return e=st(19,n,t,l),e.elementType=ls,e.lanes=s,e;case tc:return pl(n,l,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Zu:i=10;break e;case ec:i=9;break e;case oi:i=11;break e;case ui:i=14;break e;case Ft:i=16,a=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=st(i,n,t,l),t.elementType=e,t.type=a,t.lanes=s,t}function yn(e,t,n,a){return e=st(7,e,a,t),e.lanes=n,e}function pl(e,t,n,a){return e=st(22,e,a,t),e.elementType=tc,e.lanes=n,e.stateNode={isHidden:!1},e}function Hl(e,t,n){return e=st(6,e,null,t),e.lanes=n,e}function Ql(e,t,n){return t=st(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ap(e,t,n,a,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cl(0),this.expirationTimes=Cl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cl(0),this.identifierPrefix=a,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Wi(e,t,n,a,l,s,i,u,o){return e=new Ap(e,t,n,u,o),t===1?(t=1,s===!0&&(t|=8)):t=0,s=st(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xi(s),e}function Mp(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cn,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}function Qm(e){if(!e)return tn;e=e._reactInternals;e:{if(bn(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ke(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var n=e.type;if(Ke(n))return Qc(e,n,t)}return t}function qm(e,t,n,a,l,s,i,u,o){return e=Wi(n,a,!0,e,l,s,i,u,o),e.context=Qm(null),n=e.current,a=Be(),l=Gt(n),s=Pt(a,l),s.callback=t??null,Kt(n,s,l),e.current.lanes=l,qa(e,l,a),Ye(e,a),e}function hl(e,t,n,a){var l=t.current,s=Be(),i=Gt(l);return n=Qm(n),t.context===null?t.context=n:t.pendingContext=n,t=Pt(s,i),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=Kt(l,t,i),e!==null&&(ht(e,l,i,s),_r(e,l,i)),i}function nl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function cu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Hi(e,t){cu(e,t),(e=e.alternate)&&cu(e,t)}function Op(){return null}var Jm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Qi(e){this._internalRoot=e}yl.prototype.render=Qi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));hl(e,t,null,null)};yl.prototype.unmount=Qi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;kn(function(){hl(null,e,null,null)}),t[Lt]=null}};function yl(e){this._internalRoot=e}yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=_c();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zt.length&&t!==0&&t<zt[n].priority;n++);zt.splice(n,0,e),n===0&&xc(e)}};function qi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function gl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mu(){}function Up(e,t,n,a,l){if(l){if(typeof a=="function"){var s=a;a=function(){var m=nl(i);s.call(m)}}var i=qm(t,a,e,0,null,!1,!1,"",mu);return e._reactRootContainer=i,e[Lt]=i.current,Aa(e.nodeType===8?e.parentNode:e),kn(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof a=="function"){var u=a;a=function(){var m=nl(o);u.call(m)}}var o=Wi(e,0,!1,null,null,!1,!1,"",mu);return e._reactRootContainer=o,e[Lt]=o.current,Aa(e.nodeType===8?e.parentNode:e),kn(function(){hl(t,o,n,a)}),o}function vl(e,t,n,a,l){var s=n._reactRootContainer;if(s){var i=s;if(typeof l=="function"){var u=l;l=function(){var o=nl(i);u.call(o)}}hl(t,i,e,l)}else i=Up(n,t,e,l,a);return nl(i)}wc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ha(t.pendingLanes);n!==0&&(di(t,n|1),Ye(t,_e()),!(ce&6)&&(Gn=_e()+500,rn()))}break;case 13:kn(function(){var a=Rt(e,1);if(a!==null){var l=Be();ht(a,e,1,l)}}),Hi(e,1)}};fi=function(e){if(e.tag===13){var t=Rt(e,134217728);if(t!==null){var n=Be();ht(t,e,134217728,n)}Hi(e,134217728)}};bc=function(e){if(e.tag===13){var t=Gt(e),n=Rt(e,t);if(n!==null){var a=Be();ht(n,e,t,a)}Hi(e,t)}};_c=function(){return de};Cc=function(e,t){var n=de;try{return de=e,t()}finally{de=n}};hs=function(e,t,n){switch(t){case"input":if(os(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var l=ol(a);if(!l)throw Error(B(90));ac(a),os(a,l)}}}break;case"textarea":lc(e,n);break;case"select":t=n.value,t!=null&&Fn(e,!!n.multiple,t,!1)}};dc=zi;fc=kn;var Fp={usingClientEntryPoint:!1,Events:[Ka,In,ol,cc,mc,zi]},ca={findFiberByHostInstance:dn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$p={bundleType:ca.bundleType,version:ca.version,rendererPackageName:ca.rendererPackageName,rendererConfig:ca.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yc(e),e===null?null:e.stateNode},findFiberByHostInstance:ca.findFiberByHostInstance||Op,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hr.isDisabled&&hr.supportsFiber)try{rl=hr.inject($p),St=hr}catch{}}nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fp;nt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qi(t))throw Error(B(200));return Mp(e,t,null,n)};nt.createRoot=function(e,t){if(!qi(e))throw Error(B(299));var n=!1,a="",l=Jm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Wi(e,1,!1,null,null,n,!1,a,l),e[Lt]=t.current,Aa(e.nodeType===8?e.parentNode:e),new Qi(t)};nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=yc(t),e=e===null?null:e.stateNode,e};nt.flushSync=function(e){return kn(e)};nt.hydrate=function(e,t,n){if(!gl(t))throw Error(B(200));return vl(null,e,t,!0,n)};nt.hydrateRoot=function(e,t,n){if(!qi(e))throw Error(B(405));var a=n!=null&&n.hydratedSources||null,l=!1,s="",i=Jm;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=qm(t,null,e,1,n??null,l,!1,s,i),e[Lt]=t.current,Aa(e),a)for(e=0;e<a.length;e++)n=a[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new yl(t)};nt.render=function(e,t,n){if(!gl(t))throw Error(B(200));return vl(null,e,t,!1,n)};nt.unmountComponentAtNode=function(e){if(!gl(e))throw Error(B(40));return e._reactRootContainer?(kn(function(){vl(null,null,e,!1,function(){e._reactRootContainer=null,e[Lt]=null})}),!0):!1};nt.unstable_batchedUpdates=zi;nt.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!gl(n))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return vl(e,t,n,!1,a)};nt.version="18.3.1-next-f1338f8080-20240426";function Km(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Km)}catch(e){console.error(e)}}Km(),Ku.exports=nt;var zp=Ku.exports,Ym,du=zp;Ym=du.createRoot,du.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Va(){return Va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Va.apply(this,arguments)}var Wt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Wt||(Wt={}));const fu="popstate";function Bp(e){e===void 0&&(e={});function t(a,l){let{pathname:s,search:i,hash:u}=a.location;return Js("",{pathname:s,search:i,hash:u},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){return typeof l=="string"?l:al(l)}return Vp(t,n,null,e)}function Ce(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Gm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jp(){return Math.random().toString(36).substr(2,8)}function pu(e,t){return{usr:e.state,key:e.key,idx:t}}function Js(e,t,n,a){return n===void 0&&(n=null),Va({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ta(t):t,{state:n,key:t&&t.key||a||jp()})}function al(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function ta(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function Vp(e,t,n,a){a===void 0&&(a={});let{window:l=document.defaultView,v5Compat:s=!1}=a,i=l.history,u=Wt.Pop,o=null,m=f();m==null&&(m=0,i.replaceState(Va({},i.state,{idx:m}),""));function f(){return(i.state||{idx:null}).idx}function p(){u=Wt.Pop;let E=f(),g=E==null?null:E-m;m=E,o&&o({action:u,location:_.location,delta:g})}function h(E,g){u=Wt.Push;let d=Js(_.location,E,g);m=f()+1;let y=pu(d,m),w=_.createHref(d);try{i.pushState(y,"",w)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;l.location.assign(w)}s&&o&&o({action:u,location:_.location,delta:1})}function v(E,g){u=Wt.Replace;let d=Js(_.location,E,g);m=f();let y=pu(d,m),w=_.createHref(d);i.replaceState(y,"",w),s&&o&&o({action:u,location:_.location,delta:0})}function S(E){let g=l.location.origin!=="null"?l.location.origin:l.location.href,d=typeof E=="string"?E:al(E);return d=d.replace(/ $/,"%20"),Ce(g,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,g)}let _={get action(){return u},get location(){return e(l,i)},listen(E){if(o)throw new Error("A history only accepts one active listener");return l.addEventListener(fu,p),o=E,()=>{l.removeEventListener(fu,p),o=null}},createHref(E){return t(l,E)},createURL:S,encodeLocation(E){let g=S(E);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:v,go(E){return i.go(E)}};return _}var hu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(hu||(hu={}));function Wp(e,t,n){return n===void 0&&(n="/"),Hp(e,t,n)}function Hp(e,t,n,a){let l=typeof t=="string"?ta(t):t,s=Ji(l.pathname||"/",n);if(s==null)return null;let i=Xm(e);Qp(i);let u=null;for(let o=0;u==null&&o<i.length;++o){let m=rh(s);u=th(i[o],m)}return u}function Xm(e,t,n,a){t===void 0&&(t=[]),n===void 0&&(n=[]),a===void 0&&(a="");let l=(s,i,u)=>{let o={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};o.relativePath.startsWith("/")&&(Ce(o.relativePath.startsWith(a),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(a.length));let m=Zt([a,o.relativePath]),f=n.concat(o);s.children&&s.children.length>0&&(Ce(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),Xm(s.children,t,f,m)),!(s.path==null&&!s.index)&&t.push({path:m,score:Zp(m,s.index),routesMeta:f})};return e.forEach((s,i)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))l(s,i);else for(let o of Zm(s.path))l(s,i,o)}),t}function Zm(e){let t=e.split("/");if(t.length===0)return[];let[n,...a]=t,l=n.endsWith("?"),s=n.replace(/\?$/,"");if(a.length===0)return l?[s,""]:[s];let i=Zm(a.join("/")),u=[];return u.push(...i.map(o=>o===""?s:[s,o].join("/"))),l&&u.push(...i),u.map(o=>e.startsWith("/")&&o===""?"/":o)}function Qp(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:eh(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const qp=/^:[\w-]+$/,Jp=3,Kp=2,Yp=1,Gp=10,Xp=-2,yu=e=>e==="*";function Zp(e,t){let n=e.split("/"),a=n.length;return n.some(yu)&&(a+=Xp),t&&(a+=Kp),n.filter(l=>!yu(l)).reduce((l,s)=>l+(qp.test(s)?Jp:s===""?Yp:Gp),a)}function eh(e,t){return e.length===t.length&&e.slice(0,-1).every((a,l)=>a===t[l])?e[e.length-1]-t[t.length-1]:0}function th(e,t,n){let{routesMeta:a}=e,l={},s="/",i=[];for(let u=0;u<a.length;++u){let o=a[u],m=u===a.length-1,f=s==="/"?t:t.slice(s.length)||"/",p=nh({path:o.relativePath,caseSensitive:o.caseSensitive,end:m},f),h=o.route;if(!p)return null;Object.assign(l,p.params),i.push({params:l,pathname:Zt([s,p.pathname]),pathnameBase:oh(Zt([s,p.pathnameBase])),route:h}),p.pathnameBase!=="/"&&(s=Zt([s,p.pathnameBase]))}return i}function nh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=ah(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let s=l[0],i=s.replace(/(.)\/+$/,"$1"),u=l.slice(1);return{params:a.reduce((m,f,p)=>{let{paramName:h,isOptional:v}=f;if(h==="*"){let _=u[p]||"";i=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const S=u[p];return v&&!S?m[h]=void 0:m[h]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:s,pathnameBase:i,pattern:e}}function ah(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Gm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,u,o)=>(a.push({paramName:u,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),a]}function rh(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Gm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ji(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}function lh(e,t){t===void 0&&(t="/");let{pathname:n,search:a="",hash:l=""}=typeof e=="string"?ta(e):e;return{pathname:n?n.startsWith("/")?n:sh(n,t):t,search:uh(a),hash:ch(l)}}function sh(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function ql(e,t,n,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ih(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ki(e,t){let n=ih(e);return t?n.map((a,l)=>l===n.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function Yi(e,t,n,a){a===void 0&&(a=!1);let l;typeof e=="string"?l=ta(e):(l=Va({},e),Ce(!l.pathname||!l.pathname.includes("?"),ql("?","pathname","search",l)),Ce(!l.pathname||!l.pathname.includes("#"),ql("#","pathname","hash",l)),Ce(!l.search||!l.search.includes("#"),ql("#","search","hash",l)));let s=e===""||l.pathname==="",i=s?"/":l.pathname,u;if(i==null)u=n;else{let p=t.length-1;if(!a&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),p-=1;l.pathname=h.join("/")}u=p>=0?t[p]:"/"}let o=lh(l,u),m=i&&i!=="/"&&i.endsWith("/"),f=(s||i===".")&&n.endsWith("/");return!o.pathname.endsWith("/")&&(m||f)&&(o.pathname+="/"),o}const Zt=e=>e.join("/").replace(/\/\/+/g,"/"),oh=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),uh=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ch=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function mh(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ed=["post","put","patch","delete"];new Set(ed);const dh=["get",...ed];new Set(dh);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wa(){return Wa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Wa.apply(this,arguments)}const Gi=c.createContext(null),fh=c.createContext(null),ln=c.createContext(null),El=c.createContext(null),Ot=c.createContext({outlet:null,matches:[],isDataRoute:!1}),td=c.createContext(null);function ph(e,t){let{relative:n}=t===void 0?{}:t;na()||Ce(!1);let{basename:a,navigator:l}=c.useContext(ln),{hash:s,pathname:i,search:u}=ad(e,{relative:n}),o=i;return a!=="/"&&(o=i==="/"?a:Zt([a,i])),l.createHref({pathname:o,search:u,hash:s})}function na(){return c.useContext(El)!=null}function wt(){return na()||Ce(!1),c.useContext(El).location}function nd(e){c.useContext(ln).static||c.useLayoutEffect(e)}function bt(){let{isDataRoute:e}=c.useContext(Ot);return e?Th():hh()}function hh(){na()||Ce(!1);let e=c.useContext(Gi),{basename:t,future:n,navigator:a}=c.useContext(ln),{matches:l}=c.useContext(Ot),{pathname:s}=wt(),i=JSON.stringify(Ki(l,n.v7_relativeSplatPath)),u=c.useRef(!1);return nd(()=>{u.current=!0}),c.useCallback(function(m,f){if(f===void 0&&(f={}),!u.current)return;if(typeof m=="number"){a.go(m);return}let p=Yi(m,JSON.parse(i),s,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Zt([t,p.pathname])),(f.replace?a.replace:a.push)(p,f.state,f)},[t,a,i,s,e])}function yh(){let{matches:e}=c.useContext(Ot),t=e[e.length-1];return t?t.params:{}}function ad(e,t){let{relative:n}=t===void 0?{}:t,{future:a}=c.useContext(ln),{matches:l}=c.useContext(Ot),{pathname:s}=wt(),i=JSON.stringify(Ki(l,a.v7_relativeSplatPath));return c.useMemo(()=>Yi(e,JSON.parse(i),s,n==="path"),[e,i,s,n])}function gh(e,t){return vh(e,t)}function vh(e,t,n,a){na()||Ce(!1);let{navigator:l}=c.useContext(ln),{matches:s}=c.useContext(Ot),i=s[s.length-1],u=i?i.params:{};i&&i.pathname;let o=i?i.pathnameBase:"/";i&&i.route;let m=wt(),f;if(t){var p;let E=typeof t=="string"?ta(t):t;o==="/"||(p=E.pathname)!=null&&p.startsWith(o)||Ce(!1),f=E}else f=m;let h=f.pathname||"/",v=h;if(o!=="/"){let E=o.replace(/^\//,"").split("/");v="/"+h.replace(/^\//,"").split("/").slice(E.length).join("/")}let S=Wp(e,{pathname:v}),_=wh(S&&S.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:Zt([o,l.encodeLocation?l.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?o:Zt([o,l.encodeLocation?l.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,a);return t&&_?c.createElement(El.Provider,{value:{location:Wa({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Wt.Pop}},_):_}function Eh(){let e=xh(),t=mh(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return c.createElement(c.Fragment,null,c.createElement("h2",null,"Unexpected Application Error!"),c.createElement("h3",{style:{fontStyle:"italic"}},t),n?c.createElement("pre",{style:l},n):null,null)}const Sh=c.createElement(Eh,null);class Nh extends c.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?c.createElement(Ot.Provider,{value:this.props.routeContext},c.createElement(td.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kh(e){let{routeContext:t,match:n,children:a}=e,l=c.useContext(Gi);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),c.createElement(Ot.Provider,{value:t},a)}function wh(e,t,n,a){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),a===void 0&&(a=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=a)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,u=(l=n)==null?void 0:l.errors;if(u!=null){let f=i.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);f>=0||Ce(!1),i=i.slice(0,Math.min(i.length,f+1))}let o=!1,m=-1;if(n&&a&&a.v7_partialHydration)for(let f=0;f<i.length;f++){let p=i[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=f),p.route.id){let{loaderData:h,errors:v}=n,S=p.route.loader&&h[p.route.id]===void 0&&(!v||v[p.route.id]===void 0);if(p.route.lazy||S){o=!0,m>=0?i=i.slice(0,m+1):i=[i[0]];break}}}return i.reduceRight((f,p,h)=>{let v,S=!1,_=null,E=null;n&&(v=u&&p.route.id?u[p.route.id]:void 0,_=p.route.errorElement||Sh,o&&(m<0&&h===0?(Dh("route-fallback"),S=!0,E=null):m===h&&(S=!0,E=p.route.hydrateFallbackElement||null)));let g=t.concat(i.slice(0,h+1)),d=()=>{let y;return v?y=_:S?y=E:p.route.Component?y=c.createElement(p.route.Component,null):p.route.element?y=p.route.element:y=f,c.createElement(kh,{match:p,routeContext:{outlet:f,matches:g,isDataRoute:n!=null},children:y})};return n&&(p.route.ErrorBoundary||p.route.errorElement||h===0)?c.createElement(Nh,{location:n.location,revalidation:n.revalidation,component:_,error:v,children:d(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):d()},null)}var rd=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(rd||{}),ld=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ld||{});function bh(e){let t=c.useContext(Gi);return t||Ce(!1),t}function _h(e){let t=c.useContext(fh);return t||Ce(!1),t}function Ch(e){let t=c.useContext(Ot);return t||Ce(!1),t}function sd(e){let t=Ch(),n=t.matches[t.matches.length-1];return n.route.id||Ce(!1),n.route.id}function xh(){var e;let t=c.useContext(td),n=_h(),a=sd();return t!==void 0?t:(e=n.errors)==null?void 0:e[a]}function Th(){let{router:e}=bh(rd.UseNavigateStable),t=sd(ld.UseNavigateStable),n=c.useRef(!1);return nd(()=>{n.current=!0}),c.useCallback(function(l,s){s===void 0&&(s={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,Wa({fromRouteId:t},s)))},[e,t])}const gu={};function Dh(e,t,n){gu[e]||(gu[e]=!0)}const vu={};function Ph(e,t){vu[t]||(vu[t]=!0,console.warn(t))}const Eu=(e,t,n)=>Ph(e," React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function Ih(e,t){e!=null&&e.v7_startTransition||Eu("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),e!=null&&e.v7_relativeSplatPath||Eu("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function gn(e){let{to:t,replace:n,state:a,relative:l}=e;na()||Ce(!1);let{future:s,static:i}=c.useContext(ln),{matches:u}=c.useContext(Ot),{pathname:o}=wt(),m=bt(),f=Yi(t,Ki(u,s.v7_relativeSplatPath),o,l==="path"),p=JSON.stringify(f);return c.useEffect(()=>m(JSON.parse(p),{replace:n,state:a,relative:l}),[m,p,l,n,a]),null}function me(e){Ce(!1)}function Lh(e){let{basename:t="/",children:n=null,location:a,navigationType:l=Wt.Pop,navigator:s,static:i=!1,future:u}=e;na()&&Ce(!1);let o=t.replace(/^\/*/,"/"),m=c.useMemo(()=>({basename:o,navigator:s,static:i,future:Wa({v7_relativeSplatPath:!1},u)}),[o,u,s,i]);typeof a=="string"&&(a=ta(a));let{pathname:f="/",search:p="",hash:h="",state:v=null,key:S="default"}=a,_=c.useMemo(()=>{let E=Ji(f,o);return E==null?null:{location:{pathname:E,search:p,hash:h,state:v,key:S},navigationType:l}},[o,f,p,h,v,S,l]);return _==null?null:c.createElement(ln.Provider,{value:m},c.createElement(El.Provider,{children:n,value:_}))}function Xi(e){let{children:t,location:n}=e;return gh(Ks(t),n)}new Promise(()=>{});function Ks(e,t){t===void 0&&(t=[]);let n=[];return c.Children.forEach(e,(a,l)=>{if(!c.isValidElement(a))return;let s=[...t,l];if(a.type===c.Fragment){n.push.apply(n,Ks(a.props.children,s));return}a.type!==me&&Ce(!1),!a.props.index||!a.props.children||Ce(!1);let i={id:a.props.id||s.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(i.children=Ks(a.props.children,s)),n.push(i)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ys(){return Ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ys.apply(this,arguments)}function Rh(e,t){if(e==null)return{};var n={},a=Object.keys(e),l,s;for(s=0;s<a.length;s++)l=a[s],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function Ah(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Mh(e,t){return e.button===0&&(!t||t==="_self")&&!Ah(e)}function Gs(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let a=e[n];return t.concat(Array.isArray(a)?a.map(l=>[n,l]):[[n,a]])},[]))}function Oh(e,t){let n=Gs(e);return t&&t.forEach((a,l)=>{n.has(l)||t.getAll(l).forEach(s=>{n.append(l,s)})}),n}const Uh=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Fh="6";try{window.__reactRouterVersion=Fh}catch{}const $h="startTransition",Su=Ad[$h];function zh(e){let{basename:t,children:n,future:a,window:l}=e,s=c.useRef();s.current==null&&(s.current=Bp({window:l,v5Compat:!0}));let i=s.current,[u,o]=c.useState({action:i.action,location:i.location}),{v7_startTransition:m}=a||{},f=c.useCallback(p=>{m&&Su?Su(()=>o(p)):o(p)},[o,m]);return c.useLayoutEffect(()=>i.listen(f),[i,f]),c.useEffect(()=>Ih(a),[a]),c.createElement(Lh,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:i,future:a})}const Bh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wn=c.forwardRef(function(t,n){let{onClick:a,relative:l,reloadDocument:s,replace:i,state:u,target:o,to:m,preventScrollReset:f,viewTransition:p}=t,h=Rh(t,Uh),{basename:v}=c.useContext(ln),S,_=!1;if(typeof m=="string"&&jh.test(m)&&(S=m,Bh))try{let y=new URL(window.location.href),w=m.startsWith("//")?new URL(y.protocol+m):new URL(m),T=Ji(w.pathname,v);w.origin===y.origin&&T!=null?m=T+w.search+w.hash:_=!0}catch{}let E=ph(m,{relative:l}),g=Vh(m,{replace:i,state:u,target:o,preventScrollReset:f,relative:l,viewTransition:p});function d(y){a&&a(y),y.defaultPrevented||g(y)}return c.createElement("a",Ys({},h,{href:S||E,onClick:_||s?a:d,ref:n,target:o}))});var Nu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Nu||(Nu={}));var ku;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ku||(ku={}));function Vh(e,t){let{target:n,replace:a,state:l,preventScrollReset:s,relative:i,viewTransition:u}=t===void 0?{}:t,o=bt(),m=wt(),f=ad(e,{relative:i});return c.useCallback(p=>{if(Mh(p,n)){p.preventDefault();let h=a!==void 0?a:al(m)===al(f);o(e,{replace:h,state:l,preventScrollReset:s,relative:i,viewTransition:u})}},[m,o,f,a,l,n,e,s,i,u])}function Wh(e){let t=c.useRef(Gs(e)),n=c.useRef(!1),a=wt(),l=c.useMemo(()=>Oh(a.search,n.current?null:t.current),[a.search]),s=bt(),i=c.useCallback((u,o)=>{const m=Gs(typeof u=="function"?u(l):u);n.current=!0,s("?"+m,o)},[s,l]);return[l,i]}const Zi="tj_token";function id(e){localStorage.setItem(Zi,e)}function eo(){return localStorage.getItem(Zi)}function Hh(){localStorage.removeItem(Zi)}async function to(e){const t=await e.text();if(!t)return{};try{return JSON.parse(t)}catch{return{}}}async function Qh(){const e=eo();if(!e)return null;try{const t=await fetch("http://localhost:5175/me",{headers:{Authorization:"Bearer "+e}});if(!t.ok)return null;const n=await t.json();return(n==null?void 0:n.me)??null}catch{return null}}async function qh(e,t){const a=await fetch("http://localhost:5175"+"/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),l=await to(a);if(!a.ok)throw new Error((l==null?void 0:l.error)||"Invalid credentials");return l!=null&&l.token&&id(l.token),l}async function Jh(e={}){const{email:t,password:n,firstName:a,lastName:l,dateOfBirth:s,phone:i}=e,o=await fetch("http://localhost:5175"+"/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n,firstName:a,lastName:l,dateOfBirth:s,phone:i})}),m=await to(o);if(!o.ok)throw new Error((m==null?void 0:m.error)||"Unable to create account");return m!=null&&m.token&&id(m.token),m}async function J(e,t={}){const n=eo(),a="http://localhost:5175",l={"Content-Type":"application/json",...t.headers||{},...n?{Authorization:"Bearer "+n}:{}},s=await fetch(a+e,{...t,headers:l}),i=await to(s);if(!s.ok){const u=new Error((i==null?void 0:i.error)||"Request failed");throw u.status=s.status,u.body=i,u}return i}const od=c.createContext(void 0);function Kh({children:e}){const t="".trim(),n="dev@timejump.local".trim()||"dev@timejump.local",[a,l]=c.useState(null),[s,i]=c.useState(!0);function u(){l(t?{email:n,role:t,isDevMock:!0}:null),i(!1)}const o=h=>{l(h)};async function m(){if(t){u();return}i(!0);try{const h=await Qh();l(h||null)}finally{i(!1)}}c.useEffect(()=>{if(t){u();return}eo()?m():i(!1)},[t,n]);function f(){if(t){u();return}Hh(),l(null)}const p=c.useMemo(()=>({user:a,actualUser:a,role:(a==null?void 0:a.role)??null,actualRole:(a==null?void 0:a.role)??null,setUser:o,refresh:m,signOut:f,loading:s}),[a,s]);return r.createElement(od.Provider,{value:p},e)}const Me=()=>c.useContext(od),Xs="tj-auth-toast",Zs="tj-auth-toast-event",Yh={in:{type:"in",title:"You're signed in",message:"Signed in successfully."},out:{type:"out",title:"You're signed out",message:"Signed out. See you soon!"}};function no(e,t={}){if(typeof window>"u")return;const n=typeof e=="string"?{type:e,...t}:e;n!=null&&n.type&&window.sessionStorage&&window.sessionStorage.setItem(Xs,JSON.stringify(n))}function Gh(e){if(typeof window>"u")return;const t=typeof e=="string"?{type:e}:e;t!=null&&t.type&&window.dispatchEvent(new CustomEvent(Zs,{detail:t}))}function Xh(){if(typeof window>"u"||!window.sessionStorage)return null;const e=window.sessionStorage.getItem(Xs);if(!e)return null;window.sessionStorage.removeItem(Xs);try{return JSON.parse(e)}catch{return{type:e}}}function wu(e){if(!e)return null;const t=typeof e=="string"?{type:e}:e;if(!(t!=null&&t.type))return null;if(t.type==="require-signin"){const a=Zh(t.redirectTo);return{type:"require-signin",title:t.title||"Sign in required",message:t.message||"Create a free guest account to save items to your cart.",actions:t.actions||ey(a),persist:!0}}const n=Yh[t.type];return n?{...n,title:t.title||n.title,message:t.message||n.message,persist:!!t.persist}:null}function Zh(e){return typeof e!="string"?"/":e.startsWith("/")?e:"/"}function ey(e){const t=new URLSearchParams;e&&e!=="/"&&t.set("redirect",e);const n=t.toString(),a=n?`/login?${n}`:"/login",l=new URLSearchParams(t);l.set("mode","signup");const s=`/login?${l.toString()}`;return[{label:"Sign In",to:a,primary:!0},{label:"Create Account",to:s}]}function ud(e){const[t,n]=c.useState(null);return c.useEffect(()=>{if(typeof window>"u")return;function a(l){const s=wu(l.detail);s&&n(s)}return window.addEventListener(Zs,a),()=>window.removeEventListener(Zs,a)},[]),c.useEffect(()=>{const a=Xh();if(!a)return;const l=wu(a);l&&n(l)},[e]),c.useEffect(()=>{if(!t||t.persist)return;const a=window.setTimeout(()=>n(null),3500);return()=>window.clearTimeout(a)},[t]),{authToast:t,dismissToast:()=>n(null)}}const cd=c.createContext();function bu(e){return!e||!e.id?null:`themeParkCart_${e.id}`}function ty({children:e}){const[t,n]=c.useState([]),{user:a}=Me(),l=!!a;function s(){if(typeof window>"u")return"/";const{pathname:h="/",search:v=""}=window.location||{};return!h||!h.startsWith("/")?"/":`${h}${v}`}function i(){return l?!1:(Gh({type:"require-signin",redirectTo:s()}),!0)}c.useEffect(()=>{localStorage.setItem("themeParkCart",JSON.stringify(t))},[t]),c.useEffect(()=>{if(a&&a.id){const h=bu(a);console.log("User changed, loading cart from key:",h);try{const v=localStorage.getItem(h);n(v?JSON.parse(v):[])}catch(v){console.error("Failed to load user-specific cart",v),n([])}}else console.log("User logged out, clearing cart state."),n([])},[a]),c.useEffect(()=>{const h=bu(a);h&&(console.log("Items changed, saving cart to key:",h),localStorage.setItem(h,JSON.stringify(t)))},[t,a]);function u(h){i()||n(v=>{let S=v;h.kind==="parking"&&(S=v.filter(E=>E.kind!=="parking"));const _=S.findIndex(E=>E.kind===h.kind&&E.id===h.id&&JSON.stringify(E.meta||{})===JSON.stringify(h.meta||{}));if(_>=0){const E=[...S];return E[_]={...E[_],qty:(E[_].qty||1)+(h.qty||1)},E}return[...S,{qty:1,...h}]})}function o(h){i()||n(v=>v.filter((S,_)=>_!==h))}function m(h,v){i()||n(S=>S.map((_,E)=>E===h?{..._,qty:Math.max(1,v)}:_))}function f(){i()||n([])}const p=c.useMemo(()=>t.reduce((h,v)=>h+Number(v.price||0)*Number(v.qty||1),0),[t]);return r.createElement(cd.Provider,{value:{items:t,add:u,remove:o,updateQty:m,clear:f,total:p}},e)}const Ga=()=>c.useContext(cd),_u=e=>`$${Number(e||0).toFixed(2)}`;function ny(e){if(!e)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(e)){const[n,a,l]=e.split("-").map(Number);return new Date(n,a-1,l).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric",year:"numeric"})}const t=new Date(e);return Number.isNaN(t.getTime())?"":t.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric",year:"numeric"})}function ay({onClose:e}){const{user:t}=Me(),{items:n,add:a,remove:l,updateQty:s,total:i,clear:u}=Ga(),[o,m]=c.useState([]),[f,p]=c.useState(!1),[h,v]=c.useState(""),[S,_]=c.useState(""),[E,g]=c.useState(""),[d,y]=c.useState("info"),[w,T]=c.useState(""),[D,C]=c.useState(!1);c.useEffect(()=>{let P=!1;if(!(o.length||f))return p(!0),v(""),J("/parking/options").then(R=>{if(P)return;const z=Array.isArray(R==null?void 0:R.data)?R.data:[];m(z.map(L=>{const U=L.lotId??L.parking_lot_id??null,Q=L.lot??L.lot_name??"";return{id:U!=null?String(U):Q,name:Q,price:Number(L.price??L.base_price??0)}}))}).catch(R=>{P||(v((R==null?void 0:R.message)||"Unable to load parking lots."),m([]))}).finally(()=>{P||p(!1)}),()=>{P=!0}},[]),c.useEffect(()=>{!S&&o.length&&_(o[0].id)},[o,S]);const x=c.useMemo(()=>n.some(P=>P.kind==="parking"),[n]);function $(){const P=o.find(R=>R.id===S);P&&a({id:`parking-${P.id}`,name:`Parking - ${P.name}`,price:Number(P.price??0),kind:"parking",qty:1,meta:{lot:P.name}})}async function A(){if(!n.length){g("Your cart is empty."),T(""),y("warning");return}if(!t){g("Please sign in to complete your purchase."),T(""),y("warning");return}if(t.role!=="customer"){g("Only customer accounts can complete ticket purchases."),T(""),y("warning");return}const P=i,R=n.reduce((z,L)=>z+Number(L.qty||1),0);C(!0),g(""),T("");try{const z={items:n.map(U=>({id:U.id,name:U.name,kind:U.kind,price:Number(U.price||0),qty:Number(U.qty||1),meta:U.meta||null}))},L=await J("/checkout",{method:"POST",body:JSON.stringify(z)});y("success"),g((L==null?void 0:L.message)||"Order confirmed!"),T(`We processed ${R} item${R===1?"":"s"} for ${_u(P)}. A confirmation is headed to ${t.email||"your email"}.`),u()}catch(z){y("error"),g((z==null?void 0:z.message)||"Unable to complete checkout right now."),T("")}finally{C(!1)}}return d==="success"&&E?r.createElement("div",{className:"ticket-alert",role:"alert"},r.createElement("div",{className:"ticket-alert__card"},r.createElement("strong",null,E),w&&r.createElement("p",null,w),r.createElement("button",{className:"btn primary",onClick:()=>{g(""),T(""),y("info"),e()}},"Close"))):r.createElement("div",{className:"modal-overlay",onClick:e},r.createElement("div",{className:"modal",role:"dialog","aria-modal":"true",onClick:P=>P.stopPropagation()},r.createElement("div",{className:"modal-header"},r.createElement("h3",null,"Shopping Cart"),r.createElement("button",{className:"btn",onClick:e},"Close")),n.length===0?r.createElement("div",{className:"modal-body"},r.createElement("div",{className:"panel",style:{textAlign:"center"}},"Your cart is empty.")):r.createElement(r.Fragment,null,r.createElement("div",{className:"modal-body",style:{display:"flex",flexDirection:"column",gap:12}},n.map((P,R)=>{var Q,ae;const z=ny((Q=P.meta)==null?void 0:Q.visitDate),L=P.kind==="parking"&&((ae=P.meta)!=null&&ae.lot)?`Lot: ${P.meta.lot}`:"",U=[];return z&&U.push(`Visit date: ${z}`),L&&U.push(L),r.createElement("div",{key:R,className:"card"},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline"}},r.createElement("div",null,r.createElement("div",{style:{fontWeight:600}},P.name),U.map((F,q)=>r.createElement("div",{key:q,className:"cart-item-detail"},F))),r.createElement("div",{style:{fontWeight:700}},"$",Number(P.price||0).toFixed(2))),r.createElement("div",{style:{display:"flex",gap:8,alignItems:"center",marginTop:8}},r.createElement("label",{style:{fontSize:12}},"Qty"),r.createElement("input",{className:"input",type:"number",min:1,value:P.qty,onChange:F=>s(R,Math.max(1,Number(F.target.value)||1)),style:{width:72}}),r.createElement("button",{className:"btn",style:{marginLeft:"auto"},onClick:()=>l(R)},"Remove")))}),!x&&r.createElement("div",{className:"card"},r.createElement("div",{style:{fontWeight:600,marginBottom:8}},"Need parking?"),f&&r.createElement("div",{className:"muted",style:{fontSize:12}},"Loading parking options..."),!f&&h&&r.createElement("div",{className:"alert error",style:{fontSize:12}},h),!f&&!h&&o.length===0&&r.createElement("div",{className:"muted",style:{fontSize:12}},"No parking lots available right now."),!f&&!h&&o.length>0&&r.createElement("div",{style:{display:"flex",gap:8,alignItems:"center"}},r.createElement("select",{className:"input",value:S,onChange:P=>_(P.target.value)},o.map(P=>r.createElement("option",{key:P.id,value:P.id},P.name," - $",P.price.toFixed(2)))),r.createElement("button",{className:"btn primary",onClick:$},"Add Parking")))),r.createElement("div",{className:"modal-footer"},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},r.createElement("div",{className:"muted"},"Total"),r.createElement("div",{style:{fontSize:20,fontWeight:800}},_u(i))),r.createElement("div",{style:{display:"flex",gap:8,marginTop:8}},r.createElement("button",{className:"btn",onClick:u},"Clear"),r.createElement("button",{className:"btn primary",onClick:A,disabled:D},D?"Processing...":"Checkout"))))))}function md({toast:e,onDismiss:t}){var i;if(!e)return null;const n=Array.isArray(e.actions)&&e.actions.length>0,a=n?"btn":"btn primary";function l(){typeof t=="function"&&t()}function s(u,o){const m=u.primary?"btn primary":"btn",f=`${u.label}-${o}`,p=()=>{typeof u.onClick=="function"&&u.onClick(),l()};return u.to?r.createElement(Wn,{key:f,className:m,to:u.to,onClick:p},u.label):u.href?r.createElement("a",{key:f,className:m,href:u.href,rel:u.external?"noreferrer noopener":void 0,target:u.external?"_blank":void 0,onClick:p},u.label):r.createElement("button",{key:f,type:"button",className:m,onClick:p},u.label)}return r.createElement("div",{className:"nav-toast-flyout",role:"status"},r.createElement("div",{className:"nav-toast-flyout__body"},e.title&&r.createElement("div",{className:"nav-toast-flyout__title"},e.title),e.message&&r.createElement("p",null,e.message),(n||e.dismissible!==!1)&&r.createElement("div",{className:"nav-toast-flyout__actions"},(i=e.actions)==null?void 0:i.map((u,o)=>s(u,o)),e.dismissible!==!1&&r.createElement("button",{type:"button",className:a,onClick:l},"Dismiss"))))}const Jl=[{key:"tickets",label:"Buy Tickets",path:"/ticket-passes",items:[{label:"Buy Tickets",path:"/ticket-passes"}]},{key:"experiences",label:"Rides & Attractions",path:"/things-to-do/rides-attractions",items:[{label:"Rides & Attractions",path:"/things-to-do/rides-attractions"}]},{key:"marketplace",label:"Marketplace",path:"/things-to-do/dining",items:[{label:"Dining",path:"/things-to-do/dining"},{label:"Shopping",path:"/things-to-do/shopping"}]}];function ry({themes:e=[]}){const t=wt(),n=bt(),{user:a,signOut:l}=Me(),{items:s}=Ga(),i=(a==null?void 0:a.role)??null,[u,o]=c.useState(null),[m,f]=c.useState(!1),{authToast:p,dismissToast:h}=ud(a),v=c.useRef(null);c.useEffect(()=>{function x($){v.current&&(v.current.contains($.target)||o(null))}return document.addEventListener("click",x),()=>document.removeEventListener("click",x)},[]);const S=t.pathname.replace(/\/+$/,"")||"/",_=(S==="/"?"/":S)+(t.search||""),E=(a==null?void 0:a.role)==="customer",g=s.length>99?"99+":String(s.length),d=c.useMemo(()=>a&&["employee","manager","admin","owner"].includes(a.role)?Jl.filter(x=>x.key!=="tickets"):Jl,[a]),y=c.useMemo(()=>{const x=[];return["employee","manager","admin","owner"].includes(i)&&x.push({label:"Reports",path:"/reports"}),["manager","admin","owner"].includes(i)&&x.push({label:"Manager",path:"/manager"}),["admin","owner"].includes(i)&&x.push({label:"Admin",path:"/admin"}),x},[i]);function w(x){o(null),n(x)}function T(x){o($=>$===x?null:x)}function D(){no("out"),l(),f(!1),n("/",{replace:!0})}function C(x){return S===x.path||x.key==="experiences"&&(S.startsWith("/theme/")||S==="/things-to-do/rides-attractions")||x.key==="marketplace"&&(S==="/things-to-do/dining"||S==="/things-to-do/shopping")||x.key==="tickets"&&S.startsWith("/ticket-passes")?!0:x.items.some($=>S===$.path)}return r.createElement(r.Fragment,null,r.createElement("header",{className:"nav-shell",ref:v},r.createElement("div",{className:"nav-bar"},r.createElement("div",{className:"nav-left"},r.createElement(Wn,{className:"nav-brand",to:"/",onClick:()=>o(null)},r.createElement("img",{className:"nav-brand__logo",src:"https://i.imgur.com/8JAUSLLh.jpg",alt:"Time Jump Theme Park logo",width:48,height:48}),r.createElement("span",{className:"nav-brand__text"},"Time Jump Theme Park"))),r.createElement("div",{className:"nav-right"},r.createElement("nav",{className:"nav-links"},d.map(x=>{let $=x.items;x.key==="experiences"&&($=[{label:"Rides & Attractions",path:"/things-to-do/rides-attractions"},...e.map(z=>({label:z.name,path:`/theme/${z.slug}`}))]);const A=C(x),P=x.key==="tickets",R=!P&&u===x.key;return r.createElement("div",{key:x.key,className:`nav-item ${A?"nav-item--active":""}`},P?r.createElement(Wn,{className:"nav-link nav-link--static",to:x.path,onClick:()=>o(null)},x.label):r.createElement("button",{className:"nav-link","aria-haspopup":"true","aria-expanded":R,onClick:()=>T(x.key)},x.label),!P&&r.createElement("div",{className:`nav-dropdown ${R?"nav-dropdown--open":""}`},$.map(z=>r.createElement("button",{key:z.path,className:"nav-dropdown__item",onClick:()=>w(z.path)},z.label))))})),y.length>0&&r.createElement("div",{className:"nav-staff"},y.map(x=>r.createElement("button",{key:x.path,className:`nav-link nav-link--staff ${S===x.path?"nav-link--active":""}`,onClick:()=>w(x.path)},x.label))),r.createElement("div",{className:"nav-auth"},E&&r.createElement("button",{className:"nav-cart",onClick:()=>f(!0)},"Cart",r.createElement("span",{className:"nav-cart__badge"},g)),a&&r.createElement(Wn,{className:"nav-account",to:"/account",onClick:()=>{f(!1),o(null)}},"Account"),a?r.createElement("button",{className:"btn primary",onClick:D},"Sign Out"):r.createElement("button",{className:"btn primary",onClick:()=>n(`/login?redirect=${encodeURIComponent(_)}`)},"Sign In"))))),r.createElement(md,{toast:p,onDismiss:h}),m&&r.createElement(ay,{onClose:()=>f(!1)}))}const ly=[{key:"jurassic",title:"Jurassic Zone",subtitle:"Primeval thrills with towering coasters and aquatic escapes.",href:"/things-to-do/theme/jurassic-zone",gradient:"from-emerald-500 via-lime-400 to-amber-300",extraClass:"home-theme-card--jurassic"},{key:"medieval",title:"Medieval Fantasy",subtitle:"Dragon-fire adventures and enchanted quests for every hero.",href:"/things-to-do/theme/medieval-fantasy-zone",gradient:"from-purple-500 via-indigo-500 to-sky-400",extraClass:"home-theme-card--medieval"},{key:"wild-west",title:"Wild West",subtitle:"High-noon showdowns, runaway trains, and frontier flair.",href:"/things-to-do/theme/wild-west-zone",gradient:"from-amber-500 via-orange-500 to-rose-400",extraClass:"home-theme-card--wildwest"},{key:"nova-crest",title:"Nova-Crest",subtitle:"Futuristic spectacles, zero-G simulators, and neon nights.",href:"/things-to-do/theme/nova-crest-futuristic-zone",gradient:"from-cyan-500 via-blue-500 to-fuchsia-500",extraClass:"home-theme-card--novacrest"}];function sy(){const e=bt();function t(n){e(n)}return r.createElement("div",{className:"page home-page"},r.createElement("section",{className:"home-hero home-hero--with-bg home-hero--fullbleed"},r.createElement("div",{className:"home-hero__container"},r.createElement("div",{className:"home-hero__inner"},r.createElement("h1",null,"Skip Through Time, One Thrill at a Time."),r.createElement("p",null,"Journey from prehistoric jungles to neon skylines in a single day. Discover rides for families, adventurers, and thrill seeker plus dining, shows, and unforgettable souvenirs."),r.createElement("div",{className:"home-hero__actions"},r.createElement("button",{className:"btn primary",onClick:()=>t("/ticket-passes")},"Buy Tickets"),r.createElement("button",{className:"btn",onClick:()=>t("/things-to-do/rides-attractions")},"Explore Attractions"),r.createElement("button",{className:"btn",onClick:()=>t("/things-to-do/dining")},"Marketplace"))))),r.createElement("section",{className:"home-themes"},r.createElement("header",{className:"section-header"},r.createElement("h2",null,"Choose Your Era"),r.createElement("p",null,"Four immersive zones, one destination. Pick a realm to start planning your adventure.")),r.createElement("div",{className:"home-theme-grid"},ly.map(n=>r.createElement("button",{key:n.key,className:`home-theme-card bg-gradient-to-br ${n.gradient} ${n.extraClass??""}`,onClick:()=>t(`/theme/${n.href.split("/").pop()}`)},r.createElement("div",{className:"home-theme-card__content"},r.createElement("h3",null,n.title),r.createElement("p",null,n.subtitle),r.createElement("span",{className:"home-theme-card__cta"},"View experiences")),r.createElement("div",{className:"home-theme-card__overlay"},"Artwork placeholder"))))),r.createElement("section",{className:"home-gift-shop"},r.createElement("div",{className:"home-gift-shop__content"},r.createElement("h2",null,"Bring the Time Jump Magic Home"),r.createElement("p",null,"From era-inspired apparel to exclusive collectibles, the Time Jump Gift Shop has a treasure for every traveler. Preview limited releases and skip the in-park line by adding favorites to your cart ahead of time."),r.createElement("div",{className:"home-gift-shop__actions"},r.createElement("button",{className:"btn primary",onClick:()=>t("/things-to-do/shopping")},"Shop Souvenirs"),r.createElement("button",{className:"btn",onClick:()=>t("/things-to-do/dining")},"Plan Snacks & Meals"))),r.createElement("div",{className:"home-gift-shop__visual"},r.createElement("div",{className:"home-gift-shop__placeholder","aria-hidden":"true"}))))}function iy(){const{add:e}=Ga(),[t,n]=c.useState([]),[a,l]=c.useState(!0),[s,i]=c.useState(""),[u,o]=c.useState(""),[m,f]=c.useState("all"),[p,h]=c.useState("asc");c.useEffect(()=>{let E=!0;return(async()=>{l(!0),i("");try{const g=await fetch("http://localhost:5175/giftshop/items"),d=await g.json();if(!g.ok)throw new Error((d==null?void 0:d.error)||"Failed to load gift shop items");E&&n(Array.isArray(d)?d:d.items||[])}catch(g){E&&i(g.message||"Failed to load gift shop items")}finally{E&&l(!1)}})(),()=>{E=!1}},[]);const v=c.useMemo(()=>{const E=new Set(t.map(g=>g.theme_name||"Other"));return["all",...Array.from(E).sort((g,d)=>g.localeCompare(d))]},[t]),S=c.useMemo(()=>t.filter(E=>E.name.toLowerCase().includes(u.toLowerCase())).filter(E=>m==="all"||(E.theme_name||"Other")===m),[t,u,m]),_=c.useMemo(()=>[...S].sort((E,g)=>{const d=(E.name||"").localeCompare(g.name||"");return p==="asc"?d:-d}),[S,p]);return r.createElement("div",{className:"page"},r.createElement("div",{className:"page-box page-box--wide dining-page"},r.createElement("section",{className:"dining-hero"},r.createElement("div",{className:"dining-hero__content"},r.createElement("p",{className:"dining-eyebrow"},"Marketplace"),r.createElement("h1",null,"Souvenirs from every timeline."),r.createElement("p",null,"Pair each land with its signature keepsakes and keep your cart synced while you explore."))),r.createElement("div",{className:"dining-tools"},r.createElement("input",{className:"input input--compact",placeholder:"Search souvenirs...",value:u,onChange:E=>o(E.target.value)}),r.createElement("div",{className:"dining-filters"},v.map(E=>r.createElement("button",{key:E,className:`dining-filter ${m===E?"dining-filter--active":""}`,onClick:()=>f(E)},E==="all"?"All Lands":E)))),r.createElement("div",{className:"dining-sort-bar"},r.createElement("span",null,"Sort by name:"),r.createElement("div",{className:"dining-sort-buttons"},r.createElement("button",{type:"button",className:`dining-sort-btn ${p==="asc"?"active":""}`,onClick:()=>h("asc")},"A-Z"),r.createElement("button",{type:"button",className:`dining-sort-btn ${p==="desc"?"active":""}`,onClick:()=>h("desc")},"Z-A"))),a&&r.createElement("div",{className:"text-sm text-gray-600"},"Loading..."),s&&!a&&r.createElement("div",{className:"alert error"},s),!a&&!s&&_.length===0&&r.createElement("div",{className:"text-sm text-gray-600"},"No items match that filter."),!a&&!s&&_.length>0&&r.createElement("div",{className:"items-grid"},_.map(E=>r.createElement("article",{key:E.id,className:"item-card"},E.image_url?r.createElement("div",{className:"item-card__image"},r.createElement("img",{src:E.image_url,alt:E.name,loading:"lazy"})):r.createElement("div",{className:"item-card__image item-card__image--placeholder"},"Gift preview"),r.createElement("div",{className:"item-name"},E.name),r.createElement("div",{className:"item-card__footer"},r.createElement("span",{className:"item-card__price"},"$",Number(E.price||0).toFixed(2)),r.createElement("button",{className:"btn item-card__add",onClick:()=>e({kind:"gift",id:E.id,name:E.name,price:E.price})},"Add to Cart")))))))}function oy(){const{add:e}=Ga(),[t,n]=c.useState([]),[a,l]=c.useState(!0),[s,i]=c.useState(""),[u,o]=c.useState(""),[m,f]=c.useState("all"),[p,h]=c.useState("asc");c.useEffect(()=>{let E=!0;return(async()=>{l(!0),i("");try{const g=await fetch("http://localhost:5175/food/items"),d=await g.json();if(!g.ok)throw new Error((d==null?void 0:d.error)||"Failed to load food items");E&&n(Array.isArray(d)?d:d.items||[])}catch(g){E&&i(g.message||"Failed to load food items")}finally{E&&l(!1)}})(),()=>{E=!1}},[]);const v=c.useMemo(()=>{const E=new Set(t.map(g=>g.theme_name||"Other"));return["all",...Array.from(E).sort((g,d)=>g.localeCompare(d))]},[t]),S=c.useMemo(()=>t.filter(E=>E.name.toLowerCase().includes(u.toLowerCase())).filter(E=>m==="all"||(E.theme_name||"Other")===m),[t,u,m]),_=c.useMemo(()=>[...S].sort((E,g)=>{const d=(E.name||"").localeCompare(g.name||"");return p==="asc"?d:-d}),[S,p]);return r.createElement("div",{className:"page"},r.createElement("div",{className:"page-box page-box--wide dining-page"},r.createElement("section",{className:"dining-hero"},r.createElement("div",{className:"dining-hero__content"},r.createElement("p",{className:"dining-eyebrow"},"Marketplace"),r.createElement("h1",null,"Dine your way through every era."),r.createElement("p",null,"Filter by land, browse signature bites, and plan your tasting tour before you even scan your ticket."))),r.createElement("div",{className:"dining-tools"},r.createElement("input",{className:"input input--compact",placeholder:"Search menu items...",value:u,onChange:E=>o(E.target.value)}),r.createElement("div",{className:"dining-filters"},v.map(E=>r.createElement("button",{key:E,className:`dining-filter ${m===E?"dining-filter--active":""}`,onClick:()=>f(E)},E==="all"?"All Lands":E)))),r.createElement("div",{className:"dining-sort-bar"},r.createElement("span",null,"Sort by name:"),r.createElement("div",{className:"dining-sort-buttons"},r.createElement("button",{type:"button",className:`dining-sort-btn ${p==="asc"?"active":""}`,onClick:()=>h("asc")},"A-Z"),r.createElement("button",{type:"button",className:`dining-sort-btn ${p==="desc"?"active":""}`,onClick:()=>h("desc")},"Z-A"))),a&&r.createElement("div",{className:"text-sm text-gray-600"},"Loading..."),s&&!a&&r.createElement("div",{className:"alert error"},s),!a&&!s&&_.length===0&&r.createElement("div",{className:"text-sm text-gray-600"},"No menu items match that filter."),!a&&!s&&_.length>0&&r.createElement("div",{className:"items-grid"},_.map(E=>r.createElement("article",{key:E.id,className:"item-card"},E.image_url?r.createElement("div",{className:"item-card__image"},r.createElement("img",{src:E.image_url,alt:E.name,loading:"lazy"})):r.createElement("div",{className:"item-card__image item-card__image--placeholder"},"Menu preview"),r.createElement("div",{className:"item-name"},E.name),r.createElement("div",{className:"item-card__footer"},r.createElement("span",{className:"item-card__price"},"$",Number(E.price||0).toFixed(2)),r.createElement("button",{className:"btn item-card__add",onClick:()=>e({kind:"food",id:E.id,name:E.name,price:E.price})},"Add to Cart")))))))}const uy={owner:"Owner",admin:"Admin",manager:"Manager",employee:"Employee",customer:"Customer"};function Cu(e){return e?uy[e]||e.charAt(0).toUpperCase()+e.slice(1):"Unknown"}function yr({children:e}){return r.createElement("div",{className:"container",style:{display:"grid",gap:12}},e)}function ve({children:e,className:t=""}){return r.createElement("div",{className:`panel ${t}`.trim()},e)}function cy(e){return(e||[]).map(t=>{if(typeof t=="string"){const a=t.replace(/_/g," ").replace(/\b\w/g,l=>l.toUpperCase());return{key:t,label:a}}const n=t.label?t.label:t.key.replace(/_/g," ").replace(/\b\w/g,a=>a.toUpperCase());return{...t,label:n}})}function my({column:e,sortableKeys:t,sortKey:n,sortDir:a,onSort:l,style:s}){const i=t.includes(e.key),u=i&&n===e.key,o=u&&a==="asc"?"desc":"asc",m=i?"sortable-header":void 0;return r.createElement("th",{style:s,className:m},i?r.createElement("button",{type:"button",className:"table-sort-button",onClick:()=>{u?l(e.key,o):l(e.key,"asc")}},r.createElement("span",null,e.label),r.createElement("span",{className:`sort-indicator ${u?a:"none"}`,"aria-hidden":"true"})):e.label)}function kt({title:e,description:t,rows:n,columns:a,loading:l,error:s,emptyMessage:i,searchPlaceholder:u="Search...",sortableKeys:o=[]}){const[m,f]=c.useState(""),[p,h]=c.useState(o[0]??null),[v,S]=c.useState("asc"),_=c.useMemo(()=>cy(a),[a]),E=c.useMemo(()=>{const y=m.trim().toLowerCase();return y?(n||[]).filter(w=>_.some(T=>{const D=w==null?void 0:w[T.key];return D==null?!1:String(D).toLowerCase().includes(y)})):n||[]},[n,_,m]);c.useEffect(()=>{if(!o.length){p!==null&&h(null);return}o.includes(p)||(h(o[0]??null),S("asc"))},[o,p]);const g=c.useMemo(()=>{if(!p)return E;const y=[...E];return y.sort((w,T)=>{const D=w==null?void 0:w[p],C=T==null?void 0:T[p];if(D==null)return 1;if(C==null)return-1;if(typeof D=="number"&&typeof C=="number")return v==="asc"?D-C:C-D;const x=Number(D),$=Number(C);return!Number.isNaN(x)&&!Number.isNaN($)?v==="asc"?x-$:$-x:v==="asc"?String(D).localeCompare(String(C)):String(C).localeCompare(String(D))}),y},[E,p,v]),d=(y,w)=>{h(y),S(w)};return r.createElement(ve,null,r.createElement("div",{className:"dataset-header"},r.createElement("div",null,r.createElement("h3",null,e),t&&r.createElement("p",null,t))),r.createElement("div",{className:"admin-search-bar",style:{maxWidth:320}},r.createElement("input",{className:"input",type:"search",value:m,onChange:y=>f(y.target.value),placeholder:u,style:{width:"100%"}})),l&&r.createElement("div",{className:"text-sm text-gray-600"},"Loading..."),!l&&s&&r.createElement("div",{className:"alert error"},s),!l&&!s&&(g.length===0?r.createElement("div",{className:"text-sm text-gray-600"},i):r.createElement("div",{style:{overflowX:"auto"}},r.createElement("table",{style:{width:"100%",borderCollapse:"collapse"}},r.createElement("thead",null,r.createElement("tr",null,_.map(y=>r.createElement(my,{key:y.key,column:y,sortableKeys:o,sortKey:p,sortDir:v,onSort:d,style:{textAlign:"left",padding:"6px",borderBottom:"1px solid #ececec"}})))),r.createElement("tbody",null,g.map((y,w)=>r.createElement("tr",{key:(y==null?void 0:y.id)??(y==null?void 0:y.slug)??(y==null?void 0:y.lot)??(y==null?void 0:y.lotId)??w},_.map(T=>{const D=y==null?void 0:y[T.key],C=T.render?T.render(D,y):D;return r.createElement("td",{key:T.key,style:{padding:"6px",borderBottom:"1px solid #f5f5f5"}},C||C===0?C:"--")}))))))))}function dy({rows:e,columns:t,emptyMessage:n}){return!e||e.length===0?r.createElement("div",{className:"text-sm text-gray-600"},n):r.createElement("div",{style:{overflowX:"auto"}},r.createElement("table",{style:{width:"100%",borderCollapse:"collapse"}},r.createElement("thead",null,r.createElement("tr",null,t.map(a=>r.createElement("th",{key:a.key,style:{textAlign:"left",padding:"6px",borderBottom:"1px solid #ececec"}},a.label)))),r.createElement("tbody",null,e.map((a,l)=>r.createElement("tr",{key:a.id??a.slug??a.lot??a.lotId??l},t.map(s=>{const i=a[s.key],u=s.render?s.render(i,a):i;return r.createElement("td",{key:s.key,style:{padding:"6px",borderBottom:"1px solid #f5f5f5"}},u||u===0?u:"--")}))))))}const Kl={alerts:[],metrics:{},recentChanges:[]};let ma=null;function fy(e=6e4){const[t,n]=c.useState(()=>ma),[a,l]=c.useState(!ma),[s,i]=c.useState(""),u=c.useRef(!1),o=c.useRef(!!ma),m=c.useCallback(async({silent:p=!1}={})=>{p||(l(!0),i(""));try{const h=await J("/admin/insights"),v=(h==null?void 0:h.data)||Kl;ma=v,n(v)}catch(h){p||i((h==null?void 0:h.message)||"Unable to load admin insights."),ma||n(Kl)}finally{p||l(!1)}},[]);c.useEffect(()=>{if(u.current||(o.current?(l(!1),m({silent:!0})):m(),u.current=!0),e===null)return;const p=setInterval(()=>m({silent:!0}),e);return()=>clearInterval(p)},[m,e]);const f=c.useCallback(()=>m({silent:!1}),[m]);return{insights:t||Kl,loading:a,error:s,refresh:f}}function py(e){return[{key:"catalog",label:"Catalog",items:[{key:"tickets",label:"Ticket Types",to:"/admin/tickets"},{key:"parking",label:"Parking Lots",to:"/admin/parking"},{key:"gift",label:"Gift Shop",to:"/admin/gift"},{key:"food",label:"Dining Menu",to:"/admin/food"},{key:"themes",label:"Themes",to:"/admin/themes"},{key:"attractions",label:"Attractions",to:"/admin/attractions"}]},{key:"operations",label:"Operations",items:[{key:"employees",label:"Employees",to:"/admin/employees"},{key:"maintenance",label:"Maintenance",to:"/admin/maintenance"}]}].map(n=>({...n,items:n.items.filter(a=>!a.roles||a.roles.includes(e))})).filter(n=>n.items.length>0)}function hy({children:e}){var D,C,x,$,A,P;const{user:t,actualRole:n,loading:a}=Me(),l=wt(),s=bt(),{insights:i,loading:u,error:o,refresh:m}=fy(),[f,p]=c.useState("");if(a&&!t)return r.createElement(yr,null,r.createElement(ve,null,"Loading..."));if(!t)return r.createElement(yr,null,r.createElement(ve,null,"Please login."));const h=n??t.role;if(!["admin","owner"].includes(h))return r.createElement(yr,null,r.createElement(ve,null,"Admin/Owner only."));const v=t.role,S=v!==h,_=c.useMemo(()=>py(h),[h]),E=c.useMemo(()=>_.flatMap(R=>R.items.map(z=>({...z,group:R.label}))),[_]),g=f?E.filter(R=>R.label.toLowerCase().includes(f.toLowerCase())):E;function d(R){return!!(l.pathname===R||l.pathname.startsWith(`${R}/`))}function y(R){R.preventDefault(),g.length>0&&(s(g[0].to),p(""))}function w(R,z="--"){return i?R??z:z}function T(R){if(!R)return"";const z=new Date(R);return Number.isNaN(z.getTime())?R:z.toLocaleString()}return r.createElement(yr,null,r.createElement("div",{style:{display:"grid",gridTemplateColumns:"280px 1fr",gap:20,padding:"2rem 3rem 3rem",alignItems:"flex-start"}},r.createElement("aside",{style:{display:"grid",gap:12,alignSelf:"start",position:"sticky",top:24,maxHeight:"calc(100vh - 48px)",overflowY:"auto",paddingRight:4}},r.createElement(ve,null,r.createElement("div",{style:{fontWeight:700,fontSize:"1.1rem"}},"Admin Console"),r.createElement("div",{className:"muted"},t.email,"  ",Cu(h)),S&&r.createElement("div",{className:"alert warning",style:{marginTop:8,fontSize:"0.8rem"}},"Viewing as ",Cu(v),". Switch back via View As to regain full access.")),r.createElement(ve,null,r.createElement("form",{onSubmit:y,className:"admin-search-bar"},r.createElement("input",{className:"input",value:f,onChange:R=>p(R.target.value),placeholder:"Jump to page..."})),r.createElement("p",{className:"muted",style:{fontSize:12,marginTop:6}},"Type a page name and press enter to jump straight there.")),r.createElement(ve,null,r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},r.createElement("strong",null,"Quick Stats"),r.createElement("button",{className:"btn subtle",type:"button",onClick:m,disabled:u},u?"Refreshing...":"Refresh")),o&&r.createElement("div",{className:"alert error",style:{marginTop:8}},o),r.createElement("ul",{style:{listStyle:"none",padding:0,margin:"8px 0 0 0",display:"grid",gap:6}},r.createElement("li",null,"Open incidents: ",r.createElement("strong",null,w((D=i==null?void 0:i.metrics)==null?void 0:D.openIncidents))),r.createElement("li",null,"Maintenance queue: ",r.createElement("strong",null,w((C=i==null?void 0:i.metrics)==null?void 0:C.openMaintenance))),r.createElement("li",null,"Active rides: ",r.createElement("strong",null,w((x=i==null?void 0:i.metrics)==null?void 0:x.activeRides))),r.createElement("li",null,"Inactive assets: ",r.createElement("strong",null,w(($=i==null?void 0:i.metrics)==null?void 0:$.inactiveAssets))))),r.createElement(ve,null,r.createElement("strong",null,"Alerts"),r.createElement("div",{style:{marginTop:8,display:"grid",gap:6}},((A=i==null?void 0:i.alerts)!=null&&A.length?i.alerts:[{level:"info",message:"No active alerts."}]).map((R,z)=>r.createElement("div",{key:z,className:`alert ${R.level}`,style:{margin:0}},R.message)))),r.createElement(ve,null,r.createElement("strong",null,"Recent Changes"),r.createElement("div",{style:{marginTop:8,display:"grid",gap:6}},((i==null?void 0:i.recentChanges)||[]).map(R=>r.createElement("div",{key:`${R.resourceType}-${R.resourceId}`,style:{fontSize:12}},r.createElement("div",{style:{fontWeight:600,textTransform:"capitalize"}},R.resourceType),r.createElement("div",null,"ID: ",R.resourceId),r.createElement("div",null,"Status: ",R.status||"unknown"),r.createElement("div",{className:"muted"},T(R.updatedAt)))),!((P=i==null?void 0:i.recentChanges)!=null&&P.length)&&r.createElement("div",{className:"muted"},"No recent updates tracked.")))),r.createElement("section",{style:{display:"grid",gap:16}},S&&v==="customer"&&r.createElement(ve,null,r.createElement("div",{className:"text-sm text-gray-700"},'You are currently viewing the site as a customer. Switch back using "View As" in the header to access admin and owner tools.')),r.createElement(ve,null,r.createElement("h3",{style:{marginTop:0}},"Quick navigation"),r.createElement("div",{style:{display:"grid",gap:12}},_.map(R=>r.createElement("div",{key:R.key},r.createElement("div",{style:{fontWeight:600,marginBottom:6}},R.label),r.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:8}},R.items.map(z=>r.createElement("button",{key:z.key,type:"button",className:`btn ${d(z.to)?"primary":""}`,onClick:()=>{d(z.to)||s(z.to)}},z.label))))))),e)))}function yy(){const[e,t]=c.useState([]),[n,a]=c.useState(!0),[l,s]=c.useState(""),[i,u]=c.useState({name:"",price:""}),[o,m]=c.useState(!1),[f,p]=c.useState(""),[h,v]=c.useState(""),[S,_]=c.useState(null),[E,g]=c.useState({name:"",price:""}),[d,y]=c.useState(!1),[w,T]=c.useState(null),[D,C]=c.useState(!1),x=c.useCallback(async()=>{a(!0),s("");try{const L=await J("/ticket-types"),U=((L==null?void 0:L.data)||[]).map(Q=>{const ae=Q.name??Q.ticket_type??Q.id??"";return{id:ae,key:ae,name:Q.name??Q.ticket_type??"Ticket",price:Number(Q.price??0)}});t(U)}catch(L){s((L==null?void 0:L.message)||"Unable to load ticket types."),t([])}finally{a(!1)}},[]);c.useEffect(()=>{x()},[x]);async function $(L){if(L.preventDefault(),!o){if(!i.name.trim()){v("Ticket name is required.");return}m(!0),p(""),v("");try{await J("/ticket-types",{method:"POST",body:JSON.stringify({name:i.name.trim(),price:Number(i.price||0)})}),p("Ticket type saved."),u({name:"",price:""}),x()}catch(U){v((U==null?void 0:U.message)||"Request failed.")}finally{m(!1)}}}function A(L){_(L),g({name:L.name||"",price:L.price??""}),y(!1)}async function P(L){if(L.preventDefault(),!(!S||d)){if(!E.name.trim()){v("Ticket name is required.");return}y(!0),v("");try{await J(`/ticket-types/${encodeURIComponent(S.key)}`,{method:"PUT",body:JSON.stringify({name:E.name.trim(),price:Number(E.price||0)})}),_(null),x()}catch(U){v((U==null?void 0:U.message)||"Unable to update ticket type.")}finally{y(!1)}}}function R(L){T(L),C(!1)}async function z(){if(!(!w||D)){C(!0),v("");try{await J(`/ticket-types/${encodeURIComponent(w.key)}`,{method:"DELETE"}),T(null),x()}catch(L){v((L==null?void 0:L.message)||"Unable to delete ticket type.")}finally{C(!1)}}}return r.createElement(r.Fragment,null,r.createElement(ve,null,r.createElement("h3",{style:{marginTop:0}},"Add Ticket Type"),r.createElement("p",{className:"muted"},"Create passes that appear in checkout for guests."),r.createElement("form",{className:"admin-form-grid",onSubmit:$},r.createElement("label",{className:"field"},r.createElement("span",null,"Ticket name"),r.createElement("input",{className:"input",value:i.name,onChange:L=>u(U=>({...U,name:L.target.value})),placeholder:"Adult, Child, VIP",disabled:o})),r.createElement("label",{className:"field"},r.createElement("span",null,"Price"),r.createElement("input",{className:"input",type:"number",min:"0",step:"0.01",value:i.price,onChange:L=>u(U=>({...U,price:L.target.value})),disabled:o})),r.createElement("button",{className:"btn primary",type:"submit",disabled:o,style:{justifySelf:"flex-start",width:"auto"}},o?"Saving...":"Add Ticket Type")),r.createElement("div",{style:{marginTop:12}},f&&r.createElement("div",{className:"alert success"},f),h&&r.createElement("div",{className:"alert error"},h))),r.createElement(kt,{title:"Ticket Types",description:"Passes available to customers in checkout.",rows:e,columns:[{key:"name",label:"Ticket"},{key:"price",label:"Price",render:L=>`$${Number(L||0).toFixed(2)}`},{key:"actions",label:"Actions",render:(L,U)=>r.createElement("div",{className:"table-actions"},r.createElement("button",{type:"button",className:"btn btn-text",onClick:()=>A(U)},"Edit"),r.createElement("button",{type:"button",className:"btn btn-text danger",onClick:()=>R(U)},"Delete"))}],loading:n,error:l,emptyMessage:"No tickets yet.",searchPlaceholder:"Search ticket types...",sortableKeys:["name","price"]}),S&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Edit Ticket Type"),r.createElement("form",{className:"admin-form-grid",onSubmit:P},r.createElement("label",{className:"field"},r.createElement("span",null,"Ticket name"),r.createElement("input",{className:"input",value:E.name,onChange:L=>g(U=>({...U,name:L.target.value})),disabled:d})),r.createElement("label",{className:"field"},r.createElement("span",null,"Price"),r.createElement("input",{className:"input",type:"number",min:"0",step:"0.01",value:E.price,onChange:L=>g(U=>({...U,price:L.target.value})),disabled:d})),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>_(null),disabled:d},"Cancel"),r.createElement("button",{type:"submit",className:"btn primary",disabled:d},d?"Saving...":"Save Changes"))))),w&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Delete Ticket Type"),r.createElement("p",null,"Are you sure you want to remove ",r.createElement("strong",null,w.name),"?"),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>T(null),disabled:D},"Cancel"),r.createElement("button",{type:"button",className:"btn danger",onClick:z,disabled:D},D?"Deleting...":"Delete")))))}function gy(){const[e,t]=c.useState([]),[n,a]=c.useState(!0),[l,s]=c.useState(""),[i,u]=c.useState({lot:"",price:""}),[o,m]=c.useState(!1),[f,p]=c.useState(""),[h,v]=c.useState(""),[S,_]=c.useState(null),[E,g]=c.useState({lot:"",price:""}),[d,y]=c.useState(!1),[w,T]=c.useState(null),[D,C]=c.useState(!1),x=c.useCallback(async()=>{a(!0),s("");try{const L=await J("/parking-lots"),U=((L==null?void 0:L.data)||[]).map(Q=>({lotId:Q.lotId??Q.parking_lot_id??null,lot:Q.lot??Q.lot_name??"",price:Number(Q.price??Q.base_price??0)}));t(U)}catch(L){s((L==null?void 0:L.message)||"Unable to load parking lots."),t([])}finally{a(!1)}},[]);c.useEffect(()=>{x()},[x]);async function $(L){if(L.preventDefault(),o)return;if(!i.lot.trim()){v("Parking lot name is required.");return}const U=Number(i.price);if(!Number.isFinite(U)||U<0){v("Base price must be a non-negative number.");return}m(!0),p(""),v("");try{await J("/parking-lots",{method:"POST",body:JSON.stringify({lot_name:i.lot.trim(),base_price:U})}),p("Parking lot saved."),u({lot:"",price:""}),x()}catch(Q){v((Q==null?void 0:Q.message)||"Request failed.")}finally{m(!1)}}function A(L){_(L),g({lot:L.lot||"",price:L.price??""}),y(!1)}async function P(L){if(L.preventDefault(),!S||d)return;if(!E.lot.trim()){v("Lot name is required.");return}const U=E.price===""?null:Number(E.price);if(U!==null&&(!Number.isFinite(U)||U<0)){v("Base price must be a non-negative number.");return}y(!0),v("");try{await J(`/parking-lots/${S.lotId}`,{method:"PUT",body:JSON.stringify({lot_name:E.lot.trim(),base_price:U})}),_(null),x()}catch(Q){v((Q==null?void 0:Q.message)||"Unable to update parking lot.")}finally{y(!1)}}function R(L){T(L),C(!1)}async function z(){if(!(!w||D)){C(!0),v("");try{await J(`/parking-lots/${w.lotId}`,{method:"DELETE"}),T(null),x()}catch(L){v((L==null?void 0:L.message)||"Unable to delete parking lot.")}finally{C(!1)}}}return r.createElement(r.Fragment,null,r.createElement(ve,null,r.createElement("h3",{style:{marginTop:0}},"Add Parking Lot"),r.createElement("p",{className:"muted"},"Maintain parking options that guests can add to their cart."),r.createElement("form",{className:"admin-form-grid",onSubmit:$},r.createElement("label",{className:"field"},r.createElement("span",null,"Lot name"),r.createElement("input",{className:"input",value:i.lot,onChange:L=>u(U=>({...U,lot:L.target.value})),placeholder:"Lot F",disabled:o})),r.createElement("label",{className:"field"},r.createElement("span",null,"Base price"),r.createElement("input",{className:"input",type:"number",min:"0",step:"0.01",value:i.price,onChange:L=>u(U=>({...U,price:L.target.value})),disabled:o})),r.createElement("button",{className:"btn primary",type:"submit",disabled:o,style:{justifySelf:"flex-start",width:"auto"}},o?"Saving...":"Add Parking Lot")),r.createElement("div",{style:{marginTop:12}},f&&r.createElement("div",{className:"alert success"},f),h&&r.createElement("div",{className:"alert error"},h))),r.createElement(kt,{title:"Parking Lots",description:"Parking inventory and pricing.",rows:e,columns:[{key:"lot",label:"Lot"},{key:"price",label:"Base Price",render:L=>`$${Number(L||0).toFixed(2)}`},{key:"actions",label:"Actions",render:(L,U)=>r.createElement("div",{className:"table-actions"},r.createElement("button",{type:"button",className:"btn btn-text",onClick:()=>A(U)},"Edit"),r.createElement("button",{type:"button",className:"btn btn-text danger",onClick:()=>R(U)},"Delete"))}],loading:n,error:l,emptyMessage:"No parking lots yet.",searchPlaceholder:"Search parking lots...",sortableKeys:["lot","price"]}),S&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Edit Parking Lot"),r.createElement("form",{className:"admin-form-grid",onSubmit:P},r.createElement("label",{className:"field"},r.createElement("span",null,"Lot name"),r.createElement("input",{className:"input",value:E.lot,onChange:L=>g(U=>({...U,lot:L.target.value})),disabled:d})),r.createElement("label",{className:"field"},r.createElement("span",null,"Base price"),r.createElement("input",{className:"input",type:"number",min:"0",step:"0.01",value:E.price,onChange:L=>g(U=>({...U,price:L.target.value})),disabled:d})),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>_(null),disabled:d},"Cancel"),r.createElement("button",{type:"submit",className:"btn primary",disabled:d},d?"Saving...":"Save Changes"))))),w&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Delete Parking Lot"),r.createElement("p",null,"Are you sure you want to remove ",r.createElement("strong",null,w.lot),"?"),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>T(null),disabled:D},"Cancel"),r.createElement("button",{type:"button",className:"btn danger",onClick:z,disabled:D},D?"Deleting...":"Delete")))))}const vy=()=>new Date().toISOString().slice(0,10);function Ey(){const[e,t]=c.useState([]),[n,a]=c.useState(!0),[l,s]=c.useState(""),[i,u]=c.useState({name:"",price:"",imageUrl:"",shopId:""}),[o,m]=c.useState(!1),[f,p]=c.useState(""),[h,v]=c.useState(""),[S,_]=c.useState([]),[E,g]=c.useState([]),[d,y]=c.useState({name:"",themeId:""}),[w,T]=c.useState(!1),[D,C]=c.useState(""),[x,$]=c.useState(""),[A,P]=c.useState(null),[R,z]=c.useState({name:"",price:"",imageUrl:"",shopId:""}),[L,U]=c.useState(!1),[Q,ae]=c.useState(null),[F,q]=c.useState(!1),[K,N]=c.useState(null),[I,X]=c.useState({name:"",themeId:"",closeDate:""}),[G,se]=c.useState(!1),[ne,ie]=c.useState(null),[V,j]=c.useState(!1),ee=c.useCallback(async()=>{a(!0),s("");try{const k=await J("/gift-items");t(((k==null?void 0:k.data)||[]).map(M=>({...M,image_url:M.image_url??M.imageUrl??""})))}catch(k){s((k==null?void 0:k.message)||"Unable to load gift items."),t([])}finally{a(!1)}},[]),b=c.useCallback(async()=>{try{const k=await J("/gift-shops");_((k==null?void 0:k.data)||[])}catch{_([])}},[]),H=c.useCallback(async()=>{try{const k=await J("/themes");g(((k==null?void 0:k.data)||[]).map(M=>({id:M.themeID??M.id,name:M.name??M.themeName})))}catch{g([])}},[]);c.useEffect(()=>{ee(),b(),H()},[ee,b,H]);async function W(k){if(k.preventDefault(),!o){if(!i.name.trim()){v("Item name is required.");return}if(!i.shopId){v("Select a gift shop.");return}m(!0),p(""),v("");try{await J("/gift-items",{method:"POST",body:JSON.stringify({name:i.name.trim(),price:Number(i.price||0),imageUrl:i.imageUrl.trim(),shopId:Number(i.shopId)})}),p("Gift shop item saved."),u({name:"",price:"",imageUrl:"",shopId:""}),ee()}catch(M){v((M==null?void 0:M.message)||"Request failed.")}finally{m(!1)}}}function re(k){P(k),z({name:k.name||"",price:k.price??"",imageUrl:k.image_url||"",shopId:k.shop_id||""}),U(!1)}function ue(k){ae(k),q(!1)}async function fe(k){if(k.preventDefault(),!(!A||L)){if(!R.name.trim()){v("Item name is required.");return}if(!R.shopId){v("Select a gift shop.");return}U(!0),v("");try{await J(`/gift-items/${A.item_id}`,{method:"PUT",body:JSON.stringify({name:R.name.trim(),price:Number(R.price||0),imageUrl:R.imageUrl.trim(),shopId:Number(R.shopId)})}),P(null),ee()}catch(M){v((M==null?void 0:M.message)||"Unable to update item.")}finally{U(!1)}}}async function be(){if(!(!Q||F)){q(!0),v("");try{await J(`/gift-items/${Q.item_id}`,{method:"DELETE"}),ae(null),ee()}catch(k){v((k==null?void 0:k.message)||"Unable to delete item.")}finally{q(!1)}}}async function We(k){if(k.preventDefault(),!w){if(!d.name.trim()){$("Shop name is required.");return}if(!d.themeId){$("Theme is required.");return}T(!0),C(""),$("");try{await J("/gift-shops",{method:"POST",body:JSON.stringify({name:d.name.trim(),themeId:Number(d.themeId),openDate:vy()})}),C("Gift shop saved."),y({name:"",themeId:""}),b()}catch(M){$((M==null?void 0:M.message)||"Unable to save gift shop.")}finally{T(!1)}}}function Ge(k){N(k),X({name:k.name||"",themeId:k.theme_id||"",closeDate:k.close_date||""}),se(!1)}function ke(k){ie(k),j(!1)}async function le(k){if(k.preventDefault(),!(!K||G)){if(!I.name.trim()){$("Shop name is required.");return}if(!I.themeId){$("Theme is required.");return}se(!0),$("");try{await J(`/gift-shops/${K.shop_id}`,{method:"PUT",body:JSON.stringify({name:I.name.trim(),themeId:Number(I.themeId),closeDate:I.closeDate||null})}),N(null),b()}catch(M){$((M==null?void 0:M.message)||"Unable to update gift shop.")}finally{se(!1)}}}async function He(){if(!(!ne||V)){j(!0),$("");try{await J(`/gift-shops/${ne.shop_id}`,{method:"DELETE"}),ie(null),b()}catch(k){$((k==null?void 0:k.message)||"Unable to delete gift shop.")}finally{j(!1)}}}return r.createElement(r.Fragment,null,r.createElement(ve,null,r.createElement("h3",{style:{marginTop:0}},"Add Gift Shop Item"),r.createElement("p",{className:"muted"},"Highlight souvenirs that appear on the shopping page."),r.createElement("form",{className:"admin-form-grid",onSubmit:W},r.createElement("label",{className:"field"},r.createElement("span",null,"Item name"),r.createElement("input",{className:"input",value:i.name,onChange:k=>u(M=>({...M,name:k.target.value})),placeholder:"Time Beacon Snow Globe",disabled:o})),r.createElement("label",{className:"field"},r.createElement("span",null,"Price"),r.createElement("input",{className:"input",type:"number",min:"0",step:"0.01",value:i.price,onChange:k=>u(M=>({...M,price:k.target.value})),disabled:o})),r.createElement("label",{className:"field"},r.createElement("span",null,"Gift shop"),r.createElement("select",{className:"input",value:i.shopId,onChange:k=>u(M=>({...M,shopId:k.target.value})),disabled:o},r.createElement("option",{value:""},"Select shop..."),S.map(k=>r.createElement("option",{key:k.shop_id,value:k.shop_id},k.name)))),r.createElement("label",{className:"field"},r.createElement("span",null,"Image URL"),r.createElement("input",{className:"input",value:i.imageUrl,onChange:k=>u(M=>({...M,imageUrl:k.target.value})),placeholder:"https://example.com/gift.png",disabled:o})),r.createElement("button",{className:"btn primary",type:"submit",disabled:o,style:{justifySelf:"flex-start",width:"auto"}},o?"Saving...":"Add Gift Item")),r.createElement("div",{style:{marginTop:12}},f&&r.createElement("div",{className:"alert success"},f),h&&r.createElement("div",{className:"alert error"},h))),r.createElement(ve,null,r.createElement("h3",{style:{marginTop:0}},"Add Gift Shop"),r.createElement("p",{className:"muted"},"Create shops and link them to lands."),r.createElement("form",{className:"admin-form-grid",onSubmit:We},r.createElement("label",{className:"field"},r.createElement("span",null,"Shop name"),r.createElement("input",{className:"input",value:d.name,onChange:k=>y(M=>({...M,name:k.target.value})),placeholder:"Chrono Curios",disabled:w})),r.createElement("label",{className:"field"},r.createElement("span",null,"Theme"),r.createElement("select",{className:"input",value:d.themeId,onChange:k=>y(M=>({...M,themeId:k.target.value})),disabled:w},r.createElement("option",{value:""},"Select theme..."),E.map(k=>r.createElement("option",{key:k.id,value:k.id},k.name)))),r.createElement("button",{className:"btn",type:"submit",disabled:w,style:{justifySelf:"flex-start",width:"auto"}},w?"Saving...":"Add Gift Shop")),r.createElement("div",{style:{marginTop:12}},D&&r.createElement("div",{className:"alert success"},D),x&&r.createElement("div",{className:"alert error"},x))),r.createElement(kt,{title:"Gift Shop Items",description:"Souvenir lineup available to guests.",rows:e,columns:[{key:"name",label:"Item"},{key:"shop_name",label:"Shop"},{key:"theme_name",label:"Theme"},{key:"price",label:"Price",render:k=>`$${Number(k||0).toFixed(2)}`},{key:"actions",label:"Actions",render:(k,M)=>r.createElement("div",{className:"table-actions"},r.createElement("button",{type:"button",className:"btn btn-text",onClick:()=>re(M)},"Edit"),r.createElement("button",{type:"button",className:"btn btn-text danger",onClick:()=>ue(M)},"Delete"))}],loading:n,error:l,emptyMessage:"No gift items tracked.",searchPlaceholder:"Search gift items...",sortableKeys:["name","price"]}),r.createElement(kt,{title:"Gift Shops",description:"Shops available across each theme.",rows:S,columns:[{key:"name",label:"Shop"},{key:"theme_name",label:"Theme"},{key:"actions",label:"Actions",render:(k,M)=>r.createElement("div",{className:"table-actions"},r.createElement("button",{type:"button",className:"btn btn-text",onClick:()=>Ge(M)},"Edit"),r.createElement("button",{type:"button",className:"btn btn-text danger",onClick:()=>ke(M)},"Delete"))}],loading:!1,error:"",emptyMessage:"No gift shops created.",searchPlaceholder:"Search gift shops...",sortableKeys:["name","theme_name"]}),A&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Edit Gift Item"),r.createElement("form",{className:"admin-form-grid",onSubmit:fe},r.createElement("label",{className:"field"},r.createElement("span",null,"Item name"),r.createElement("input",{className:"input",value:R.name,onChange:k=>z(M=>({...M,name:k.target.value})),disabled:L})),r.createElement("label",{className:"field"},r.createElement("span",null,"Price"),r.createElement("input",{className:"input",type:"number",min:"0",step:"0.01",value:R.price,onChange:k=>z(M=>({...M,price:k.target.value})),disabled:L})),r.createElement("label",{className:"field"},r.createElement("span",null,"Gift shop"),r.createElement("select",{className:"input",value:R.shopId,onChange:k=>z(M=>({...M,shopId:k.target.value})),disabled:L},r.createElement("option",{value:""},"Select shop..."),S.map(k=>r.createElement("option",{key:k.shop_id,value:k.shop_id},k.name)))),r.createElement("label",{className:"field"},r.createElement("span",null,"Image URL"),r.createElement("input",{className:"input",value:R.imageUrl,onChange:k=>z(M=>({...M,imageUrl:k.target.value})),disabled:L})),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>P(null),disabled:L},"Cancel"),r.createElement("button",{type:"submit",className:"btn primary",disabled:L},L?"Saving...":"Save Changes"))))),Q&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Delete Gift Item"),r.createElement("p",null,"Are you sure you want to remove ",r.createElement("strong",null,Q.name),"?"),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>ae(null),disabled:F},"Cancel"),r.createElement("button",{type:"button",className:"btn danger",onClick:be,disabled:F},F?"Deleting...":"Delete")))),K&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Edit Gift Shop"),r.createElement("form",{className:"admin-form-grid",onSubmit:le},r.createElement("label",{className:"field"},r.createElement("span",null,"Shop name"),r.createElement("input",{className:"input",value:I.name,onChange:k=>X(M=>({...M,name:k.target.value})),disabled:G})),r.createElement("label",{className:"field"},r.createElement("span",null,"Theme"),r.createElement("select",{className:"input",value:I.themeId,onChange:k=>X(M=>({...M,themeId:k.target.value})),disabled:G},r.createElement("option",{value:""},"Select theme..."),E.map(k=>r.createElement("option",{key:k.id,value:k.id},k.name)))),r.createElement("label",{className:"field"},r.createElement("span",null,"Close date (optional)"),r.createElement("input",{className:"input",type:"date",value:I.closeDate,onChange:k=>X(M=>({...M,closeDate:k.target.value})),disabled:G})),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>N(null),disabled:G},"Cancel"),r.createElement("button",{type:"submit",className:"btn primary",disabled:G},G?"Saving...":"Save Changes"))))),ne&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Delete Gift Shop"),r.createElement("p",null,"Are you sure you want to remove ",r.createElement("strong",null,ne.name),"?"),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>ie(null),disabled:V},"Cancel"),r.createElement("button",{type:"button",className:"btn danger",onClick:He,disabled:V},V?"Deleting...":"Delete")))))}function Sy(){const[e,t]=c.useState([]),[n,a]=c.useState(!0),[l,s]=c.useState(""),[i,u]=c.useState({name:"",price:"",vendorId:"",imageUrl:""}),[o,m]=c.useState(!1),[f,p]=c.useState(""),[h,v]=c.useState(""),[S,_]=c.useState([]),[E,g]=c.useState([]),[d,y]=c.useState({name:"",themeId:""}),[w,T]=c.useState(!1),[D,C]=c.useState(""),[x,$]=c.useState(""),[A,P]=c.useState(null),[R,z]=c.useState({name:"",themeId:""}),[L,U]=c.useState(!1),[Q,ae]=c.useState(null),[F,q]=c.useState(!1),[K,N]=c.useState(null),[I,X]=c.useState({name:"",price:"",vendorId:"",imageUrl:""}),[G,se]=c.useState(!1),[ne,ie]=c.useState(null),[V,j]=c.useState(!1),ee=c.useCallback(async()=>{a(!0),s("");try{const k=await J("/food-items"),M=((k==null?void 0:k.data)||[]).map(sn=>({...sn,image_url:sn.image_url??sn.imageUrl??""}));t(M)}catch(k){s((k==null?void 0:k.message)||"Unable to load menu items."),t([])}finally{a(!1)}},[]),b=c.useCallback(async()=>{try{const k=await J("/food-vendors");_((k==null?void 0:k.data)||[])}catch{_([])}},[]),H=c.useCallback(async()=>{try{const k=await J("/themes");g(((k==null?void 0:k.data)||[]).map(M=>({id:M.themeID??M.id,name:M.name??M.themeName})))}catch{g([])}},[]);c.useEffect(()=>{ee()},[ee]),c.useEffect(()=>{b(),H()},[b,H]);async function W(k){if(k.preventDefault(),!o){if(!i.name.trim()){v("Menu item name is required.");return}if(!i.vendorId){v("Select a food vendor.");return}m(!0),p(""),v("");try{await J("/food-items",{method:"POST",body:JSON.stringify({name:i.name.trim(),price:Number(i.price||0),vendorId:Number(i.vendorId),imageUrl:i.imageUrl.trim()})}),p("Menu item saved."),u({name:"",price:"",vendorId:"",imageUrl:""}),ee()}catch(M){v((M==null?void 0:M.message)||"Request failed.")}finally{m(!1)}}}async function re(k){if(k.preventDefault(),!w){if(!d.name.trim()){$("Vendor name is required.");return}if(!d.themeId){$("Theme is required.");return}T(!0),C(""),$("");try{await J("/food-vendors",{method:"POST",body:JSON.stringify({name:d.name.trim(),themeId:Number(d.themeId)})}),C("Vendor saved."),y({name:"",themeId:""}),b()}catch(M){$((M==null?void 0:M.message)||"Unable to save vendor.")}finally{T(!1)}}}function ue(k){N(k),X({name:k.name||"",price:k.price??"",vendorId:k.vendor_id??"",imageUrl:k.image_url||""}),se(!1)}function fe(k){ie(k),j(!1)}async function be(k){if(k.preventDefault(),!(!K||G)){if(!I.name.trim()){v("Menu item name is required.");return}if(!I.vendorId){v("Vendor must be selected.");return}se(!0),v("");try{await J(`/food-items/${K.item_id}`,{method:"PUT",body:JSON.stringify({name:I.name.trim(),price:Number(I.price||0),vendorId:Number(I.vendorId),imageUrl:I.imageUrl.trim()})}),N(null),ee()}catch(M){v((M==null?void 0:M.message)||"Unable to update item.")}finally{se(!1)}}}async function We(){if(!(!ne||V)){j(!0),v("");try{await J(`/food-items/${ne.item_id}`,{method:"DELETE"}),ie(null),ee()}catch(k){v((k==null?void 0:k.message)||"Unable to delete item.")}finally{j(!1)}}}function Ge(k){P(k),z({name:k.name||"",themeId:k.theme_id||""}),U(!1)}function ke(k){ae(k),q(!1)}async function le(k){if(k.preventDefault(),!(!A||L)){if(!R.name.trim()){$("Vendor name is required.");return}if(!R.themeId){$("Theme is required.");return}U(!0),$("");try{await J(`/food-vendors/${A.vendor_id}`,{method:"PUT",body:JSON.stringify({name:R.name.trim(),themeId:Number(R.themeId)})}),P(null),b()}catch(M){$((M==null?void 0:M.message)||"Unable to update vendor.")}finally{U(!1)}}}async function He(){if(!(!Q||F)){q(!0),$("");try{await J(`/food-vendors/${Q.vendor_id}`,{method:"DELETE"}),ae(null),b()}catch(k){$((k==null?void 0:k.message)||"Unable to delete vendor.")}finally{q(!1)}}}return r.createElement(r.Fragment,null,r.createElement(ve,null,r.createElement("h3",{style:{marginTop:0}},"Add Menu Item"),r.createElement("p",{className:"muted"},"Showcase dining options from across the park."),r.createElement("form",{className:"admin-form-grid",onSubmit:W},r.createElement("label",{className:"field"},r.createElement("span",null,"Menu item"),r.createElement("input",{className:"input",name:"food-name",value:i.name,onChange:k=>u(M=>({...M,name:k.target.value})),placeholder:"Astro Funnel Cake",disabled:o})),r.createElement("label",{className:"field"},r.createElement("span",null,"Price"),r.createElement("input",{className:"input",name:"food-price",type:"number",min:"0",step:"0.01",value:i.price,onChange:k=>u(M=>({...M,price:k.target.value})),disabled:o})),r.createElement("label",{className:"field"},r.createElement("span",null,"Vendor"),r.createElement("select",{className:"input",name:"food-vendor",value:i.vendorId,onChange:k=>u(M=>({...M,vendorId:k.target.value})),disabled:o},r.createElement("option",{value:""},"Select vendor..."),S.map(k=>r.createElement("option",{key:k.vendor_id,value:k.vendor_id},k.name)))),r.createElement("label",{className:"field"},r.createElement("span",null,"Image URL"),r.createElement("input",{className:"input",name:"food-image",value:i.imageUrl,onChange:k=>u(M=>({...M,imageUrl:k.target.value})),placeholder:"https://example.com/dish.jpg",disabled:o})),r.createElement("button",{className:"btn primary",type:"submit",disabled:o,style:{justifySelf:"flex-start",width:"auto"}},o?"Saving...":"Add Menu Item")),r.createElement("div",{style:{marginTop:12}},f&&r.createElement("div",{className:"alert success"},f),h&&r.createElement("div",{className:"alert error"},h))),r.createElement(ve,null,r.createElement("h3",{style:{marginTop:0}},"Add Food Vendor"),r.createElement("p",{className:"muted"},"Vendors link dining items to specific themes."),r.createElement("form",{className:"admin-form-grid",onSubmit:re},r.createElement("label",{className:"field"},r.createElement("span",null,"Vendor name"),r.createElement("input",{className:"input",name:"vendor-name",value:d.name,onChange:k=>y(M=>({...M,name:k.target.value})),placeholder:"Nova Street Eats",disabled:w})),r.createElement("label",{className:"field"},r.createElement("span",null,"Theme"),r.createElement("select",{className:"input",name:"vendor-theme",value:d.themeId,onChange:k=>y(M=>({...M,themeId:k.target.value})),disabled:w},r.createElement("option",{value:""},"Select theme..."),E.map(k=>r.createElement("option",{key:k.id,value:k.id},k.name)))),r.createElement("button",{className:"btn",type:"submit",disabled:w,style:{justifySelf:"flex-start",width:"auto"}},w?"Saving...":"Add Vendor")),r.createElement("div",{style:{marginTop:12}},D&&r.createElement("div",{className:"alert success"},D),x&&r.createElement("div",{className:"alert error"},x))),r.createElement(kt,{title:"Food Menu Items",description:"Dining choices pulled into the guest experience.",rows:e,columns:[{key:"name",label:"Item"},{key:"vendor_name",label:"Vendor"},{key:"theme_name",label:"Theme"},{key:"price",label:"Price",render:k=>`$${Number(k||0).toFixed(2)}`},{key:"actions",label:"Actions",render:(k,M)=>r.createElement("div",{className:"table-actions"},r.createElement("button",{type:"button",className:"btn btn-text",onClick:()=>ue(M)},"Edit"),r.createElement("button",{type:"button",className:"btn btn-text danger",onClick:()=>fe(M)},"Delete"))}],loading:n,error:l,emptyMessage:"No food items tracked.",searchPlaceholder:"Search menu items...",sortableKeys:["name","vendor_name","theme_name","price"]}),r.createElement(kt,{title:"Food Vendors",description:"Vendors assigned to each theme.",rows:S,columns:[{key:"name",label:"Vendor"},{key:"theme_name",label:"Theme"},{key:"actions",label:"Actions",render:(k,M)=>r.createElement("div",{className:"table-actions"},r.createElement("button",{type:"button",className:"btn btn-text",onClick:()=>Ge(M)},"Edit"),r.createElement("button",{type:"button",className:"btn btn-text danger",onClick:()=>ke(M)},"Delete"))}],loading:!1,error:"",emptyMessage:"No vendors created yet.",searchPlaceholder:"Search vendors...",sortableKeys:["name","theme_name"]}),K&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Edit Menu Item"),r.createElement("form",{className:"admin-form-grid",onSubmit:be},r.createElement("label",{className:"field"},r.createElement("span",null,"Menu item"),r.createElement("input",{className:"input",value:I.name,onChange:k=>X(M=>({...M,name:k.target.value})),disabled:G})),r.createElement("label",{className:"field"},r.createElement("span",null,"Price"),r.createElement("input",{className:"input",type:"number",min:"0",step:"0.01",value:I.price,onChange:k=>X(M=>({...M,price:k.target.value})),disabled:G})),r.createElement("label",{className:"field"},r.createElement("span",null,"Vendor"),r.createElement("select",{className:"input",value:I.vendorId,onChange:k=>X(M=>({...M,vendorId:k.target.value})),disabled:G},r.createElement("option",{value:""},"Select vendor..."),S.map(k=>r.createElement("option",{key:k.vendor_id,value:k.vendor_id},k.name)))),r.createElement("label",{className:"field"},r.createElement("span",null,"Image URL"),r.createElement("input",{className:"input",value:I.imageUrl,onChange:k=>X(M=>({...M,imageUrl:k.target.value})),disabled:G})),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>N(null),disabled:G},"Cancel"),r.createElement("button",{type:"submit",className:"btn primary",disabled:G},G?"Saving...":"Save Changes"))))),ne&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Delete Menu Item"),r.createElement("p",null,"Are you sure you want to remove ",r.createElement("strong",null,ne.name),"?"),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>ie(null),disabled:V},"Cancel"),r.createElement("button",{type:"button",className:"btn danger",onClick:We,disabled:V},V?"Deleting...":"Delete")))),A&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Edit Vendor"),r.createElement("form",{className:"admin-form-grid",onSubmit:le},r.createElement("label",{className:"field"},r.createElement("span",null,"Vendor name"),r.createElement("input",{className:"input",value:R.name,onChange:k=>z(M=>({...M,name:k.target.value})),disabled:L})),r.createElement("label",{className:"field"},r.createElement("span",null,"Theme"),r.createElement("select",{className:"input",value:R.themeId,onChange:k=>z(M=>({...M,themeId:k.target.value})),disabled:L},r.createElement("option",{value:""},"Select theme..."),E.map(k=>r.createElement("option",{key:k.id,value:k.id},k.name)))),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>P(null),disabled:L},"Cancel"),r.createElement("button",{type:"submit",className:"btn primary",disabled:L},L?"Saving...":"Save Changes"))))),Q&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Delete Vendor"),r.createElement("p",null,"Are you sure you want to remove ",r.createElement("strong",null,Q.name),"?"),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>ae(null),disabled:F},"Cancel"),r.createElement("button",{type:"button",className:"btn danger",onClick:He,disabled:F},F?"Deleting...":"Delete")))))}function Ny(){const[e,t]=c.useState([]),[n,a]=c.useState(!0),[l,s]=c.useState(""),[i,u]=c.useState({name:"",description:"",imageUrl:""}),[o,m]=c.useState(!1),[f,p]=c.useState(""),[h,v]=c.useState(""),[S,_]=c.useState(null),[E,g]=c.useState({name:"",description:"",imageUrl:""}),[d,y]=c.useState(!1),[w,T]=c.useState(null),[D,C]=c.useState(!1),x=c.useCallback(async()=>{a(!0),s("");try{const A=await J("/themes"),P=((A==null?void 0:A.data)||[]).map(R=>({id:R.themeID??R.id,name:R.name??R.themeName,description:R.description??R.Description??"",attraction_count:R.attraction_count??0,image_url:R.image_url??R.imageUrl??""}));t(P)}catch(A){s((A==null?void 0:A.message)||"Unable to load themes."),t([])}finally{a(!1)}},[]);c.useEffect(()=>{x()},[x]);async function $(A){if(A.preventDefault(),!o){if(!i.name.trim()){v("Theme name is required.");return}if(!i.description.trim()){v("Description is required.");return}m(!0),p(""),v("");try{await J("/themes",{method:"POST",body:JSON.stringify({name:i.name.trim(),description:i.description.trim(),imageUrl:i.imageUrl.trim()})}),p("Theme saved."),u({name:"",description:"",imageUrl:""}),x()}catch(P){v((P==null?void 0:P.message)||"Request failed.")}finally{m(!1)}}}return r.createElement(r.Fragment,null,r.createElement(ve,null,r.createElement("h3",{style:{marginTop:0}},"Create Theme"),r.createElement("p",{className:"muted"},"Group attractions into lands that curate the experience."),r.createElement("form",{className:"admin-form-grid",onSubmit:$},r.createElement("label",{className:"field"},r.createElement("span",null,"Theme name"),r.createElement("input",{className:"input",value:i.name,onChange:A=>u(P=>({...P,name:A.target.value})),placeholder:"Chrono Harbor",disabled:o})),r.createElement("label",{className:"field"},r.createElement("span",null,"Description"),r.createElement("textarea",{className:"input",value:i.description,onChange:A=>u(P=>({...P,description:A.target.value})),placeholder:"A waterfront district where time bends.",rows:4,disabled:o})),r.createElement("label",{className:"field"},r.createElement("span",null,"Image URL"),r.createElement("input",{className:"input",value:i.imageUrl,onChange:A=>u(P=>({...P,imageUrl:A.target.value})),placeholder:"https://example.com/theme.jpg",disabled:o})),r.createElement("button",{className:"btn primary",type:"submit",disabled:o,style:{justifySelf:"flex-start",width:"auto"}},o?"Saving...":"Add Theme")),r.createElement("div",{style:{marginTop:12}},f&&r.createElement("div",{className:"alert success"},f),h&&r.createElement("div",{className:"alert error"},h))),r.createElement(kt,{title:"Themes",description:"Lands that organize attractions.",rows:e,columns:[{key:"name",label:"Theme"},{key:"description",label:"Description"},{key:"attraction_count",label:"# Attractions"},{key:"actions",label:"Actions",render:(A,P)=>r.createElement("div",{className:"table-actions"},r.createElement("button",{type:"button",className:"btn btn-text",onClick:()=>{_(P),g({name:P.name||"",description:P.description||"",imageUrl:P.image_url||""}),y(!1)}},"Edit"),r.createElement("button",{type:"button",className:"btn btn-text danger",onClick:()=>{T(P),C(!1)}},"Delete"))}],loading:n,error:l,emptyMessage:"No themes created yet.",searchPlaceholder:"Search themes...",sortableKeys:["name","attraction_count"]}),S&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Edit Theme"),r.createElement("form",{className:"admin-form-grid",onSubmit:async A=>{if(A.preventDefault(),!d){if(!E.name.trim()){v("Theme name is required.");return}if(!E.description.trim()){v("Description is required.");return}y(!0),v("");try{await J(`/themes/${S.id}`,{method:"PUT",body:JSON.stringify({name:E.name.trim(),description:E.description.trim(),imageUrl:E.imageUrl.trim()})}),_(null),x()}catch(P){v((P==null?void 0:P.message)||"Unable to update theme.")}finally{y(!1)}}}},r.createElement("label",{className:"field"},r.createElement("span",null,"Theme name"),r.createElement("input",{className:"input",value:E.name,onChange:A=>g(P=>({...P,name:A.target.value})),disabled:d})),r.createElement("label",{className:"field"},r.createElement("span",null,"Description"),r.createElement("textarea",{className:"input",rows:4,value:E.description,onChange:A=>g(P=>({...P,description:A.target.value})),disabled:d})),r.createElement("label",{className:"field"},r.createElement("span",null,"Image URL"),r.createElement("input",{className:"input",value:E.imageUrl,onChange:A=>g(P=>({...P,imageUrl:A.target.value})),disabled:d})),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>_(null),disabled:d},"Cancel"),r.createElement("button",{type:"submit",className:"btn primary",disabled:d},d?"Saving...":"Save Changes"))))),w&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Delete Theme"),r.createElement("p",null,"Are you sure you want to remove ",r.createElement("strong",null,w.name),"?"),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>T(null),disabled:D},"Cancel"),r.createElement("button",{type:"button",className:"btn danger",disabled:D,onClick:async()=>{if(!D){C(!0),v("");try{await J(`/themes/${w.id}`,{method:"DELETE"}),T(null),x()}catch(A){v((A==null?void 0:A.message)||"Unable to delete theme.")}finally{C(!1)}}}},D?"Deleting...":"Delete")))))}function ky(){const[e,t]=c.useState([]),[n,a]=c.useState(!0),[l,s]=c.useState(""),[i,u]=c.useState({name:"",themeId:"",typeId:"",capacity:"",imageUrl:"",experienceLevel:"",audience:""}),[o,m]=c.useState(!1),[f,p]=c.useState(""),[h,v]=c.useState(""),[S,_]=c.useState([]),[E,g]=c.useState([]),[d,y]=c.useState(null),[w,T]=c.useState({name:"",themeId:"",typeId:"",capacity:"",imageUrl:"",experienceLevel:"",audience:""}),[D,C]=c.useState(!1),[x,$]=c.useState(null),[A,P]=c.useState(!1),[R,z]=c.useState({name:"",description:""}),[L,U]=c.useState(!1),[Q,ae]=c.useState(""),[F,q]=c.useState(""),[K,N]=c.useState(null),[I,X]=c.useState({name:"",description:""}),[G,se]=c.useState(!1),[ne,ie]=c.useState(""),[V,j]=c.useState(null),[ee,b]=c.useState(!1),[H,W]=c.useState(""),re=c.useCallback(async()=>{a(!0),s("");try{const O=await J("/attractions"),Z=((O==null?void 0:O.data)||[]).map(te=>{const _t=te.ThemeID??te.themeId??te.theme_id??"",yd=te.AttractionTypeID??te.typeId??te.type_id??"";return{id:te.AttractionID??te.id,name:te.Name??te.name,theme:te.theme_name??"",type:te.attraction_type_name??te.TypeName??te.type??"",capacity:te.Capacity??te.capacity??te.RidersPerVehicle??te.riders_per_vehicle??null,image_url:te.image_url??te.imageUrl??"",themeId:_t,typeId:yd,experienceLevel:te.experience_level??te.experienceLevel??"",audience:te.target_audience??te.targetAudience??""}});t(Z)}catch(O){s((O==null?void 0:O.message)||"Unable to load attractions."),t([])}finally{a(!1)}},[]),ue=c.useCallback(async()=>{try{const[O,Z]=await Promise.all([J("/themes").catch(()=>({data:[]})),J("/attraction-types").catch(()=>({data:[]}))]);_((O.data||[]).map(te=>({id:te.themeID??te.id,name:te.name??te.themeName}))),g((Z.data||[]).map(te=>({id:te.id??te.AttractionType??te.AttractionTypeID,name:te.name??te.TypeName,description:te.description??te.Description??""})))}catch{_([]),g([])}},[]);c.useEffect(()=>{re()},[re]),c.useEffect(()=>{ue()},[ue]);async function fe(O){if(O.preventDefault(),o)return;if(!i.name.trim()){v("Attraction name is required.");return}if(!i.themeId){v("Theme must be selected.");return}if(!i.typeId){v("Attraction type must be selected.");return}const Z=Number(i.capacity);if(!Number.isFinite(Z)||Z<=0){v("Capacity must be greater than zero.");return}m(!0),p(""),v("");try{await J("/attractions",{method:"POST",body:JSON.stringify({name:i.name.trim(),themeId:i.themeId,typeId:i.typeId,capacity:Z,imageUrl:i.imageUrl.trim(),experienceLevel:i.experienceLevel.trim(),targetAudience:i.audience.trim()})}),p("Attraction saved."),u({name:"",themeId:"",typeId:"",capacity:"",imageUrl:"",experienceLevel:"",audience:""}),re()}catch(te){v((te==null?void 0:te.message)||"Request failed.")}finally{m(!1)}}async function be(O){if(O.preventDefault(),L)return;const Z=R.name.trim(),te=R.description.trim();if(!Z){q("Type name is required.");return}U(!0),q(""),ae("");try{await J("/attraction-types",{method:"POST",body:JSON.stringify({name:Z,description:te})}),ae("Attraction type added."),z({name:"",description:""}),ue()}catch(_t){q((_t==null?void 0:_t.message)||"Unable to add type.")}finally{U(!1)}}function We(O){N(O),X({name:(O==null?void 0:O.name)||"",description:(O==null?void 0:O.description)||""}),ie("")}function Ge(){N(null),X({name:"",description:""}),ie("")}async function ke(O){if(O.preventDefault(),!K||G)return;const Z=I.name.trim(),te=I.description.trim();if(!Z){ie("Type name is required.");return}se(!0),ie(""),ae("");try{await J(`/attraction-types/${K.id}`,{method:"PUT",body:JSON.stringify({name:Z,description:te})}),ae("Attraction type updated."),Ge(),ue()}catch(_t){ie((_t==null?void 0:_t.message)||"Unable to update type.")}finally{se(!1)}}function le(O){j(O),W("")}function He(){j(null),W("")}async function k(){if(!(!V||ee)){b(!0),W(""),ae("");try{await J(`/attraction-types/${V.id}`,{method:"DELETE"}),ae("Attraction type deleted."),He(),ue()}catch(O){W((O==null?void 0:O.message)||"Unable to delete type.")}finally{b(!1)}}}function M(O){y(O),T({name:O.name||"",themeId:O.themeId||O.ThemeID||"",typeId:O.typeId||O.type_id||"",capacity:O.capacity??"",imageUrl:O.image_url||"",experienceLevel:O.experienceLevel||O.experience_level||"",audience:O.audience||O.target_audience||""}),C(!1)}function sn(O){$(O),P(!1)}async function Xa(O){if(O.preventDefault(),!d||D)return;if(!w.name.trim()){v("Attraction name is required.");return}if(!w.themeId){v("Theme must be selected.");return}if(!w.typeId){v("Attraction type must be selected.");return}const Z=Number(w.capacity);if(!Number.isFinite(Z)||Z<=0){v("Capacity must be greater than zero.");return}C(!0),v("");try{await J(`/attractions/${d.id}`,{method:"PUT",body:JSON.stringify({name:w.name.trim(),themeId:Number(w.themeId),typeId:Number(w.typeId),capacity:Z,imageUrl:w.imageUrl.trim(),experienceLevel:w.experienceLevel.trim(),targetAudience:w.audience.trim()})}),y(null),re()}catch(te){v((te==null?void 0:te.message)||"Unable to update attraction.")}finally{C(!1)}}async function Sl(){if(!(!x||A)){P(!0),v("");try{await J(`/attractions/${x.id}`,{method:"DELETE"}),$(null),re()}catch(O){v((O==null?void 0:O.message)||"Unable to delete attraction.")}finally{P(!1)}}}return r.createElement(r.Fragment,null,r.createElement(ve,null,r.createElement("h3",{style:{marginTop:0}},"Add Attraction"),r.createElement("p",{className:"muted"},"Publish rides and experiences for guests and operations."),r.createElement("form",{className:"admin-form-grid",onSubmit:fe},r.createElement("label",{className:"field"},r.createElement("span",null,"Attraction name"),r.createElement("input",{className:"input",value:i.name,onChange:O=>u(Z=>({...Z,name:O.target.value})),placeholder:"Chrono Coaster",disabled:o})),r.createElement("label",{className:"field"},r.createElement("span",null,"Theme"),r.createElement("select",{className:"input",value:i.themeId,onChange:O=>u(Z=>({...Z,themeId:O.target.value})),disabled:o},r.createElement("option",{value:""},"Select theme..."),S.map(O=>r.createElement("option",{key:O.id,value:O.id},O.name)))),r.createElement("label",{className:"field"},r.createElement("span",null,"Attraction type"),r.createElement("select",{className:"input",value:i.typeId,onChange:O=>u(Z=>({...Z,typeId:O.target.value})),disabled:o},r.createElement("option",{value:""},"Select type..."),E.map(O=>r.createElement("option",{key:O.id,value:O.id},O.name)))),r.createElement("label",{className:"field"},r.createElement("span",null,"Capacity per dispatch/event"),r.createElement("input",{className:"input",type:"number",min:"1",value:i.capacity,onChange:O=>u(Z=>({...Z,capacity:O.target.value})),disabled:o})),r.createElement("label",{className:"field"},r.createElement("span",null,"Experience level"),r.createElement("input",{className:"input",value:i.experienceLevel,onChange:O=>u(Z=>({...Z,experienceLevel:O.target.value})),placeholder:"High thrill, family-friendly, etc.",disabled:o})),r.createElement("label",{className:"field"},r.createElement("span",null,"Who's it for?"),r.createElement("input",{className:"input",value:i.audience,onChange:O=>u(Z=>({...Z,audience:O.target.value})),placeholder:"Families, thrill-seekers, ages 8+",disabled:o})),r.createElement("label",{className:"field"},r.createElement("span",null,"Image URL"),r.createElement("input",{className:"input",value:i.imageUrl,onChange:O=>u(Z=>({...Z,imageUrl:O.target.value})),placeholder:"https://example.com/attraction.jpg",disabled:o})),r.createElement("button",{className:"btn primary",type:"submit",disabled:o,style:{justifySelf:"flex-start",width:"auto"}},o?"Saving...":"Add Attraction")),r.createElement("div",{style:{marginTop:12}},f&&r.createElement("div",{className:"alert success"},f),h&&r.createElement("div",{className:"alert error"},h))),r.createElement(ve,null,r.createElement("h3",{style:{marginTop:0}},"Add Attraction Type"),r.createElement("form",{className:"admin-form-grid",onSubmit:be},r.createElement("label",{className:"field"},r.createElement("span",null,"Type name"),r.createElement("input",{className:"input",value:R.name,onChange:O=>z(Z=>({...Z,name:O.target.value})),placeholder:"Dark Ride",disabled:L})),r.createElement("label",{className:"field"},r.createElement("span",null,"Description"),r.createElement("textarea",{className:"input",value:R.description,onChange:O=>z(Z=>({...Z,description:O.target.value})),placeholder:"Describe the ride experience.",rows:3,disabled:L})),r.createElement("button",{className:"btn",type:"submit",disabled:L,style:{justifySelf:"flex-start",width:"auto"}},L?"Saving...":"Add Type")),r.createElement("div",{style:{marginTop:8}},Q&&r.createElement("div",{className:"alert success"},Q),F&&r.createElement("div",{className:"alert error"},F))),r.createElement(kt,{title:"Attraction Types",description:"Manage the categories available for attractions.",rows:E,columns:[{key:"name",label:"Type"},{key:"description",label:"Description",render:O=>O||""},{key:"actions",label:"Actions",render:(O,Z)=>r.createElement("div",{className:"table-actions"},r.createElement("button",{type:"button",className:"btn btn-text",onClick:()=>We(Z)},"Edit"),r.createElement("button",{type:"button",className:"btn btn-text danger",onClick:()=>le(Z)},"Delete"))}],loading:!1,error:"",emptyMessage:"No attraction types found.",searchPlaceholder:"Search attraction types...",sortableKeys:["name"]}),r.createElement(kt,{title:"Attractions",description:"Rides and experiences available throughout the park.",rows:e,columns:[{key:"name",label:"Attraction"},{key:"theme",label:"Theme"},{key:"type",label:"Type"},{key:"experienceLevel",label:"Experience Level",render:O=>O||"N/A"},{key:"audience",label:"Who It's For",render:O=>O||"N/A"},{key:"capacity",label:"Capacity"},{key:"actions",label:"Actions",render:(O,Z)=>r.createElement("div",{className:"table-actions"},r.createElement("button",{type:"button",className:"btn btn-text",onClick:()=>M(Z)},"Edit"),r.createElement("button",{type:"button",className:"btn btn-text danger",onClick:()=>sn(Z)},"Delete"))}],loading:n,error:l,emptyMessage:"No attractions recorded.",searchPlaceholder:"Search attractions...",sortableKeys:["name","theme","type"]}),d&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Edit Attraction"),r.createElement("form",{className:"admin-form-grid",onSubmit:Xa},r.createElement("label",{className:"field"},r.createElement("span",null,"Attraction name"),r.createElement("input",{className:"input",value:w.name,onChange:O=>T(Z=>({...Z,name:O.target.value})),disabled:D})),r.createElement("label",{className:"field"},r.createElement("span",null,"Theme"),r.createElement("select",{className:"input",value:w.themeId,onChange:O=>T(Z=>({...Z,themeId:O.target.value})),disabled:D},r.createElement("option",{value:""},"Select theme..."),S.map(O=>r.createElement("option",{key:O.id,value:O.id},O.name)))),r.createElement("label",{className:"field"},r.createElement("span",null,"Attraction type"),r.createElement("select",{className:"input",value:w.typeId,onChange:O=>T(Z=>({...Z,typeId:O.target.value})),disabled:D},r.createElement("option",{value:""},"Select type..."),E.map(O=>r.createElement("option",{key:O.id,value:O.id},O.name)))),r.createElement("label",{className:"field"},r.createElement("span",null,"Capacity"),r.createElement("input",{className:"input",type:"number",min:"1",value:w.capacity,onChange:O=>T(Z=>({...Z,capacity:O.target.value})),disabled:D})),r.createElement("label",{className:"field"},r.createElement("span",null,"Experience level"),r.createElement("input",{className:"input",value:w.experienceLevel,onChange:O=>T(Z=>({...Z,experienceLevel:O.target.value})),disabled:D})),r.createElement("label",{className:"field"},r.createElement("span",null,"Who's it for?"),r.createElement("input",{className:"input",value:w.audience,onChange:O=>T(Z=>({...Z,audience:O.target.value})),disabled:D})),r.createElement("label",{className:"field"},r.createElement("span",null,"Image URL"),r.createElement("input",{className:"input",value:w.imageUrl,onChange:O=>T(Z=>({...Z,imageUrl:O.target.value})),disabled:D})),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>y(null),disabled:D},"Cancel"),r.createElement("button",{type:"submit",className:"btn primary",disabled:D},D?"Saving...":"Save Changes"))))),K&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Edit Attraction Type"),r.createElement("form",{className:"admin-form-grid",onSubmit:ke},r.createElement("label",{className:"field"},r.createElement("span",null,"Type name"),r.createElement("input",{className:"input",value:I.name,onChange:O=>X(Z=>({...Z,name:O.target.value})),disabled:G})),r.createElement("label",{className:"field"},r.createElement("span",null,"Description"),r.createElement("textarea",{className:"input",rows:3,value:I.description,onChange:O=>X(Z=>({...Z,description:O.target.value})),disabled:G})),ne&&r.createElement("div",{className:"alert error"},ne),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:Ge,disabled:G},"Cancel"),r.createElement("button",{type:"submit",className:"btn primary",disabled:G},G?"Saving...":"Save Changes"))))),V&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Delete Attraction Type"),r.createElement("p",null,"Are you sure you want to remove ",r.createElement("strong",null,V.name),"? This action cannot be undone."),H&&r.createElement("div",{className:"alert error"},H),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:He,disabled:ee},"Cancel"),r.createElement("button",{type:"button",className:"btn danger",onClick:k,disabled:ee},ee?"Removing...":"Delete")))),x&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Delete Attraction"),r.createElement("p",null,"Are you sure you want to remove ",r.createElement("strong",null,x.name),"?"),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>$(null),disabled:A},"Cancel"),r.createElement("button",{type:"button",className:"btn danger",onClick:Sl,disabled:A},A?"Deleting...":"Delete")))))}const wy=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2});function by(e){if(e==null||e==="")return"--";const t=Number(e);return Number.isFinite(t)?wy.format(t):e}function _y(e){if(!e)return"--";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString()}function xu(){return new Date().toISOString().slice(0,10)}function Cy(){const{user:e,actualRole:t}=Me(),n=t??(e==null?void 0:e.role)??"customer",a=["admin","owner"].includes(n),[l,s]=c.useState([]),[i,u]=c.useState(!0),[o,m]=c.useState(""),[f,p]=c.useState([]),[h,v]=c.useState(!0),[S,_]=c.useState(""),[E,g]=c.useState({name:"",email:"",salary:"",startDate:xu(),password:"",positionId:""}),[d,y]=c.useState(!1),[w,T]=c.useState(""),[D,C]=c.useState(""),[x,$]=c.useState(null),[A,P]=c.useState(!1),[R,z]=c.useState(""),[L,U]=c.useState(""),[Q,ae]=c.useState(null),[F,q]=c.useState({name:"",salary:"",positionId:""}),[K,N]=c.useState(!1),I=c.useCallback(async()=>{u(!0),m("");try{const b=await J("/employees");s(Array.isArray(b==null?void 0:b.data)?b.data:[])}catch(b){m((b==null?void 0:b.message)||"Unable to load employees."),s([])}finally{u(!1)}},[]);c.useEffect(()=>{I()},[I]);const X=c.useCallback(async()=>{v(!0),_("");try{const b=await J("/positions");p(Array.isArray(b==null?void 0:b.data)?b.data:[])}catch(b){p([]),_((b==null?void 0:b.message)||"Unable to load positions.")}finally{v(!1)}},[]);c.useEffect(()=>{X()},[X]),c.useEffect(()=>{f.length&&g(b=>b.positionId?b:{...b,positionId:String(f[0].id)})},[f]);const G=c.useCallback(b=>{a&&($(b),z(""),U(""),P(!1))},[a]),se=c.useCallback(async()=>{if(!(!x||A)){P(!0),z(""),U("");try{await J(`/employees/${x.employeeID}`,{method:"DELETE"}),U("Employee deleted."),$(null),I()}catch(b){z((b==null?void 0:b.message)||"Unable to delete employee.")}finally{P(!1)}}},[x,A,I]),ne=c.useCallback(b=>{ae(b),q({name:b.name||"",salary:b.salary??"",positionId:b.role?String(b.role):f[0]?String(f[0].id):""}),T(""),C(""),N(!1)},[f]),ie=async b=>{if(b.preventDefault(),!Q||K)return;if(!F.name.trim()){T("Employee name is required.");return}const H=F.salary===""?null:Number(F.salary);if(H!==null&&(!Number.isFinite(H)||H<=0)){T("Salary must be greater than zero.");return}if(H!==null&&H>2e5){T("Salary must be $200,000 or less.");return}if(!F.positionId){T("Role must be selected.");return}N(!0),T("");try{await J(`/employees/${Q.employeeID}`,{method:"PUT",body:JSON.stringify({name:F.name.trim(),salary:H,positionId:Number(F.positionId)})}),ae(null),I()}catch(W){T((W==null?void 0:W.message)||"Unable to update employee.")}finally{N(!1)}},V=c.useMemo(()=>{const b=[{key:"name",label:"Name"},{key:"role_name",label:"Role"},{key:"email",label:"Email"},{key:"salary",label:"Salary",render:by},{key:"start_date",label:"Start Date",render:_y}];return a&&b.push({key:"actions",label:"Actions",render:(H,W)=>r.createElement("div",{className:"table-actions"},r.createElement("button",{type:"button",className:"btn btn-text",onClick:()=>ne(W)},"Edit"),r.createElement("button",{type:"button",className:"btn btn-text danger",onClick:()=>G(W)},"Delete"))}),b},[a,G,ne]),j=(b,H)=>{g(W=>({...W,[b]:H}))};async function ee(b){if(b.preventDefault(),!a||d)return;const H=E.name.trim(),W=E.email.trim().toLowerCase(),re=E.password.trim(),ue=E.startDate.trim(),fe=Number(E.salary);if(!H){T("Employee name is required.");return}if(!W){T("Employee email is required.");return}if(!re||re.length<8){T("Password must be at least 8 characters.");return}if(!ue||!/^\d{4}-\d{2}-\d{2}$/.test(ue)){T("Start date must be provided in YYYY-MM-DD format.");return}if(!E.salary||Number.isNaN(fe)||fe<=0){T("Salary must be greater than zero.");return}if(fe>2e5){T("Salary must be $200,000 or less.");return}if(!E.positionId){T("Role must be selected.");return}y(!0),T(""),C("");try{await J("/employees",{method:"POST",body:JSON.stringify({name:H,email:W,password:re,salary:fe,startDate:ue,positionId:Number(E.positionId)})}),C("Employee created successfully."),g({name:"",email:"",salary:"",startDate:xu(),password:"",positionId:f[0]?String(f[0].id):""}),I()}catch(be){T((be==null?void 0:be.message)||"Unable to create employee.")}finally{y(!1)}}return r.createElement("div",{className:"admin-employees"},a&&r.createElement(ve,{className:"admin-employees__form"},r.createElement("div",{className:"admin-panel-header"},r.createElement("div",null,r.createElement("h3",{style:{margin:0}},"Add Employee"),r.createElement("p",{className:"muted",style:{margin:"4px 0 0"}},"Creates both the employee record and linked user credentials."))),r.createElement("form",{className:"admin-form-grid admin-form-grid--cols",onSubmit:ee},r.createElement("label",{className:"field"},r.createElement("span",null,"Full Name"),r.createElement("input",{className:"input",type:"text",value:E.name,onChange:b=>j("name",b.target.value),disabled:d})),r.createElement("label",{className:"field"},r.createElement("span",null,"Work Email"),r.createElement("input",{className:"input",type:"email",value:E.email,onChange:b=>j("email",b.target.value),disabled:d})),r.createElement("label",{className:"field"},r.createElement("span",null,"Salary (USD)"),r.createElement("input",{className:"input",type:"number",min:"0",step:"100",value:E.salary,onChange:b=>j("salary",b.target.value),disabled:d})),r.createElement("label",{className:"field"},r.createElement("span",null,"Start Date"),r.createElement("input",{className:"input",type:"date",value:E.startDate,onChange:b=>j("startDate",b.target.value),disabled:d})),r.createElement("label",{className:"field"},r.createElement("span",null,"Role"),r.createElement("select",{className:"input",value:E.positionId||"",onChange:b=>j("positionId",b.target.value),disabled:d||h||!f.length},!f.length&&r.createElement("option",{value:""},"No roles available"),f.map(b=>r.createElement("option",{key:b.id,value:b.id},b.name)))),S&&r.createElement("div",{className:"alert error",style:{gridColumn:"1 / -1"}},S),r.createElement("label",{className:"field field--full"},r.createElement("span",null,"Temporary Password"),r.createElement("input",{className:"input",type:"password",value:E.password,onChange:b=>j("password",b.target.value),disabled:d})),r.createElement("button",{className:"btn primary",type:"submit",disabled:d,style:{justifySelf:"flex-start",width:"auto"}},d?"Creating...":"Create Employee")),r.createElement("div",{style:{marginTop:12}},D&&r.createElement("div",{className:"alert success"},D),w&&r.createElement("div",{className:"alert error"},w))),r.createElement(kt,{title:"Employees",description:"Search and sort the full roster.",rows:l,columns:V,loading:i,error:o,emptyMessage:"No employees found.",searchPlaceholder:"Search employees...",sortableKeys:["name","role_name","salary","start_date"]}),(L||R)&&r.createElement("div",null,L&&r.createElement("div",{className:"alert success"},L),R&&r.createElement("div",{className:"alert error"},R)),Q&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Edit Employee"),r.createElement("form",{className:"admin-form-grid admin-form-grid--cols",onSubmit:ie},r.createElement("label",{className:"field"},r.createElement("span",null,"Full name"),r.createElement("input",{className:"input",value:F.name,onChange:b=>q(H=>({...H,name:b.target.value})),disabled:K})),r.createElement("label",{className:"field"},r.createElement("span",null,"Salary (USD)"),r.createElement("input",{className:"input",type:"number",min:"0",step:"100",value:F.salary,onChange:b=>q(H=>({...H,salary:b.target.value})),disabled:K})),r.createElement("label",{className:"field"},r.createElement("span",null,"Role"),r.createElement("select",{className:"input",value:F.positionId||"",onChange:b=>q(H=>({...H,positionId:b.target.value})),disabled:K||h||!f.length},!f.length&&r.createElement("option",{value:""},"No roles available"),f.map(b=>r.createElement("option",{key:b.id,value:b.id},b.name)))),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>ae(null),disabled:K},"Cancel"),r.createElement("button",{type:"submit",className:"btn primary",disabled:K},K?"Saving...":"Save Changes"))))),x&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Delete Employee"),r.createElement("p",null,"Are you sure you want to remove ",r.createElement("strong",null,x.name),"?"),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>$(null),disabled:A},"Cancel"),r.createElement("button",{type:"button",className:"btn danger",onClick:se,disabled:A},A?"Deleting...":"Delete")))))}const Yl=["low","medium","high","critical"];function Tu(e){if(!e)return"--";const t=new Date(`${e}T00:00:00`);return Number.isNaN(t.getTime())?e:t.toLocaleDateString()}function dd(){const{user:e}=Me(),[t,n]=c.useState([]),[a,l]=c.useState(!0),[s,i]=c.useState(""),[u,o]=c.useState(!1),[m,f]=c.useState(""),[p,h]=c.useState(""),[v,S]=c.useState(""),[_,E]=c.useState(""),[g,d]=c.useState(""),[y,w]=c.useState(null),[T,D]=c.useState(null),[C,x]=c.useState({attractionId:"",dateBroken:"",dateFixed:"",type:"",severity:"",description:""}),[$,A]=c.useState([]),[P,R]=c.useState([]),[z,L]=c.useState(Yl),U=["manager","admin","owner"].includes(e==null?void 0:e.role),Q=c.useCallback(async()=>{l(!0),i("");try{const N=await J("/maintenance");n((N==null?void 0:N.data)||[])}catch(N){i((N==null?void 0:N.message)||"Unable to load maintenance records."),n([])}finally{l(!1)}},[]),ae=c.useCallback(async()=>{try{const[N,I]=await Promise.all([J("/attractions").catch(()=>({data:[]})),J("/maintenance/meta").catch(()=>({data:{}}))]);A((N.data||[]).map(ne=>({id:ne.AttractionID??ne.id??ne.attractionID,name:ne.Name??ne.name})));const X=I.data||{},G=(X.types||[]).map(ne=>{const ie=typeof ne=="string"?ne.replace(/_/g," ").replace(/\b\w/g,V=>V.toUpperCase()):String(ne);return{id:ne,name:ie}});R(G);const se=(X.severities||[]).length?(X.severities||[]).map(ne=>String(ne).toLowerCase()):Yl;L(se)}catch{A([]),setEmployees([]),R([]),L(Yl)}},[]),F=c.useCallback(async N=>{if(!(!U||!N)){S(""),E(""),w(N);try{await J(`/maintenance/${N}/confirm`,{method:"POST"}),S("Maintenance record approved."),await Q()}catch(I){E((I==null?void 0:I.message)||"Unable to confirm maintenance record.")}finally{w(null)}}},[U,Q]),q=c.useCallback(async N=>{if(!(N!=null&&N.RecordID))return;d("");const I=(N==null?void 0:N.Date_fixed)||new Date().toISOString().slice(0,10),X=typeof window<"u"?window.prompt("Enter resolved date (YYYY-MM-DD)",I):I;if(!X)return;const G=X.trim();if(!/^\d{4}-\d{2}-\d{2}$/.test(G)){d("Resolved date must be in YYYY-MM-DD format.");return}D(N.RecordID);try{await J(`/maintenance/${N.RecordID}`,{method:"PUT",body:JSON.stringify({dateFixed:G})}),S("Maintenance marked resolved."),await Q()}catch(se){d((se==null?void 0:se.message)||"Unable to mark maintenance resolved.")}finally{D(null)}},[Q]);c.useEffect(()=>{Q()},[Q]),c.useEffect(()=>{ae()},[ae]);async function K(N){if(N.preventDefault(),!u){if(!C.attractionId){h("Attraction is required.");return}if(!C.type){h("Repair type must be selected.");return}if(!C.severity){h("Severity must be selected.");return}if(!C.description.trim()){h("Description is required.");return}o(!0),f(""),h("");try{await J("/maintenance",{method:"POST",body:JSON.stringify({attractionId:C.attractionId,dateBroken:C.dateBroken||null,dateFixed:C.dateFixed||null,type:C.type,severity:C.severity,description:C.description.trim()})}),f("Maintenance record logged."),x({attractionId:"",dateBroken:"",dateFixed:"",type:"",severity:"",description:""}),Q()}catch(I){h((I==null?void 0:I.message)||"Failed to save maintenance record.")}finally{o(!1)}}}return r.createElement("div",{className:"admin-maintenance"},r.createElement("div",{className:"admin-maintenance__layout"},r.createElement(ve,{className:"admin-maintenance__panel"},r.createElement("h3",{style:{marginTop:0}},"Log Maintenance"),r.createElement("form",{className:"admin-form-grid",onSubmit:K},r.createElement("label",{className:"field"},r.createElement("span",null,"Attraction"),r.createElement("select",{className:"input",value:C.attractionId,onChange:N=>x(I=>({...I,attractionId:N.target.value})),disabled:u},r.createElement("option",{value:""},"Select attraction..."),$.map(N=>r.createElement("option",{key:N.id,value:N.id},N.name)))),r.createElement("label",{className:"field"},r.createElement("span",null,"Date reported"),r.createElement("input",{className:"input",type:"date",value:C.dateBroken,onChange:N=>x(I=>({...I,dateBroken:N.target.value})),disabled:u})),r.createElement("label",{className:"field"},r.createElement("span",null,"Date resolved"),r.createElement("input",{className:"input",type:"date",value:C.dateFixed,onChange:N=>x(I=>({...I,dateFixed:N.target.value})),disabled:u})),r.createElement("label",{className:"field"},r.createElement("span",null,"Maintenance type"),r.createElement("select",{className:"input",value:C.type,onChange:N=>x(I=>({...I,type:N.target.value})),disabled:u},r.createElement("option",{value:""},"Select type..."),P.map(N=>r.createElement("option",{key:N.id,value:N.id},N.name)))),r.createElement("label",{className:"field"},r.createElement("span",null,"Severity"),r.createElement("select",{className:"input",value:C.severity,onChange:N=>x(I=>({...I,severity:N.target.value})),disabled:u},r.createElement("option",{value:""},"Select severity..."),z.map(N=>r.createElement("option",{key:N,value:N},N.replace(/\b\w/g,I=>I.toUpperCase()))))),r.createElement("label",{className:"field",style:{gridColumn:"1 / -1"}},r.createElement("span",null,"Description"),r.createElement("textarea",{className:"input",rows:4,value:C.description,onChange:N=>x(I=>({...I,description:N.target.value})),placeholder:"Describe the maintenance issue and any context.",disabled:u})),r.createElement("button",{className:"btn primary",type:"submit",disabled:u,style:{justifySelf:"flex-start",width:"auto"}},u?"Saving...":"Log Maintenance")),r.createElement("div",{style:{marginTop:12}},m&&r.createElement("div",{className:"alert success"},m),p&&r.createElement("div",{className:"alert error"},p))),r.createElement(ve,{className:"admin-maintenance__panel"},r.createElement("h3",{style:{marginTop:0}},"Recent Maintenance Records"),a&&r.createElement("div",{className:"text-sm text-gray-600"},"Loading records..."),!a&&s&&r.createElement("div",{className:"alert error"},s),!a&&g&&r.createElement("div",{className:"alert error"},g),!a&&!s&&r.createElement(dy,{rows:t,columns:[{key:"attraction_name",label:"Attraction"},{key:"type_of_maintenance",label:"Type"},{key:"Severity_of_report",label:"Severity"},{key:"Date_broken_down",label:"Reported",render:N=>Tu(N)},{key:"Date_fixed",label:"Resolved",render:N=>Tu(N)},{key:"status_label",label:"Status",render:(N,I)=>r.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:6,alignItems:"center"}},r.createElement("span",{style:{display:"inline-flex",alignItems:"center",padding:"2px 8px",borderRadius:999,background:"#eef2ff",fontSize:12,fontWeight:500,textTransform:"capitalize",width:"fit-content"}},N||"Unknown"),I.status_code==="reported"&&r.createElement("button",{type:"button",className:"btn",style:{padding:"2px 8px",fontSize:12},onClick:()=>q(I),disabled:T===I.RecordID},T===I.RecordID?"Saving...":"Mark Resolved"),U&&I.can_confirm&&r.createElement("button",{type:"button",className:"btn",style:{padding:"2px 8px",fontSize:12},onClick:()=>F(I.RecordID),disabled:y===I.RecordID},y===I.RecordID?"Confirming...":"Confirm"))},{key:"approved_by_supervisor_name",label:"Approved By",render:(N,I)=>N||I.Approved_by_supervisor||"Pending"}],emptyMessage:"No maintenance records yet."}),(v||_)&&r.createElement("div",{style:{marginTop:12}},v&&r.createElement("div",{className:"alert success"},v),_&&r.createElement("div",{className:"alert error"},_)))))}function xy(){return r.createElement(hy,null,r.createElement(Xi,null,r.createElement(me,{index:!0,element:r.createElement(gn,{to:"tickets",replace:!0})}),r.createElement(me,{path:"tickets",element:r.createElement(yy,null)}),r.createElement(me,{path:"parking",element:r.createElement(gy,null)}),r.createElement(me,{path:"gift",element:r.createElement(Ey,null)}),r.createElement(me,{path:"food",element:r.createElement(Sy,null)}),r.createElement(me,{path:"themes",element:r.createElement(Ny,null)}),r.createElement(me,{path:"attractions",element:r.createElement(ky,null)}),r.createElement(me,{path:"employees",element:r.createElement(Cy,null)}),r.createElement(me,{path:"maintenance",element:r.createElement(dd,null)}),r.createElement(me,{path:"*",element:r.createElement(gn,{to:"tickets",replace:!0})})))}function Ha({roles:e=[],fallback:t=null,children:n}){const{user:a}=Me();return!!a&&e.includes(a.role)?r.createElement(r.Fragment,null,n):t}const cn=[{key:"cancellations",title:"Ride Cancellations",description:"Audit rainouts and other closures; filter by reason, attraction, or notes.",endpoint:"/reports/cancellations",emptyMessage:"Run the report to see cancellation activity.",columns:["attraction","cancel_date","reason_label"],badge:"Operations",fields:[{key:"start",label:"Start Date",type:"date",default:()=>Ay(14)},{key:"end",label:"End Date",type:"date",default:()=>Ry()},{key:"reasons",label:"Reasons",type:"multiselect",optionsKey:"reasons",size:5,placeholder:"All reasons",helper:"Toggle the reasons you want included."},{key:"search",label:"Search (ride or notes)",type:"text",placeholder:"Keywords..."}],buildParams:e=>{const t=new URLSearchParams;return e.start&&t.set("start",e.start),e.end&&t.set("end",e.end),Array.isArray(e.reasons)&&e.reasons.length&&t.set("reasons",e.reasons.join(",")),e.search&&t.set("search",e.search),t}},{key:"riders",title:"Ride Demand Trends",description:"See rider counts for a given day or roll aggregate metrics by month and attraction.",endpoint:"/reports/riders-per-day",emptyMessage:"Choose filters to see rider counts.",badge:"Guest Flow",columns:["Name","log_date","period_start","riders_count","avg_riders","entry_count"],fields:[{key:"group",label:"Group By",type:"select",options:[{value:"day",label:"Day"},{value:"month",label:"Month"}],default:"month",allowAll:!1,helper:"Switch to Day to focus on a single dates rider counts."},{key:"month",label:"Month (monthly mode)",type:"month",default:"",helper:"Pick a calendar month to auto-fill the range when grouping by month."},{key:"date",label:"Ride Date (daily)",type:"date",default:"",helper:"Leave blank to see all recent log dates."},{key:"ride",label:"Filter by Attraction",type:"text",placeholder:"Name or ID",helper:"Type part of the ride name or use an ID."},{key:"top",label:"Top Results",type:"number",default:"50",helper:"Limit the number of rows returned (1-500)."}],buildParams:e=>{const t=new URLSearchParams,n=e.group||"month";if(t.set("group",n),n==="day")e.date&&t.set("date",e.date);else if(e.month){const a=My(e.month);a&&(t.set("start",a.start),t.set("end",a.end))}return e.ride&&t.set("ride",e.ride),e.top&&t.set("top",e.top),t}},{key:"maintenance",title:"Maintenance Incidents",description:"Filter maintenance tickets by severity, type, attraction, or keyword.",endpoint:"/maintenance",emptyMessage:"Run the report to review maintenance history.",badge:"Maintenance",columns:["attraction_name","Date_broken_down","Date_fixed","Severity_of_report","type_of_maintenance","Description_of_work","status_label","approved_by_supervisor_name"],fields:[{key:"start",label:"Start Date",type:"date",default:""},{key:"end",label:"End Date",type:"date",default:""},{key:"severity",label:"Severity",type:"select",optionsKey:"maintenanceSeverities",allowAll:!0,placeholder:"All severities"},{key:"type",label:"Maintenance Type",type:"select",optionsKey:"maintenanceTypes",allowAll:!0,placeholder:"All types"},{key:"status",label:"Status",type:"select",options:[{value:"",label:"All statuses"},{value:"reported",label:"Reported"},{value:"awaiting_approval",label:"Awaiting Approval"},{value:"approved",label:"Approved"}],allowAll:!1},{key:"approvedBy",label:"Approved By (name or ID)",type:"text",placeholder:"e.g. 10000014 or Helena"},{key:"attraction",label:"Attraction (ID or name)",type:"text",placeholder:"All attractions"},{key:"search",label:"Keyword search",type:"text",placeholder:"notes contain..."}],buildParams:e=>{const t=new URLSearchParams;return e.start&&t.set("start",e.start),e.end&&t.set("end",e.end),e.severity&&t.set("severity",e.severity),e.type&&t.set("type",e.type),e.status&&t.set("status",e.status),e.approvedBy&&t.set("approvedBy",e.approvedBy),e.attraction&&t.set("attraction",e.attraction),e.search&&t.set("q",e.search),t}},{key:"revenue",title:"Revenue Overview",description:"Combine ticket, dining, and gift sales into one report.",endpoint:"/reports/revenue",emptyMessage:"Run the report to see revenue totals.",badge:"Finance",columns:["period_label","category","item_name","quantity","total_amount"],fields:[{key:"start",label:"Start Date",type:"date",default:""},{key:"end",label:"End Date",type:"date",default:""},{key:"category",label:"Category",type:"select",options:[{value:"",label:"All categories"},{value:"ticket",label:"Tickets"},{value:"food",label:"Food"},{value:"gift",label:"Gifts"}],allowAll:!1},{key:"search",label:"Search item name",type:"text",placeholder:"e.g. VIP or Funnel Cake"}],buildParams:e=>{const t=new URLSearchParams;return e.start&&t.set("start",e.start),e.end&&t.set("end",e.end),e.category&&t.set("category",e.category),e.search&&t.set("search",e.search),t}}];function Ty(){const{user:e,loading:t,refresh:n}=Me(),[a,l]=c.useState(cn[0].key),[s,i]=c.useState(()=>Ly()),[u,o]=c.useState({}),[m,f]=c.useState({}),[p,h]=c.useState({}),[v,S]=c.useState(""),[_,E]=c.useState({}),[g,d]=c.useState({}),[y,w]=c.useState([]),[T,D]=c.useState({types:[],severities:[]});if(c.useEffect(()=>{!e&&!t&&n()},[e,t,n]),c.useEffect(()=>{J("/cancellation-reasons").then(b=>{const W=(Array.isArray(b.data)?b.data:[]).map(re=>({value:re.code,label:re.label||re.reason||re.code}));w(W)}).catch(()=>{})},[]),c.useEffect(()=>{J("/maintenance/meta").then(b=>{var H,W;D({types:Array.isArray((H=b.data)==null?void 0:H.types)?b.data.types:[],severities:Array.isArray((W=b.data)==null?void 0:W.severities)?b.data.severities:[]})}).catch(()=>{})},[]),c.useEffect(()=>{ie(a,{silent:!0})},[a]),t)return r.createElement(Gl,null,r.createElement(Xl,null,"Loading..."));if(!e)return r.createElement(Gl,null,r.createElement(Xl,null,"Please login."));if(!["employee","manager","admin","owner"].includes(e.role))return r.createElement(Gl,null,r.createElement(Xl,null,"Employees, managers, admins, or owners only."));const C=cn.find(b=>b.key===a)??cn[0],x=u[a]||[],$=Object.prototype.hasOwnProperty.call(u,a),A=m[a]||"",P=p[a]||"",R=v===a,z=a==="maintenance",L=_[a],U=a==="revenue"?L==null?void 0:L.summary:null,Q=c.useMemo(()=>a!=="revenue"||!(U!=null&&U.by_category)?[]:Object.entries(U.by_category).map(([b,H])=>({key:b,amount:Number(H??0)})).filter(b=>Number.isFinite(b.amount)),[a,U]),ae=g[a]||{search:"",sortKey:"",sortDir:"asc"},F=c.useMemo(()=>({reasons:y,maintenanceTypes:T.types.map(b=>({value:b,label:Lr(b)})),maintenanceSeverities:T.severities.map(b=>({value:b,label:Lr(b)}))}),[y,T]);function q(b,H){d(W=>{const re=W[b]||{};return{...W,[b]:{search:"",sortKey:"",sortDir:"asc",...re,...H}}})}function K(b,H){d(W=>{const re=W[b]||{};let ue="asc";return re.sortKey===H&&(ue=re.sortDir==="asc"?"desc":"asc"),{...W,[b]:{...re,sortKey:H,sortDir:ue}}})}const N=s.riders||{},I=String(N.group||"month").toLowerCase()==="day"?"day":"month",X=c.useMemo(()=>a!=="riders"?C.columns:I==="day"?["Name","log_date","riders_count"]:["Name","period_label","riders_count","avg_riders","entry_count"],[a,C.columns,I]),G=c.useMemo(()=>{if(!Array.isArray(x))return[];const b=(ae.search||"").trim().toLowerCase(),H=b?x.filter(ue=>X.some(fe=>{const be=mn(ue)[fe]??mn(ue)[fe==null?void 0:fe.toLowerCase()];return be!=null&&String(be).toLowerCase().includes(b)})):x,W=ae.sortKey;if(!W)return H;const re=ae.sortDir==="desc"?-1:1;return[...H].sort((ue,fe)=>{const be=mn(ue)[W]??mn(ue)[W==null?void 0:W.toLowerCase()],We=mn(fe)[W]??mn(fe)[W==null?void 0:W.toLowerCase()];return zy(be,We)*re})},[x,ae,X]),se=c.useRef(s);c.useEffect(()=>{se.current=s},[s]);function ne(b,H,W){i(re=>({...re,[b]:{...re[b],[H]:W}}))}const ie=c.useCallback(async(b,H={})=>{var We,Ge;const W=cn.find(ke=>ke.key===b);if(!W)return;const re=((We=se.current)==null?void 0:We[b])||{},fe=W.buildParams(re).toString(),be=fe?`${W.endpoint}?${fe}`:W.endpoint;S(b),H.silent||(f(ke=>({...ke,[b]:""})),h(ke=>({...ke,[b]:""})));try{const ke=await J(be),le=Array.isArray(ke.data)?ke.data:ke.rows||[],He=ke.summary||((Ge=ke.meta)==null?void 0:Ge.summary)||null;o(k=>({...k,[b]:le})),E(k=>({...k,[b]:{count:le.length,at:new Date().toISOString(),summary:He}})),le.length?h(k=>({...k,[b]:""})):h(k=>({...k,[b]:"No data matched those filters."}))}catch(ke){f(le=>({...le,[b]:(ke==null?void 0:ke.message)||"Unable to run report."})),o(le=>({...le,[b]:[]}))}finally{S("")}},[]),V=c.useRef(new Set);c.useEffect(()=>{a&&(V.current.has(a)||(V.current.add(a),ie(a,{silent:!0})))},[a,ie]);function j(b){b.preventDefault(),ie(a)}function ee(b){const H=cn.find(W=>W.key===b);H&&(i(W=>({...W,[b]:fd(H)})),setTimeout(()=>ie(b),0))}return r.createElement("div",{className:"reports-grid"},r.createElement("aside",{className:"panel panel--stretch",style:{padding:0,overflow:"hidden"}},r.createElement("div",{style:{display:"flex",flexDirection:"column"}},cn.map(b=>r.createElement("button",{key:b.key,type:"button",className:`report-select-card ${b.key===a?"report-select-card--active":""}`,onClick:()=>l(b.key)},r.createElement("div",{className:"report-select-card__title"},b.title))))),r.createElement("section",{style:{display:"grid",gap:16}},r.createElement("div",{className:"panel panel--stretch",style:{display:"grid",gap:16}},r.createElement("header",null,r.createElement("h3",{style:{marginTop:0}},C.title),r.createElement("p",{className:"muted",style:{marginBottom:0}},C.description)),r.createElement("form",{onSubmit:j,className:"report-form",style:{display:"grid",gap:12}},r.createElement("div",{className:"report-fields"},C.fields.map(b=>{var H;return Dy(a,b.key,s[a])?r.createElement(Py,{key:b.key,field:b,value:(H=s[a])==null?void 0:H[b.key],onChange:W=>ne(a,b.key,W),options:Iy(b,F)}):null})),r.createElement("div",{style:{display:"flex",gap:8,flexWrap:"wrap"}},r.createElement("button",{className:"btn primary",type:"submit",disabled:R},R?"Running...":"Refresh Data"),r.createElement("button",{className:"btn",type:"button",onClick:()=>ee(a),disabled:R},"Reset Filters")),A&&r.createElement("div",{className:"alert error"},A),!A&&P&&$&&r.createElement("div",{className:"alert info"},P))),r.createElement("div",{className:"panel panel--stretch"},r.createElement("h3",{style:{marginTop:0}},"Results"),R&&r.createElement("div",null,"Loading data..."),!R&&A&&r.createElement("div",{className:"alert error"},A),!R&&!A&&!$&&r.createElement("div",{className:"report-empty"},"Choose a report on the left to load data."),!R&&!A&&$&&r.createElement(r.Fragment,null,a==="revenue"&&U&&r.createElement("div",{className:"report-summary-card",style:{border:"1px solid #e5e7eb",borderRadius:12,padding:16,marginBottom:12,display:"flex",flexDirection:"column",gap:12}},r.createElement("div",{style:{display:"flex",flexDirection:"column",gap:4}},r.createElement("span",{className:"muted",style:{fontSize:12}},"Total Revenue"),r.createElement("strong",{style:{fontSize:28}},Du(U.total_revenue??0)),(L==null?void 0:L.at)&&r.createElement("small",{className:"muted"},"Updated ",By(L.at))),!!Q.length&&r.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:12}},Q.map(b=>r.createElement("div",{key:b.key,style:{flex:"1 1 140px",minWidth:140,padding:12,border:"1px solid #f1f5f9",borderRadius:12,background:"#f8fafc"}},r.createElement("span",{className:"muted",style:{fontSize:12}},Lr(b.key)),r.createElement("div",{style:{fontWeight:600}},Du(b.amount)))))),r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12,gap:12,flexWrap:"wrap"}},r.createElement("input",{className:"input",type:"text",style:{minWidth:220,flex:"1 1 220px"},placeholder:"Search rows...",value:ae.search||"",onChange:b=>q(a,{search:b.target.value})}),!!x.length&&r.createElement("span",{className:"muted",style:{fontSize:12}},"Showing ",G.length," of ",x.length," rows")),z?r.createElement(Uy,{rows:G,emptyMessage:C.emptyMessage}):r.createElement(Oy,{rows:G,columns:X,emptyMessage:C.emptyMessage,sortKey:ae.sortKey,sortDir:ae.sortDir,onSort:b=>K(a,b)})))))}function Gl({children:e}){return r.createElement("div",{className:"container",style:{display:"grid",gap:12}},e)}function Xl({children:e}){return r.createElement("div",{className:"panel"},e)}function Dy(e,t,n={}){if(e!=="riders")return!0;const a=String((n==null?void 0:n.group)||"month").toLowerCase()==="day"?"day":"month";return t==="date"?a==="day":t==="month"?a==="month":!0}function Py({field:e,value:t,onChange:n,options:a=[]}){const{type:l,label:s,placeholder:i,size:u,allowAll:o=!0}=e,m=e.helper;if(l==="multiselect"){const f=Array.isArray(t)?t:[];return r.createElement("div",{className:"field field--stack"},r.createElement("span",null,s),r.createElement("div",{className:"multiselect-grid",style:{maxHeight:u?`${u*36}px`:"160px"}},a.map(p=>{const h=p.value??p.label,v=f.includes(h);return r.createElement("label",{key:h,className:`multiselect-chip ${v?"multiselect-chip--active":""}`},r.createElement("input",{type:"checkbox",checked:v,onChange:()=>{n(v?f.filter(S=>S!==h):[...f,h])}}),r.createElement("span",null,p.label))})),m&&r.createElement("small",{className:"field-helper"},m))}return l==="select"?r.createElement("label",{className:"field",style:{display:"flex",flexDirection:"column",gap:4}},r.createElement("span",null,s),r.createElement("select",{className:"select",value:t??"",onChange:f=>n(f.target.value)},o&&r.createElement("option",{value:""},i||"All options"),a.map(f=>r.createElement("option",{key:f.value||f.label,value:f.value},f.label))),m&&r.createElement("small",{className:"field-helper"},m)):r.createElement("label",{className:"field",style:{display:"flex",flexDirection:"column",gap:4}},r.createElement("span",null,s),r.createElement("input",{className:"input",type:l==="date"?"date":l==="number"?"number":l==="month"?"month":"text",placeholder:i,value:t??"",onChange:f=>n(f.target.value),min:l==="number"?1:void 0}),m&&r.createElement("small",{className:"field-helper"},m))}function Iy(e,t){return e.options?e.options:e.optionsKey&&t[e.optionsKey]?t[e.optionsKey]:[]}function Ly(){const e={};return cn.forEach(t=>{e[t.key]=fd(t)}),e}function fd(e){const t={};return e.fields.forEach(n=>{const a=typeof n.default=="function"?n.default():n.default;n.type==="multiselect"?t[n.key]=Array.isArray(a)?a:a?[a]:[]:t[n.key]=a??""}),t}function Ry(){return pd(new Date)}function Ay(e){const t=new Date;return t.setDate(t.getDate()-e),pd(t)}function pd(e){const t=e.getTimezoneOffset()*6e4;return new Date(e.getTime()-t).toISOString().slice(0,10)}function My(e){if(!e||!/^\d{4}-\d{2}$/.test(e))return null;const[t,n]=e.split("-"),a=Number(t),l=Number(n);if(!Number.isInteger(a)||!Number.isInteger(l)||l<1||l>12)return null;const s=`${t}-${n}-01`,i=new Date(a,l,0).getDate(),u=`${t}-${n}-${String(i).padStart(2,"0")}`;return{start:s,end:u}}function Oy({rows:e,columns:t,emptyMessage:n,sortKey:a,sortDir:l,onSort:s}){const i=Array.isArray(e)?e:[];return i.length?r.createElement("div",{className:"workspace-table"},r.createElement("table",null,r.createElement("thead",null,r.createElement("tr",null,t.map(u=>{const m=a===u?l==="desc"?"":"":"";return r.createElement("th",{key:u},r.createElement("button",{type:"button",className:"table-sort-btn",onClick:()=>s(u)},Lr(u)," ",m))}))),r.createElement("tbody",null,i.map((u,o)=>{const m=mn(u);return r.createElement("tr",{key:o},t.map(f=>{const p=m[f]??m[Fy(f)];return r.createElement("td",{key:f},$y(p,f))}))})))):r.createElement("div",{className:"report-empty"},n)}function Uy({rows:e,emptyMessage:t}){const n=Array.isArray(e)?e:[];return n.length?r.createElement("div",{className:"workspace-table"},r.createElement("table",null,r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Attraction"),r.createElement("th",null,"Type"),r.createElement("th",null,"Severity"),r.createElement("th",null,"Reported"),r.createElement("th",null,"Resolved"),r.createElement("th",null,"Status"),r.createElement("th",null,"Approved By"),r.createElement("th",null,"Description"))),r.createElement("tbody",null,n.map(a=>r.createElement("tr",{key:a.RecordID??`${a.attraction_name}-${a.Date_broken_down}`},r.createElement("td",null,a.attraction_name||a.AttractionID||"--"),r.createElement("td",null,a.type_of_maintenance||"--"),r.createElement("td",null,a.Severity_of_report||"--"),r.createElement("td",null,Iu(a.Date_broken_down)),r.createElement("td",null,Iu(a.Date_fixed)),r.createElement("td",null,a.status_label||a.Status||"Unknown"),r.createElement("td",null,a.approved_by_supervisor_name||a.Approved_by_supervisor||"Pending"),r.createElement("td",null,a.Description_of_work||"--")))))):r.createElement("div",{className:"report-empty"},t)}function mn(e){return!e||typeof e!="object"?{}:e}function Fy(e){return typeof e=="string"?e.toLowerCase():e}function Lr(e){return e?e.replace(/_/g," ").replace(/\b\w/g,n=>n.toUpperCase()):""}function Du(e){const t=Number(e??0);return Number.isFinite(t)?t.toLocaleString(void 0,{style:"currency",currency:"USD"}):"$0.00"}function $y(e,t){if(e==null)return"";if(typeof e=="number"){if(!Number.isFinite(e))return"";const n=Math.abs(e);return t&&/amount|price|revenue/i.test(t)?`$${e.toFixed(2)}`:Number.isInteger(e)?n>=1e3?e.toLocaleString():e:e.toFixed(2).replace(/\.00$/,"")}if(typeof e=="string"){const n=e.trim();if(/^\d{4}-\d{2}-\d{2}T/.test(n)){const a=new Date(n);if(!Number.isNaN(a.getTime()))return a.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}if(/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}$/.test(n)){const a=new Date(n.replace(" ","T"));if(!Number.isNaN(a.getTime()))return a.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}if(/^\d{4}-\d{2}-\d{2}$/.test(n)){const a=new Date(`${n}T00:00:00`);if(!Number.isNaN(a.getTime()))return a.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}return/^\d{2}:\d{2}:\d{2}$/.test(n)?n.slice(0,5):n}return e instanceof Date&&!Number.isNaN(e.getTime())?e.toLocaleString():String(e)}function zy(e,t){const n=Pu(e),a=Pu(t);return n<a?-1:n>a?1:0}function Pu(e){if(e==null)return"";if(typeof e=="number")return e;if(e instanceof Date)return e.getTime();const t=String(e).trim();if(!t)return"";const n=Number(t);if(!Number.isNaN(n))return n;if(/^\d{4}-\d{2}-\d{2}T/.test(t)||/^\d{4}-\d{2}-\d{2}$/.test(t)){const a=new Date(/T/.test(t)?t:`${t}T00:00:00`);if(!Number.isNaN(a.getTime()))return a.getTime()}if(/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}$/.test(t)){const a=new Date(t.replace(" ","T"));if(!Number.isNaN(a.getTime()))return a.getTime()}return/^\d{2}:\d{2}:\d{2}$/.test(t)?t.slice(0,5):t.toLowerCase()}function By(e){const t=new Date(e);if(Number.isNaN(t.getTime()))return"";const n=Date.now()-t.getTime();if(n<6e4)return"just now";if(n<36e5){const a=Math.round(n/6e4);return`${a} min${a===1?"":"s"} ago`}if(n<864e5){const a=Math.round(n/36e5);return`${a} hr${a===1?"":"s"} ago`}return t.toLocaleDateString(void 0,{month:"short",day:"numeric"})}function Iu(e){if(!e)return"--";const t=new Date(`${e}T00:00:00`);return Number.isNaN(t.getTime())?e:t.toLocaleDateString()}function jy(){return r.createElement(Ha,{roles:["admin","owner"],fallback:r.createElement("div",{className:"container"},r.createElement("div",{className:"panel"},"Reports are restricted to admins or owners."))},r.createElement(Vy,null))}function Vy(){return r.createElement("div",{className:"workspace-stack"},r.createElement("section",{id:"operations",className:"workspace-section"},r.createElement(Wy,{title:"Reports",description:"Select the report you need and adjust filters to focus the dataset."}),r.createElement(Ty,null)))}function Wy({title:e,description:t}){return r.createElement("header",{className:"workspace-section__header"},r.createElement("h2",null,e),r.createElement("p",null,t))}function Zl(){return new Date().toISOString().slice(0,10)}function Lu(e){if(!e)return"--";const t=String(e),n=t.includes("T")?t.split("T")[0]:t;if(/^\d{4}-\d{2}-\d{2}$/.test(n)){const l=new Date(`${n}T00:00:00`);if(!Number.isNaN(l.getTime()))return l.toLocaleDateString()}const a=new Date(t);return Number.isNaN(a.getTime())?t:a.toLocaleDateString()}function Hy(){return r.createElement(Ha,{roles:["manager","admin","owner"],fallback:r.createElement("div",{className:"container"},r.createElement("div",{className:"panel"},"Managers/Admins/Owners only."))},r.createElement(Qy,null))}function Qy(){const[e,t]=c.useState([]),[n,a]=c.useState([]),[l,s]=c.useState([]),[i,u]=c.useState(!0),[o,m]=c.useState(""),[f,p]=c.useState({attraction:"",date:""}),[h,v]=c.useState([]),[S,_]=c.useState({employeeId:"",attractionId:"",shiftDate:"",startTime:"10:00",endTime:"17:00"}),[E,g]=c.useState(!1),[d,y]=c.useState(""),[w,T]=c.useState({attractionId:"",cancelDate:Zl(),reason:""}),[D,C]=c.useState(!1),[x,$]=c.useState(""),[A,P]=c.useState(""),[R,z]=c.useState("info"),[L,U]=c.useState({employee:!1,attraction:!1,shiftDate:!1,startTime:!1,endTime:!1});c.useEffect(()=>{let N=!0;async function I(){u(!0),m("");try{const[X,G,se,ne]=await Promise.all([J("/employees").catch(j=>{if((j==null?void 0:j.status)===403)return{data:[]};throw j}),J("/attractions").catch(j=>{if((j==null?void 0:j.status)===403)return{data:[]};throw j}),J("/schedules").catch(j=>{if((j==null?void 0:j.status)===403)return{data:[]};throw j}),J("/ride-cancellations?limit=25").catch(j=>{if((j==null?void 0:j.status)===403)return{data:[]};throw j})]);if(!N)return;const ie=Array.isArray(X==null?void 0:X.data)?X.data:(X==null?void 0:X.employees)||[];t(ie.filter(j=>(j.role_name??j.role??"").toLowerCase()==="employee")),a(Array.isArray(G==null?void 0:G.data)?G.data:(G==null?void 0:G.attractions)||[]);const V=Array.isArray(se==null?void 0:se.data)?se.data:(se==null?void 0:se.schedules)||[];s(V.filter(j=>!(j.is_completed??j.isCompleted??!1))),v(Array.isArray(ne==null?void 0:ne.data)?ne.data:[])}catch(X){if(!N)return;m((X==null?void 0:X.message)||"Failed to load scheduling data.")}finally{N&&u(!1)}}return I(),()=>{N=!1}},[]);const Q=c.useMemo(()=>n.map(N=>({id:(N==null?void 0:N.AttractionID)??(N==null?void 0:N.id)??(N==null?void 0:N.attraction_id),name:(N==null?void 0:N.Name)??(N==null?void 0:N.name)??"Attraction"})).filter(N=>N.id),[n]),ae=c.useMemo(()=>e.map(N=>{const X=`${(N==null?void 0:N.first_name)??""} ${(N==null?void 0:N.last_name)??""}`.trim()||(N==null?void 0:N.email)||"Employee";return{id:(N==null?void 0:N.employeeID)??(N==null?void 0:N.id)??(N==null?void 0:N.EmployeeID),name:(N==null?void 0:N.name)??X}}).filter(N=>N.id),[e]),F=c.useMemo(()=>l.filter(N=>{const I=f.attraction?String(N.attractionId??N.AttractionID??"")===f.attraction:!0,X=f.date?(N.shiftDate??N.date??"").startsWith(f.date):!0;return I&&X}),[l,f]);async function q(N){if(N.preventDefault(),E)return;const I={employee:!S.employeeId,attraction:!S.attractionId,shiftDate:!S.shiftDate,startTime:!S.startTime,endTime:!S.endTime};if(I.employee||I.attraction||I.shiftDate||I.startTime||I.endTime){U(I),z("error");const le=[],He={employee:"Employee",attraction:"Attraction",shiftDate:"Shift Date",startTime:"Start Time",endTime:"End Time"};Object.keys(I).forEach(k=>{I[k]&&le.push(He[k])}),y(`Please provide: ${le.join(", ")}`);return}new Date(S.shiftDate);const X=new Date,G=new Date(X);G.setHours(0,0,0,0);const[se,ne,ie]=String(S.shiftDate||"").split("-"),V=Number(se||0),j=Number(ne||1)-1,ee=Number(ie||1),b=new Date(V,j,ee);if(b.setHours(0,0,0,0),b<G){z("error"),y("Unable to assign shift on a previous date"),U({employee:!1,attraction:!1,shiftDate:!0,startTime:!1,endTime:!1});return}const H=String(S.startTime||"").split(":"),W=Number(H[0]||0),re=Number(H[1]||0),ue=String(S.endTime||"").split(":"),fe=Number(ue[0]||0),be=Number(ue[1]||0),We=new Date(V,j,ee,W,re,0,0),Ge=new Date(V,j,ee,fe,be,0,0);if(Ge<=We){z("error"),y('"End Time" cannot be before the "Start Time"'),U({employee:!1,attraction:!1,shiftDate:!1,startTime:!1,endTime:!0});return}if(b.getTime()===G.getTime()){const le=new Date;if(We<le){z("error"),y('Unable to assign shift "Start Time" at selected time.'),U({employee:!1,attraction:!1,shiftDate:!1,startTime:!0,endTime:!1});return}if(Ge<le){z("error"),y('Unable to assign shift "End Time" at selected time.'),U({employee:!1,attraction:!1,shiftDate:!1,startTime:!1,endTime:!0});return}}if(l.find(le=>{const He=le.shiftDate??le.date??"";if(le.employeeId!==S.employeeId&&String(le.EmployeeID??"")!==String(S.employeeId)||He!==S.shiftDate)return!1;const k=String(le.startTime??le.StartTime??"").split(":"),M=Number(k[0]||0),sn=Number(k[1]||0),Xa=String(le.endTime??le.EndTime??"").split(":"),Sl=Number(Xa[0]||0),O=Number(Xa[1]||0),Z=new Date(V,j,ee,M,sn,0,0),te=new Date(V,j,ee,Sl,O,0,0);return We<te&&Ge>Z})){z("error"),y("Employee has an overlapping shift at the selected time."),U({employee:!0,attraction:!1,shiftDate:!1,startTime:!1,endTime:!1});return}g(!0),y(""),z("info"),U({employee:!1,attraction:!1,shiftDate:!1,startTime:!1,endTime:!1});try{console.log("Here in manager page"),await J("/schedules",{method:"POST",body:JSON.stringify({employeeId:S.employeeId,attractionId:S.attractionId,shiftDate:S.shiftDate,startTime:S.startTime,endTime:S.endTime})}),z("success"),y("Shift assigned."),_(k=>({...k,shiftDate:""})),U({employee:!1,attraction:!1,shiftDate:!1,startTime:!1,endTime:!1});const le=await J("/schedules").catch(k=>{if((k==null?void 0:k.status)===403)return{data:[]};throw k}),He=Array.isArray(le==null?void 0:le.data)?le.data:(le==null?void 0:le.schedules)||[];s(He.filter(k=>!(k.is_completed??k.isCompleted??!1)))}catch(le){z("error"),y((le==null?void 0:le.message)||"Unable to save schedule.")}finally{g(!1)}}async function K(N){if(N.preventDefault(),!D){if(!w.attractionId||!w.reason.trim()){P("Select an attraction and provide a reason.");return}C(!0),P(""),$("");try{await J("/ride-cancellations",{method:"POST",body:JSON.stringify({attractionId:Number(w.attractionId),cancelDate:w.cancelDate||Zl(),reason:w.reason.trim()})}),$("Ride cancellation recorded."),T({attractionId:"",cancelDate:Zl(),reason:""});const I=await J("/ride-cancellations?limit=25").catch(X=>{if((X==null?void 0:X.status)===403)return{data:[]};throw X});v(Array.isArray(I==null?void 0:I.data)?I.data:[])}catch(I){P((I==null?void 0:I.message)||"Unable to log cancellation.")}finally{C(!1)}}}return r.createElement("div",{className:"manager-shell"},r.createElement("section",{className:"manager-hero"},r.createElement("div",{className:"manager-hero__content"},r.createElement("h1",null,"Scheduling Command Center"),r.createElement("p",null,"Assign the right people to the right attractions and keep every era fully staffed."),r.createElement("div",{className:"manager-stats"},r.createElement("div",{className:"manager-stat"},r.createElement("div",{className:"manager-stat__value"},ae.length),r.createElement("div",{className:"manager-stat__label"},"Employees")),r.createElement("div",{className:"manager-stat"},r.createElement("div",{className:"manager-stat__value"},Q.length),r.createElement("div",{className:"manager-stat__label"},"Attractions")),r.createElement("div",{className:"manager-stat"},r.createElement("div",{className:"manager-stat__value"},F.length),r.createElement("div",{className:"manager-stat__label"},"Upcoming shifts"))))),r.createElement("section",{className:"manager-grid"},r.createElement("div",{className:"manager-panel",style:{alignSelf:"start"}},r.createElement("h3",null,"Assign a Shift"),r.createElement("p",{className:"manager-panel__intro"},"Choose an employee, pick their attraction, and capture shift details in one streamlined form."),r.createElement("form",{onSubmit:q,className:"manager-form"},r.createElement("div",{className:"field"},r.createElement("span",null,"Employee",L.employee&&r.createElement("span",{className:"missing-asterisk"},"*")),r.createElement("select",{className:"border rounded-xl p-2",value:S.employeeId,onChange:N=>{_(I=>({...I,employeeId:N.target.value})),U(I=>({...I,employee:!1}))}},r.createElement("option",{value:""},"Select employee..."),ae.map(N=>r.createElement("option",{key:N.id,value:N.id},N.name)))),r.createElement("div",{className:"field"},r.createElement("span",null,"Attraction",L.attraction&&r.createElement("span",{className:"missing-asterisk"},"*")),r.createElement("select",{className:"border rounded-xl p-2",value:S.attractionId,onChange:N=>{_(I=>({...I,attractionId:N.target.value})),U(I=>({...I,attraction:!1}))}},r.createElement("option",{value:""},"Select attraction..."),Q.map(N=>r.createElement("option",{key:N.id,value:N.id},N.name)))),r.createElement("div",{className:"manager-form__row"},r.createElement("label",{className:"field",style:{flex:1,minWidth:140}},r.createElement("span",null,"Shift Date",L.shiftDate&&r.createElement("span",{className:"missing-asterisk"},"*")),r.createElement("input",{className:"input",type:"date",value:S.shiftDate,onChange:N=>{_(I=>({...I,shiftDate:N.target.value})),U(I=>({...I,shiftDate:!1}))}})),r.createElement("label",{className:"field",style:{flex:1,minWidth:140}},r.createElement("span",null,"Start Time",L.startTime&&r.createElement("span",{className:"missing-asterisk"},"*")),r.createElement("input",{className:"input",type:"time",value:S.startTime,onChange:N=>{_(I=>({...I,startTime:N.target.value})),U(I=>({...I,startTime:!1}))}})),r.createElement("label",{className:"field",style:{flex:1,minWidth:140}},r.createElement("span",null,"End Time",L.endTime&&r.createElement("span",{className:"missing-asterisk"},"*")),r.createElement("input",{className:"input",type:"time",value:S.endTime,onChange:N=>{_(I=>({...I,endTime:N.target.value})),U(I=>({...I,endTime:!1}))}}))),r.createElement("div",{className:"manager-form__actions"},r.createElement("button",{className:"btn primary",type:"submit",disabled:E},E?"Saving...":"Assign Shift"),d&&(R==="error"?r.createElement("div",{className:"alert error",style:{marginLeft:6}},d):R==="success"?r.createElement("div",{className:"alert success",style:{marginLeft:6}},d):r.createElement("div",{className:"text-sm text-gray-700",style:{marginLeft:6}},d))))),r.createElement("div",{className:"manager-panel manager-panel--wide"},r.createElement("div",{className:"manager-panel__header"},r.createElement("div",null,r.createElement("h3",null,"Upcoming Shifts"),r.createElement("p",null,"Review who is covering each attraction and refine staffing by attraction or date.")),r.createElement("div",{className:"manager-filters"},r.createElement("select",{className:"border rounded-xl p-2",value:f.attraction,onChange:N=>p(I=>({...I,attraction:N.target.value}))},r.createElement("option",{value:""},"All attractions"),Q.map(N=>r.createElement("option",{key:N.id,value:String(N.id)},N.name))),r.createElement("input",{className:"input",type:"date",value:f.date,onChange:N=>p(I=>({...I,date:N.target.value}))}))),i&&r.createElement("div",{className:"text-sm text-gray-700"},"Loading schedules..."),!i&&o&&r.createElement("div",{className:"alert error"},o),!i&&!o&&F.length===0&&r.createElement("div",{className:"text-sm text-gray-700"},"No scheduled shifts yet."),!i&&!o&&F.length>0&&r.createElement("div",{className:"manager-shift-grid"},F.map((N,I)=>{const X=ae.find(ie=>String(ie.id)===String(N.employeeId??N.EmployeeID)),G=Q.find(ie=>String(ie.id)===String(N.attractionId??N.AttractionID)),se=N.startTime??N.StartTime??Au(N.start_time),ne=N.endTime??N.EndTime??Au(N.end_time);return r.createElement("div",{key:N.scheduleId??N.ScheduleID??I,className:"manager-shift-card"},r.createElement("div",{className:"manager-shift-card__header"},r.createElement("h4",null,(G==null?void 0:G.name)||"Attraction TBD"),r.createElement("span",null,Lu(N.shiftDate??N.date))),r.createElement("div",{className:"manager-shift-card__body"},r.createElement("div",null,r.createElement("label",null,"Team Member"),r.createElement("strong",null,(X==null?void 0:X.name)||"Unassigned")),r.createElement("div",null,r.createElement("label",null,"Shift"),r.createElement("strong",null,Ru(se),"  ",Ru(ne)))))}))),r.createElement("div",{className:"manager-panel manager-panel--wide",id:"ride-cancellations"},r.createElement("div",{className:"manager-panel__header"},r.createElement("div",null,r.createElement("h3",null,"Ride Cancellations"),r.createElement("p",null,"Log weather or operational closures to keep teams informed."))),r.createElement("form",{className:"manager-form",onSubmit:K,style:{marginBottom:16}},r.createElement("div",{className:"field"},r.createElement("span",null,"Attraction"),r.createElement("select",{className:"border rounded-xl p-2",value:w.attractionId,onChange:N=>T(I=>({...I,attractionId:N.target.value}))},r.createElement("option",{value:""},"Select attraction..."),Q.map(N=>r.createElement("option",{key:N.id,value:N.id},N.name)))),r.createElement("div",{className:"manager-form__row"},r.createElement("label",{className:"field",style:{flex:1,minWidth:160}},r.createElement("span",null,"Date"),r.createElement("input",{className:"input",type:"date",value:w.cancelDate,onChange:N=>T(I=>({...I,cancelDate:N.target.value}))})),r.createElement("label",{className:"field",style:{flex:2}},r.createElement("span",null,"Reason"),r.createElement("input",{className:"input",type:"text",placeholder:"e.g. Thunderstorm, lightning advisory...",value:w.reason,onChange:N=>T(I=>({...I,reason:N.target.value}))}))),r.createElement("div",{className:"manager-form__actions"},r.createElement("button",{className:"btn primary",type:"submit",disabled:D},D?"Saving...":"Log Cancellation"),x&&r.createElement("div",{className:"text-sm text-green-700"},x),A&&r.createElement("div",{className:"text-sm text-red-700"},A))),r.createElement("div",{className:"manager-cancel-list"},!h.length&&r.createElement("div",{className:"text-sm text-gray-700"},"No cancellations logged yet."),!!h.length&&r.createElement("table",{className:"manager-table"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Attraction"),r.createElement("th",null,"Date"),r.createElement("th",null,"Reason"))),r.createElement("tbody",null,h.map(N=>r.createElement("tr",{key:N.cancel_id},r.createElement("td",null,N.attraction_name||`#${N.attraction_id}`),r.createElement("td",null,Lu(N.cancel_date)),r.createElement("td",null,N.reason||"--")))))))))}function Ru(e){if(!e)return"";if(typeof e=="string"&&e.includes(":")){const[t,n]=e.split(":"),a=new Date;return a.setHours(Number(t),Number(n||0)),a.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}return String(e)}function Au(e){return e&&typeof e=="string"?e:""}const Mu=["day","annual","birthday","other"];function Ou(e=""){const t=e.toLowerCase();return t.includes("annual")||t.includes("season")||t.includes("year")?"annual":t.includes("birthday")?"birthday":"day"}function qy(e){switch(e){case"day":return"Day Tickets";case"annual":return"Annual Passes";case"birthday":return"Birthday Packages";case"other":return"Special Offers";default:return e}}function da(e={}){const t=e.name||e.ticket_type||e.ticketType||e.id||e.ticketId||e.slug;return String(t??JSON.stringify(e))}function Uu(e){return`$${Number(e||0).toFixed(2)}`}function Jy(e){if(!e)return null;if(/^\d{4}-\d{2}-\d{2}$/.test(e)){const[n,a,l]=e.split("-").map(Number);return new Date(n,a-1,l)}const t=new Date(e);return Number.isNaN(t.getTime())?null:t}function Fu(e){const t=Jy(e);return t?t.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric",year:"numeric"}):""}const Ky=Array.from({length:10},(e,t)=>t+1);function gr({filter:e="all"}){const{user:t}=Me(),{add:n,items:a}=Ga(),l=bt(),s=wt(),[i,u]=c.useState([]),[o,m]=c.useState([]),[f,p]=c.useState(!0),[h,v]=c.useState(""),[S,_]=c.useState(""),[E,g]=c.useState(""),[d,y]=c.useState("info"),w=c.useRef(null),[T,D]=c.useState({}),[C,x]=c.useState(""),[$,A]=c.useState(!1),[P,R]=c.useState(""),[z,L]=c.useState(null),U=c.useMemo(()=>new Date().toISOString().slice(0,10),[]);function Q(V,j="info",ee=""){w.current&&window.clearTimeout(w.current),y(j),_(V),g(ee),w.current=window.setTimeout(()=>{_(""),g(""),w.current=null},3500)}c.useEffect(()=>()=>{w.current&&window.clearTimeout(w.current)},[]),c.useEffect(()=>{if(!z)return;const V=window.setTimeout(()=>L(null),3e3);return()=>window.clearTimeout(V)},[z]),c.useEffect(()=>{let V=!0;return p(!0),Promise.all([fetch("http://localhost:5175/ticket-types"),fetch("http://localhost:5175/parking/options").catch(()=>null)]).then(async([j,ee])=>{if(!V)return;if(!(j!=null&&j.ok))throw new Error("Failed to load tickets");const b=await j.json(),H=ee&&ee.ok?await ee.json():{data:[]};u((b==null?void 0:b.data)||[]),m(((H==null?void 0:H.data)||[]).map(W=>{const re=W.lotId??W.parking_lot_id??null,ue=W.lot??W.lot_name??"";return{id:re!=null?String(re):ue,lotId:re,name:ue,price:Number(W.price??W.base_price??0)}})),v("")}).catch(j=>{V&&(v((j==null?void 0:j.message)||"Unable to load ticket options."),u([]),m([]))}).finally(()=>V&&p(!1)),()=>{V=!1}},[]);function ae(){console.log("RESETTING FORM in TicketCatalog.jsx"),x(""),A(!1),R(""),D(V=>{const j={};return i.forEach(ee=>{const b=da(ee);j[b]={selected:!1,qty:1}}),j})}const F=c.useMemo(()=>{const V={day:[],annual:[],birthday:[],other:[]};return i.forEach(j=>{const ee=Ou(j.name);V[ee].push(j)}),V},[i]),q=e==="all"?Mu:Mu.filter(V=>V===e),K=c.useMemo(()=>q.flatMap(V=>F[V]||[]),[F,q]),N=c.useMemo(()=>o.find(V=>V.id===P)||null,[o,P]);c.useEffect(()=>{D(V=>{const j={};return i.forEach(ee=>{const b=da(ee),H=V[b]||{selected:!1,qty:1};j[b]={selected:H.selected,qty:Math.max(1,Number(H.qty)||1)}}),j})},[i]),c.useEffect(()=>{$&&o.length&&!P&&R(o[0].id),o.length||(A(!1),R(""))},[$,o,P]);const I=o.length>0;function X(){if(!t){const V=`${s.pathname}${s.search||""}`;return l(`/login?redirect=${encodeURIComponent(V)}`),Q("Sign in as a customer to add tickets to cart.","warning"),!1}return t.role!=="customer"?(Q("Ticket purchases are limited to customer accounts.","warning"),!1):!0}const G=c.useMemo(()=>K.filter(V=>{var j;return(j=T[da(V)])==null?void 0:j.selected}),[K,T]);function se(V,j){D(ee=>{var b;return{...ee,[V]:{selected:j,qty:Math.max(1,Number((b=ee[V])==null?void 0:b.qty)||1)}}})}function ne(V,j){const ee=Math.max(1,Number(j)||1);D(b=>{var H;return{...b,[V]:{selected:((H=b[V])==null?void 0:H.selected)??!0,qty:ee}}})}function ie(V){V.preventDefault();const j=`${s.pathname}${s.search||""}`;if(!t){l(`/login?redirect=${encodeURIComponent(j)}`);return}if(!X())return;const ee=a.map(W=>{var re;return(re=W==null?void 0:W.meta)==null?void 0:re.visitDate}).find(W=>typeof W=="string"&&W.trim());if(ee&&ee!==C){L({type:"date",message:`Your cart already includes tickets for ${Fu(ee)}. Remove them or select the same date.`});return}if(!C){L({type:"date",message:"Choose your visit date before adding to cart."});return}if(!G.length){L({type:"ticket",message:"Select at least one ticket to continue."});return}let b=[];if(G.forEach(W=>{const re=da(W),ue=T[re],fe=Number((ue==null?void 0:ue.qty)||1),be={category:Ou(W.name),visitDate:C};n({id:`${re}-${C}`,name:W.name,price:Number(W.price??0),kind:"ticket",qty:fe,meta:be}),b.push(`${fe}x ${W.name}`)}),$){if(!I){Q("Parking add-ons are not available right now.","warning");return}if(!N){Q("Select a parking lot to continue.","warning");return}n({id:`parking-${N.id}-${C}`,name:`Parking - ${N.name}`,price:N.price??0,kind:"parking",qty:1,meta:{lot:N.name,visitDate:C}}),b.push(`Parking: ${N.name}`)}const H=b.join(" - ");Q("Items added to your cart.","success",H),ae()}return r.createElement("div",{className:"page tickets-page"},r.createElement("div",{className:"tickets-banner"},r.createElement("nav",{className:"tickets-breadcrumbs","aria-label":"Breadcrumb"},r.createElement(Wn,{to:"/"},"Home"),r.createElement("span",{"aria-hidden":"true"},""),r.createElement("span",null,"Tickets")),r.createElement("h1",{className:"tickets-banner__title"},"Park Tickets")),r.createElement("div",{className:"page-box page-box--tickets"},r.createElement("header",{className:"ticket-catalog__intro"},r.createElement("h2",null,"Plan Your Visit"),r.createElement("p",null,"Select your date, passes, and optional parking below.")),t&&t.role!=="customer"&&r.createElement("div",{className:"alert warning"},"Ticket purchases are available to customer accounts only."),S&&r.createElement("div",{className:`status-banner status-banner--${d}`,role:"status","aria-live":"polite"},r.createElement("div",{className:"status-banner__title"},S),E&&r.createElement("div",{className:"status-banner__detail"},E)),r.createElement("div",{className:"ticket-date-focus"},r.createElement("label",{className:"ticket-date-control"},r.createElement("span",{className:"ticket-date-control__label"},"Visit date"),r.createElement("input",{className:"ticket-date-control__input",type:"date",min:U,value:C,onChange:V=>x(V.target.value),required:!0}))),f&&r.createElement("p",{className:"text-sm"},"Loading ticket options..."),h&&r.createElement("p",{className:"alert error"},h),!f&&!h&&q.every(V=>F[V].length===0)&&r.createElement("p",{className:"text-sm"},"No tickets found for this category."),r.createElement("div",{className:"ticket-stack"},!f&&!h&&q.map(V=>F[V].length>0&&r.createElement("section",{key:V,className:"ticket-section"},r.createElement("div",{className:"ticket-table","aria-label":`${qy(V)} tickets`},r.createElement("div",{className:"ticket-table__head ticket-table__head--multiselect"},r.createElement("span",null,"Choose"),r.createElement("span",null,"Details"),r.createElement("span",null,"Qty"),r.createElement("span",null,"Price")),F[V].map(j=>{const ee=da(j),b=T[ee]||{selected:!1,qty:1};return r.createElement("label",{key:ee,className:`ticket-row ticket-row--multiselect ${b.selected?"ticket-row--active":""}`},r.createElement("span",{className:"ticket-row__control"},r.createElement("input",{type:"checkbox",checked:b.selected,onChange:H=>se(ee,H.target.checked)})),r.createElement("div",{className:"ticket-row__info"},r.createElement("div",{className:"ticket-row__name"},j.name)),r.createElement("div",{className:"ticket-row__qty"},r.createElement("select",{className:"input",value:b.qty,onChange:H=>ne(ee,H.target.value),disabled:!b.selected},Ky.map(H=>r.createElement("option",{key:H,value:H},H)))),r.createElement("div",{className:"ticket-row__price"},Uu(j.price)))}))))),r.createElement("form",{className:"ticket-planner",onSubmit:ie},r.createElement("div",{className:"ticket-planner__card"},r.createElement("div",null,r.createElement("h3",null,"Your Selection"),r.createElement("div",{style:{fontSize:"0.9rem",color:"#0f172a"}},G.length?`${G.length} ticket type${G.length===1?"":"s"} selected`:"Select one or more ticket types from the list."),r.createElement("div",{style:{fontSize:"0.9rem",color:"#0f172a"}},C?`Visit date locked to ${Fu(C)}`:"Pick your visit date above to enable checkout.")),r.createElement("label",{className:"ticket-checkbox"},r.createElement("input",{type:"checkbox",checked:$,disabled:!I,onChange:V=>A(V.target.checked)}),r.createElement("span",null,"Reserve parking (optional)")),$&&I&&r.createElement("label",{className:"ticket-field"},"Parking lot",r.createElement("select",{className:"input",value:P,onChange:V=>R(V.target.value),required:!0},o.map(V=>r.createElement("option",{key:V.id,value:V.id},V.name,"  ",Uu(V.price))))),r.createElement("button",{type:"submit",className:"btn primary"},"Add to cart"))),z&&r.createElement("div",{className:"ticket-alert",role:"alert"},r.createElement("div",{className:"ticket-alert__card"},r.createElement("strong",null,z.type==="date"?"Pick a date":"Choose a ticket"),r.createElement("p",null,z.message),r.createElement("button",{className:"btn primary",onClick:()=>L(null)},"Got it")))),r.createElement("section",{className:"tickets-support-card","aria-labelledby":"ticket-catalog-support-title"},r.createElement("div",{className:"tickets-support-card__content"},r.createElement("p",{className:"tickets-support-card__eyebrow"},"Need assistance?"),r.createElement("h2",{id:"ticket-catalog-support-title"},"Guest Services Can Help"),r.createElement("p",null,"Planning for large groups or special celebrations? Connect with our Guest Services team for personalized help selecting tickets, parking, and add-ons."),r.createElement("div",{className:"tickets-support-card__actions"},r.createElement("a",{className:"support-chip",href:"tel:1-800-555-1299"},"Call 1-800-555-1299"),r.createElement("a",{className:"support-chip",href:"mailto:guestservices@timejumppark.com"},"guestservices@timejumppark.com")))))}function Yy({library:e,loading:t,error:n}){const a=bt(),l=(e==null?void 0:e.themes)||[],s=c.useMemo(()=>{const o=new Set,m=[];return l.forEach(f=>{(f.rides||[]).forEach(p=>{const h=p.slug||p.Name||p.name;!h||o.has(h)||(o.add(h),m.push({...p,themeName:f.name,capacity:p.capacity_per_experience??p.capacity??p.riders_per_vehicle??null}))})}),m},[l]),i=c.useMemo(()=>s.filter(o=>(o.type||o.TypeName||"").toLowerCase().includes("show")),[s]);c.useMemo(()=>{const o=new Map;return i.forEach(m=>{const f=(m.type||m.TypeName||"Shows").trim();o.has(f)||o.set(f,[]),o.get(f).push(m)}),Array.from(o.entries()).sort(([m],[f])=>m.localeCompare(f))},[i]);const u=c.useMemo(()=>i.slice(0,12),[i]);return r.createElement("div",{className:"page rides-page"},r.createElement("div",{className:"rides-shell"},r.createElement("section",{className:"rides-hero"},r.createElement("div",{className:"rides-hero__content"},r.createElement("p",{className:"rides-eyebrow"},"Rides & Attractions"),r.createElement("h1",null,"Jump through eras, one thrill at a time."),r.createElement("p",{className:"rides-hero__copy"},"Browse every land, queue up the cant-miss coasters, and plan a full day of shows, dark rides, and immersive walkthroughs before you arrive."),r.createElement("div",{className:"rides-hero__cta"},r.createElement("button",{className:"btn primary",onClick:()=>a("/ticket-passes")},"Buy Tickets"),r.createElement("button",{className:"btn",onClick:()=>a("/things-to-do/dining")},"Visit Marketplace")))),t&&r.createElement("p",{className:"text-sm text-gray-600"},"Loading attractions"),n&&r.createElement("p",{className:"alert error"},n),!t&&!n&&l.length>0&&r.createElement(r.Fragment,null,r.createElement("section",{className:"rides-themes"},r.createElement("div",{className:"section-header rides-section-header"},r.createElement("div",null,r.createElement("h2",null,"Choose a realm"),r.createElement("p",null,"Hop between eras. Tap a land to see the full lineup of rides, dining, and live entertainment."))),r.createElement("div",{className:"rides-themes__grid"},l.map(o=>r.createElement("article",{key:o.slug,className:"theme-card"},o.image_url&&r.createElement("div",{className:"theme-card__image",style:{backgroundImage:`url(${o.image_url})`}}),r.createElement("div",{className:"theme-card__header"},r.createElement("h3",null,o.name),r.createElement("span",null,(o.rides||[]).length," attractions")),o.description&&r.createElement("p",{className:"theme-card__body"},o.description),r.createElement("div",{className:"theme-card__actions"},r.createElement("button",{className:"btn",onClick:()=>a(`/theme/${o.slug}`)},"Explore")))))),r.createElement("section",{className:"rides-highlight"},r.createElement("div",{className:"section-header rides-section-header"},r.createElement("div",null,r.createElement("h2",null,"Featured entertainment"))),u.length?r.createElement("div",{className:"rides-highlight__grid"},u.map(o=>{const m=o.experience_level??o.experienceLevel??o.thrill_level??o.type_description??null,f=o.target_audience??o.targetAudience??o.audience??null,p=o.description||o.type_description||"",h=p&&p.trim().toLowerCase()==="seated or street performance with scheduled times."?"":p;return r.createElement("article",{key:o.slug||o.name,className:"ride-feature-card ride-feature-card--show"},o.image_url&&r.createElement("div",{className:"ride-feature-card__image",style:{backgroundImage:`url(${o.image_url})`}}),r.createElement("div",{className:"ride-feature-card__meta"},r.createElement("span",null,o.themeName)),r.createElement("h3",null,o.name),h&&r.createElement("p",null,h),r.createElement("div",{className:"ride-feature-card__stats"},o.capacity&&r.createElement("div",null,r.createElement("strong",null,o.capacity.toLocaleString()),r.createElement("span",{className:"ride-feature-card__stat-label"},"Capacity")),m&&r.createElement("div",null,r.createElement("strong",null,m),r.createElement("span",{className:"ride-feature-card__stat-label"},"Experience")),f&&r.createElement("div",null,r.createElement("strong",null,f),r.createElement("span",{className:"ride-feature-card__stat-label"},"Audience"))),r.createElement("div",{className:"ride-feature-card__cta"},r.createElement("span",null,"Included in ",o.themeName)))})):r.createElement("p",{className:"text-sm text-gray-600"},"Add live entertainment in the admin console to populate this section."))),!t&&!n&&l.length===0&&r.createElement("p",{className:"text-sm text-gray-600"},"No attractions are ready yet. Add themes and rides in the admin console to populate this page.")))}function Gy(){const{slug:e}=yh(),[t,n]=c.useState(null),[a,l]=c.useState(!0),[s,i]=c.useState("");return c.useEffect(()=>{if(!e)return;let u=!0;return l(!0),fetch(`http://localhost:5175/ride-library/themes/${e}`).then(o=>o.ok?o.json():Promise.reject(new Error("Theme not found"))).then(o=>{u&&(n((o==null?void 0:o.data)||null),i(""))}).catch(o=>{u&&(i((o==null?void 0:o.message)||"Unable to load theme."),n(null))}).finally(()=>u&&l(!1)),()=>{u=!1}},[e]),r.createElement("div",{className:"page"},r.createElement("div",{className:"page-box page-box--wide"},a&&r.createElement("p",{className:"text-sm text-gray-600"},"Loading attractions..."),s&&r.createElement("p",{className:"alert error"},s),!a&&!s&&t&&r.createElement(r.Fragment,null,r.createElement("div",{className:"theme-detail__hero"},r.createElement("div",{className:"theme-detail__copy"},r.createElement("p",{className:"theme-detail__eyebrow"},"Featured realm"),r.createElement("h1",null,t.name),t.description&&r.createElement("p",{className:"text-sm text-gray-700"},t.description),r.createElement("p",{className:"text-sm text-gray-600",style:{marginTop:8}},(t.rides||[]).length," attractions in this land.")),t.image_url&&r.createElement("div",{className:"theme-detail__image",style:{backgroundImage:`url(${t.image_url})`}})),r.createElement("div",{className:"ride-grid ride-grid--detail"},(t.rides||[]).map(u=>{var S;const o=u.capacity_per_experience??u.capacity??u.riders_per_vehicle??u.RidersPerVehicle??((S=u.details)==null?void 0:S.RidersPerVehicle)??null,m=u.type||u.TypeName||"Attraction",f=u.target_audience??u.audience??null,p=u.experience_level??u.thrill_level??u.type_description??u.type,h=u.duration_minutes??u.duration??null,v=u.description&&u.description.trim().toLowerCase()==="seated or street performance with scheduled times."?"":u.description;return r.createElement("article",{key:u.slug||u.id,className:"ride-card ride-card--theme"},r.createElement("header",{className:"ride-card__header"},r.createElement("h2",null,u.name)),r.createElement("div",{className:"ride-card__meta"},r.createElement("span",{className:"ride-card__chip"},m),p&&r.createElement("span",{className:"ride-card__chip ride-card__chip--accent"},p)),u.image_url&&r.createElement("div",{className:"ride-card__media",style:{backgroundImage:`url(${u.image_url})`}}),v&&r.createElement("p",{className:"ride-card__body"},v),r.createElement("div",{className:"ride-card__stats"},o!=null&&r.createElement("div",null,r.createElement("strong",null,o.toLocaleString()),r.createElement("span",{className:"ride-card__stat-label"},"Capacity")),f&&r.createElement("div",null,r.createElement("strong",null,f),r.createElement("span",{className:"ride-card__stat-label"},"Audience")),h&&r.createElement("div",null,r.createElement("strong",null,h," min"),r.createElement("span",{className:"ride-card__stat-label"},"Duration"))))}))),!a&&!s&&!t&&r.createElement("p",{className:"text-sm text-gray-600"},"Theme not found.")))}const es={first_name:"",last_name:"",date_of_birth:"",phone:""};function ts(e){const t=String(e||"").replace(/\D/g,"").slice(0,10);return t?t.length<4?`(${t}`:t.length<7?`(${t.slice(0,3)}) ${t.slice(3)}`:`(${t.slice(0,3)}) ${t.slice(3,6)}-${t.slice(6)}`:""}function Xy(e){const t=String(e||"").replace(/\D/g,"");return t.length!==10?null:`(${t.slice(0,3)}) ${t.slice(3,6)}-${t.slice(6)}`}function Zy(){const{user:e}=Me(),[t,n]=c.useState(!0),[a,l]=c.useState(es),[s,i]=c.useState(es),[u,o]=c.useState(!1),[m,f]=c.useState(""),[p,h]=c.useState("info"),[v,S]=c.useState([]),[_,E]=c.useState(!1),g=(e==null?void 0:e.role)==="customer",[d,y]=c.useState(!1);function w(D=!1){i({first_name:a.first_name||"",last_name:a.last_name||"",phone:ts(a.phone)||"",date_of_birth:a.date_of_birth||""}),f(""),h("info"),y(D)}c.useEffect(()=>{if(!e)return;let D=!1;return n(!0),J("/profile/me").then(C=>{if(D)return;const x=(C==null?void 0:C.profile)||es;l(x),i({first_name:x.first_name||"",last_name:x.last_name||"",phone:ts(x.phone||""),date_of_birth:x.date_of_birth||""})}).catch(C=>{D||(f((C==null?void 0:C.message)||"Unable to load your profile right now."),h("error"))}).finally(()=>{D||n(!1)}),()=>{D=!0}},[e]),c.useEffect(()=>{if(!e||!g)return;let D=!1;return E(!0),J("/orders/me").then(C=>{D||S(Array.isArray(C==null?void 0:C.data)?C.data:[])}).catch(()=>{D||S([])}).finally(()=>{D||E(!1)}),()=>{D=!0}},[e,g]);async function T(D){if(D.preventDefault(),!(!e||!d)){o(!0),f("");try{const C=Xy(s.phone);if(!C){h("error"),f("Phone number must include 10 digits (e.g., (555) 123-4567)."),o(!1);return}const x={first_name:s.first_name.trim(),last_name:s.last_name.trim(),phone:C,date_of_birth:s.date_of_birth||""},$=await J("/profile/me",{method:"PUT",body:JSON.stringify(x)}),A=($==null?void 0:$.profile)||x;l({first_name:A.first_name||"",last_name:A.last_name||"",phone:A.phone||"",date_of_birth:A.date_of_birth||""}),h("success"),f("Profile updated."),y(!1)}catch(C){h("error"),f((C==null?void 0:C.message)||"Unable to save profile.")}finally{o(!1)}}}return e?r.createElement("div",{className:"page"},r.createElement("div",{className:"page-box page-box--wide",style:{display:"grid",gap:24}},r.createElement("section",{className:"panel"},r.createElement("h1",{style:{marginTop:0}},"Account Overview"),r.createElement("div",{className:"muted",style:{fontSize:14}},"Signed in as ",r.createElement("strong",null,e.email||"")," (",e.role,")")),r.createElement("section",{className:"panel"},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12}},r.createElement("h2",{style:{marginTop:0}},"Profile Details"),!t&&r.createElement("div",{className:"account-actions",style:{display:"flex",gap:8}},d?r.createElement("button",{className:"btn",type:"button",onClick:()=>w(!1)},"Cancel"):r.createElement("button",{className:"btn",type:"button",onClick:()=>w(!0)},"Modify"))),t&&r.createElement("div",{className:"muted"},"Loading profile"),!t&&r.createElement("form",{className:"account-form",id:"profile-form",onSubmit:T},r.createElement("label",{className:"field"},r.createElement("span",null,"First name"),r.createElement("input",{className:"input",value:s.first_name,onChange:D=>i(C=>({...C,first_name:D.target.value})),disabled:!d,placeholder:"First name"})),r.createElement("label",{className:"field"},r.createElement("span",null,"Last name"),r.createElement("input",{className:"input",value:s.last_name,onChange:D=>i(C=>({...C,last_name:D.target.value})),disabled:!d,placeholder:"Last name"})),r.createElement("label",{className:"field"},r.createElement("span",null,"Phone"),r.createElement("input",{className:"input",value:s.phone,onChange:D=>i(C=>({...C,phone:ts(D.target.value)})),disabled:!d,placeholder:"(555) 123-4567"})),r.createElement("label",{className:"field"},r.createElement("span",null,"Date of birth"),r.createElement("input",{className:"input",type:"date",value:s.date_of_birth||"",onChange:D=>i(C=>({...C,date_of_birth:D.target.value})),disabled:!d})),d&&r.createElement("div",{className:"account-form__actions",style:{display:"flex",gap:12,flexWrap:"wrap"}},r.createElement("button",{className:"btn primary",type:"submit",disabled:u},u?"Saving":"Confirm"),r.createElement("button",{className:"btn",type:"button",onClick:()=>w(!1),disabled:u},"Cancel")),m&&r.createElement("div",{className:`alert ${p==="success"?"success":p==="error"?"error":"info"}`},m))),r.createElement("section",{className:"panel"},r.createElement("h2",{style:{marginTop:0}},"Password"),r.createElement("p",{className:"muted",style:{marginBottom:16}},"Update your password to keep your account secure."),r.createElement(eg,null)),g&&r.createElement("section",{className:"panel"},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline",flexWrap:"wrap",gap:12}},r.createElement("h2",{style:{margin:0}},"Purchase History"),r.createElement("span",{className:"muted",style:{fontSize:12}},"Latest 200 orders (tickets, parking, dining, gifts)")),_&&r.createElement("div",{className:"muted"},"Loading history"),!_&&v.length===0&&r.createElement("div",{className:"muted",style:{fontSize:14}},"You have not completed any purchases yet."),!_&&v.length>0&&r.createElement("div",{className:"table-responsive"},r.createElement("table",{className:"table"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Item"),r.createElement("th",null,"Type"),r.createElement("th",null,"Visit Date"),r.createElement("th",null,"Quantity"),r.createElement("th",null,"Price"),r.createElement("th",null,"Purchased"))),r.createElement("tbody",null,v.map(D=>{var x;const C=D.visit_date||((x=D.details)==null?void 0:x.visitDate);return r.createElement("tr",{key:D.purchase_id},r.createElement("td",null,D.item_name),r.createElement("td",null,D.item_type),r.createElement("td",null,ng(C)),r.createElement("td",null,D.quantity),r.createElement("td",null,"$",Number(D.price||0).toFixed(2)),r.createElement("td",null,tg(D.created_at)))}))))))):r.createElement("div",{className:"page"},r.createElement("div",{className:"page-box"},r.createElement("h1",null,"Account"),r.createElement("p",null,"Please sign in to view your account and ticket history.")))}function eg(){const[e,t]=c.useState(""),[n,a]=c.useState(""),[l,s]=c.useState(""),[i,u]=c.useState(!1),[o,m]=c.useState(""),[f,p]=c.useState("info");async function h(v){if(v.preventDefault(),!i){if(!e||!n){p("error"),m("Current and new password are required.");return}if(n!==l){p("error"),m("New password and confirmation do not match.");return}u(!0),m("");try{await J("/profile/password",{method:"PUT",body:JSON.stringify({currentPassword:e,newPassword:n})}),p("success"),m("Password updated successfully."),t(""),a(""),s("")}catch(S){p("error"),m((S==null?void 0:S.message)||"Unable to update password.")}finally{u(!1)}}}return r.createElement("form",{onSubmit:h,className:"account-form"},r.createElement("label",{className:"field"},r.createElement("span",null,"Current password"),r.createElement("input",{className:"input",type:"password",value:e,onChange:v=>t(v.target.value),autoComplete:"current-password"})),r.createElement("label",{className:"field"},r.createElement("span",null,"New password"),r.createElement("input",{className:"input",type:"password",value:n,onChange:v=>a(v.target.value),autoComplete:"new-password",minLength:6})),r.createElement("label",{className:"field"},r.createElement("span",null,"Confirm password"),r.createElement("input",{className:"input",type:"password",value:l,onChange:v=>s(v.target.value),autoComplete:"new-password",minLength:6})),r.createElement("div",{style:{display:"flex",gap:12}},r.createElement("button",{className:"btn primary",type:"submit",disabled:i},i?"Saving":"Update Password"),r.createElement("button",{className:"btn",type:"button",onClick:()=>{t(""),a(""),s(""),m("")}},"Cancel")),o&&r.createElement("div",{className:`alert ${f==="success"?"success":f==="error"?"error":"info"}`},o))}function tg(e){if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?String(e):t.toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"})}function ng(e){if(!e)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(e)){const[n,a,l]=e.split("-").map(Number);return new Date(n,a-1,l).toLocaleDateString(void 0,{dateStyle:"medium"})}const t=new Date(e);return Number.isNaN(t.getTime())?"":t.toLocaleDateString(void 0,{dateStyle:"medium"})}const ag="tj-auth-toast";function rg(){typeof window>"u"||!window.sessionStorage||window.sessionStorage.setItem(ag,"welcome")}function lg(e){const t=String(e||"").replace(/\D/g,"").slice(0,10);return t?t.length<4?`(${t}`:t.length<7?`(${t.slice(0,3)}) ${t.slice(3)}`:`(${t.slice(0,3)}) ${t.slice(3,6)}-${t.slice(6)}`:""}function sg(e){const t=String(e||"").replace(/\D/g,"");return t.length!==10?null:`(${t.slice(0,3)}) ${t.slice(3,6)}-${t.slice(6)}`}function ig(){const{user:e,refresh:t}=Me(),[n,a]=Wh(),l=bt(),[s,i]=c.useState(""),[u,o]=c.useState("error"),[m,f]=c.useState(!1),[p,h]=c.useState(""),v=c.useMemo(()=>{const g=n.get("redirect");return g&&g.startsWith("/")?g:"/"},[n]),S=n.get("mode")==="signup"?"signup":"login";c.useEffect(()=>{S!=="signup"&&h("")},[S]),c.useEffect(()=>{e&&l(v,{replace:!0})},[e,v,l]);function _(g){a(d=>{const y=new URLSearchParams(d);return g==="signup"?y.set("mode","signup"):y.delete("mode"),v&&v!=="/"?y.set("redirect",v):y.delete("redirect"),y})}async function E(g){if(g.preventDefault(),m)return;const d=new FormData(g.currentTarget),y=String(d.get("email")||"").trim(),w=String(d.get("password")||"");if(!y||!w){o("error"),i("Please provide both email and password.");return}f(!0),i("");try{if(S==="signup"){const T=String(d.get("firstName")||"").trim(),D=String(d.get("lastName")||"").trim(),C=String(d.get("dateOfBirth")||"").trim(),x=sg(p);if(!T||!D||!C||!x){o("error"),i("First name, last name, date of birth, and a valid 10-digit phone are required."),f(!1);return}await Jh({email:y,password:w,firstName:T,lastName:D,dateOfBirth:C,phone:x}),rg()}else await qh(y,w);no("in"),await t(),l(v,{replace:!0})}catch(T){o("error"),i((T==null?void 0:T.message)||"Unable to complete request.")}finally{f(!1)}}return r.createElement("div",{className:"page"},r.createElement("div",{className:"page-box page-box--narrow auth-page"},r.createElement("header",{className:"auth-page__header"},r.createElement("h1",null,S==="signup"?"Create your account":"Welcome back"),r.createElement("p",{className:"muted"},S==="signup"?"Register as a customer to purchase tickets and manage your visits.":"Sign in with the email and password you used when creating your account.")),r.createElement("form",{className:"auth-form",onSubmit:E},s&&r.createElement("div",{className:`alert ${u==="error"?"error":"info"}`},s),S==="signup"&&r.createElement(r.Fragment,null,r.createElement("label",{className:"field"},r.createElement("span",null,"First name"),r.createElement("input",{className:"input",name:"firstName",type:"text",autoComplete:"given-name",required:S==="signup",placeholder:"First name"})),r.createElement("label",{className:"field"},r.createElement("span",null,"Last name"),r.createElement("input",{className:"input",name:"lastName",type:"text",autoComplete:"family-name",required:S==="signup",placeholder:"Last name"})),r.createElement("label",{className:"field"},r.createElement("span",null,"Date of birth"),r.createElement("input",{className:"input",name:"dateOfBirth",type:"date",required:S==="signup"})),r.createElement("label",{className:"field"},r.createElement("span",null,"Phone number"),r.createElement("input",{className:"input",name:"phone",type:"tel",autoComplete:"tel",value:p,onChange:g=>h(lg(g.target.value)),required:S==="signup",placeholder:"(555) 123-4567"}))),r.createElement("label",{className:"field"},r.createElement("span",null,"Email"),r.createElement("input",{className:"input",name:"email",type:"email",autoComplete:"email",required:!0,placeholder:"you@example.com"})),r.createElement("label",{className:"field"},r.createElement("span",null,"Password"),r.createElement("input",{className:"input",name:"password",type:"password",autoComplete:S==="signup"?"new-password":"current-password",minLength:6,required:!0})),r.createElement("button",{className:"btn primary w-full",type:"submit",disabled:m},m?"Please wait...":S==="signup"?"Sign Up":"Sign In")),r.createElement("footer",{className:"auth-page__footer"},S==="signup"?r.createElement("p",null,"Already have an account?"," ",r.createElement("button",{type:"button",className:"link-button",onClick:()=>_("login")},"Sign in")):r.createElement("p",null,"New here?"," ",r.createElement("button",{type:"button",className:"link-button",onClick:()=>_("signup")},"Create an account")),r.createElement("p",{className:"auth-page__back"},r.createElement(Wn,{to:v&&v!=="/"?v:"/"},"<"," Back to site")))))}function og(e){if(!e)return"";if(typeof e=="string"){if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;const[n]=e.split("T");if(n)return n}const t=new Date(e);return Number.isNaN(t.getTime())?String(e):t.toISOString().slice(0,10)}function ug(e){if(!e||typeof window>"u")return[];try{const t=window.localStorage.getItem(e);if(!t)return[];const n=JSON.parse(t);return Array.isArray(n)?n:[]}catch{return[]}}function $u(e,t){if(!(!e||typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(t))}catch{}}function cg(){const{user:e}=Me();e==null||e.role;const[t,n]=c.useState([]),[a,l]=c.useState(!0),[s,i]=c.useState("");c.useEffect(()=>{let m=!0;async function f(){l(!0),i("");try{const p=await J("/schedules");if(!m)return;n(Array.isArray(p==null?void 0:p.data)?p.data:(p==null?void 0:p.schedules)||[])}catch(p){if(!m)return;i((p==null?void 0:p.message)||"Unable to load schedule."),n([])}finally{m&&l(!1)}}return f(),()=>{m=!1}},[]);const u=c.useCallback(m=>{const f=(m==null?void 0:m.scheduleId)??(m==null?void 0:m.id);f&&n(p=>p.filter(h=>((h==null?void 0:h.ScheduleID)??(h==null?void 0:h.id))!==f))},[]),o=c.useMemo(()=>t.map(m=>{const f=`${m.AttractionID??m.attractionId??"attr"}-${m.Start_time??m.startTime??"start"}-${m.Shift_date??m.shiftDate??"date"}`,p=m.ScheduleID??m.id??null;return{id:p??f,scheduleId:p,date:og(m.Shift_date??m.shiftDate??""),start:m.Start_time??m.startTime??"",end:m.End_time??m.endTime??"",attraction:m.attraction_name??m.attractionName??"",attractionId:m.AttractionID??m.attractionId??m.attractionID??null}}).sort((m,f)=>(m.date||"").localeCompare(f.date||"")||(m.start||"").localeCompare(f.start||"")),[t]);return r.createElement("div",{className:"page"},r.createElement("div",{className:"panel"},r.createElement("h2",{style:{marginTop:0}},"My Schedule"),r.createElement("p",{className:"muted"},"Review your upcoming shifts."),a&&r.createElement("div",{className:"text-sm text-gray-600"},"Loading schedule..."),!a&&s&&r.createElement("div",{className:"alert error"},s),!a&&!s&&o.length===0&&r.createElement("div",{className:"text-sm text-gray-600"},"No shifts have been assigned yet."),!a&&!s&&o.length>0&&r.createElement("div",{className:"table-wrapper",style:{overflowX:"auto"}},r.createElement("table",{style:{width:"100%",borderCollapse:"collapse"}},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",{style:vr},"Date"),r.createElement("th",{style:vr},"Start"),r.createElement("th",{style:vr},"End"),r.createElement("th",{style:vr},"Attraction"))),r.createElement("tbody",null,o.map(m=>r.createElement("tr",{key:m.id||`${m.date}-${m.start}`},r.createElement("td",{style:Er},m.date||"--"),r.createElement("td",{style:Er},m.start||"--"),r.createElement("td",{style:Er},m.end||"--"),r.createElement("td",{style:Er},m.attraction||"Unassigned"))))))),r.createElement(mg,{shifts:o,disabled:!o.length,onShiftLogged:u}))}function mg({shifts:e,disabled:t,onShiftLogged:n}){const{user:a}=Me(),l=10,s=c.useMemo(()=>a!=null&&a.employeeId?`ride-log-${a.employeeId}`:a!=null&&a.id?`ride-log-user-${a.id}`:"ride-log-staff",[a==null?void 0:a.employeeId,a==null?void 0:a.id]),i=c.useMemo(()=>(e||[]).filter(P=>P.attractionId&&P.date).map(P=>({id:P.id||`${P.attractionId}-${P.date}-${P.start}`,label:`${P.date} - ${P.attraction||"Attraction"}`,date:P.date,attractionId:P.attractionId,attractionName:P.attraction||"Attraction",scheduleId:P.scheduleId??P.id??null})),[e]),[u,o]=c.useState(()=>{var P;return((P=i[0])==null?void 0:P.id)||""}),m=i.find(P=>P.id===u)||i[0]||null,[f,p]=c.useState(""),[h,v]=c.useState(!1),[S,_]=c.useState(""),E=c.useMemo(()=>ug(s),[s]),[g,d]=c.useState(E),[y,w]=c.useState(()=>!E.length),[T,D]=c.useState(""),[C,x]=c.useState(0);c.useEffect(()=>{var P;o(((P=i[0])==null?void 0:P.id)||"")},[i]),c.useEffect(()=>{d(E),w(!E.length)},[E]),c.useEffect(()=>{let P=!0;async function R(){w(!0),D("");try{const z=new URLSearchParams;z.set("limit",String(l));const L=await J(`/ride-log?${z.toString()}`);if(!P)return;const U=(Array.isArray(L==null?void 0:L.data)?L.data:[]).slice(0,l);U.length&&(d(U),$u(s,U))}catch(z){if(!P)return;D((z==null?void 0:z.message)||"Unable to load recent logs.")}finally{P&&w(!1)}}return R(),()=>{P=!1}},[C,s]);const $=t||i.length===0;async function A(P){if(P.preventDefault(),$||!m){_("No scheduled shifts are available to log right now.");return}const R=Number(f);if(!Number.isFinite(R)||R<0){_("Enter a non-negative rider count.");return}v(!0),_("");try{await J("/ride-log",{method:"POST",body:JSON.stringify({attractionId:m.attractionId,logDate:m.date,ridersCount:R,scheduleId:m.scheduleId||null})}),_("Rider count saved."),p(""),d(z=>{const L=[{AttractionID:m.attractionId,attraction_name:m.attractionName,log_date:m.date,riders_count:R},...z].slice(0,l);return $u(s,L),L}),w(!1),D(""),n==null||n(m),x(z=>z+1)}catch(z){_((z==null?void 0:z.message)||"Unable to log riders.")}finally{v(!1)}}return r.createElement("div",{className:"panel"},r.createElement("h3",{style:{marginTop:0}},"Log Riders"),r.createElement("p",{className:"muted"},"Record how many guests rode your assigned attraction for the selected shift."),r.createElement("form",{onSubmit:A,style:{display:"grid",gap:12}},$&&r.createElement("div",{className:"text-sm text-gray-600"},"You've logged all assigned shifts. New shifts will appear here automatically."),r.createElement("label",{className:"field"},r.createElement("span",null,"Shift"),r.createElement("select",{className:"select",value:u,onChange:P=>o(P.target.value),disabled:$},i.length===0?r.createElement("option",{value:""},"No scheduled shifts"):i.map(P=>r.createElement("option",{key:P.id,value:P.id},P.label)))),r.createElement("label",{className:"field"},r.createElement("span",null,"Riders"),r.createElement("input",{className:"input",type:"number",min:"0",step:"1",value:f,onChange:P=>p(P.target.value),placeholder:"e.g. 850"})),r.createElement("div",{style:{display:"flex",gap:8,alignItems:"center"}},r.createElement("button",{className:"btn primary",type:"submit",disabled:h||$},h?"Saving...":"Save Rider Count"),S&&r.createElement("span",{className:"text-sm text-gray-700"},S))),r.createElement("div",{style:{marginTop:16}},r.createElement("h4",{style:{marginBottom:8}},"Recent entries"),y&&r.createElement("div",{className:"text-sm text-gray-600"},"Loading history..."),!y&&T&&r.createElement("div",{className:"alert error"},T),!y&&!T&&g.length===0&&r.createElement("div",{className:"text-sm text-gray-600"},"No rider logs yet."),!y&&!T&&g.length>0&&r.createElement("ul",{style:{listStyle:"none",padding:0,margin:0,display:"grid",gap:6}},g.map(P=>{const R=Number(P.riders_count??P.ridersCount??0);return r.createElement("li",{key:`${P.AttractionID}-${P.log_date}`},r.createElement("div",{className:"text-sm font-medium"},P.log_date," - ",R.toLocaleString()," riders"),r.createElement("div",{className:"text-xs text-gray-500"},P.attraction_name))}))))}const vr={textAlign:"left",padding:"8px",borderBottom:"1px solid #e2e8f0",fontSize:"0.85rem",textTransform:"uppercase",letterSpacing:".08em"},Er={padding:"8px",borderBottom:"1px solid #f1f5f9",fontSize:"0.95rem"};function dg(){return r.createElement(Ha,{roles:["employee"],fallback:r.createElement("div",{className:"page"},r.createElement("div",{className:"panel"},"Only employees can view schedules."))},r.createElement(cg,null))}function fg(){const{user:e}=Me(),t=!e||e.role==="customer",[n,a]=c.useState({themes:[],rides:[]}),[l,s]=c.useState(!0),[i,u]=c.useState("");return c.useEffect(()=>{if(!t){a({themes:[],rides:[]}),s(!1),u("");return}let o=!0;return s(!0),fetch("http://localhost:5175/ride-library").then(m=>m.ok?m.json():Promise.reject(new Error("Failed to load rides"))).then(m=>{o&&(a((m==null?void 0:m.data)||{themes:[],rides:[]}),u(""))}).catch(m=>{o&&(u((m==null?void 0:m.message)||"Unable to load ride data."),a({themes:[],rides:[]}))}).finally(()=>o&&s(!1)),()=>{o=!1}},[t]),r.createElement(ty,null,r.createElement("div",{className:"min-h-screen bg-gray-50"},t?r.createElement(r.Fragment,null,r.createElement(ry,{themes:n.themes}),r.createElement(pg,{rideLibrary:n,libraryLoading:l,libraryError:i})):r.createElement(yg,null)))}function pg({rideLibrary:e,libraryLoading:t,libraryError:n}){return r.createElement(Xi,null,r.createElement(me,{path:"/",element:r.createElement(hg,null)}),r.createElement(me,{path:"/ticket-passes",element:r.createElement(gr,{filter:"all"})}),r.createElement(me,{path:"/ticket-passes/day-tickets",element:r.createElement(gr,{filter:"day"})}),r.createElement(me,{path:"/ticket-passes/annual-passes",element:r.createElement(gr,{filter:"annual"})}),r.createElement(me,{path:"/ticket-passes/birthday-package",element:r.createElement(gr,{filter:"birthday"})}),r.createElement(me,{path:"/things-to-do/rides-attractions",element:r.createElement(Yy,{library:e,loading:t,error:n})}),r.createElement(me,{path:"/things-to-do/dining",element:r.createElement(oy,null)}),r.createElement(me,{path:"/things-to-do/shopping",element:r.createElement(iy,null)}),r.createElement(me,{path:"/theme/:slug",element:r.createElement(Gy,null)}),r.createElement(me,{path:"/login",element:r.createElement(ig,null)}),r.createElement(me,{path:"/account",element:r.createElement(Zy,null)}),r.createElement(me,{path:"*",element:r.createElement(gn,{to:"/",replace:!0})}))}function hg(){const{user:e,loading:t}=Me();return t?r.createElement("div",{className:"page"},r.createElement("div",{className:"panel"},"Loading your experience...")):!e||e.role==="customer"?r.createElement(sy,null):r.createElement(gn,{to:hd(e.role),replace:!0})}function yg(){const{user:e,loading:t}=Me(),n=wt(),a=hd(e==null?void 0:e.role);return t&&!e?r.createElement("div",{className:"page"},r.createElement("div",{className:"panel"},"Loading your experience...")):r.createElement(r.Fragment,null,r.createElement(vg,{currentPath:n.pathname}),r.createElement(Xi,null,r.createElement(me,{path:"/",element:r.createElement(gn,{to:a,replace:!0})}),r.createElement(me,{path:"/schedule",element:r.createElement(dg,null)}),r.createElement(me,{path:"/reports",element:r.createElement(Ha,{roles:["admin","owner"],fallback:r.createElement("div",{className:"page"},r.createElement("div",{className:"panel"},"Reports are limited to admins and owners."))},r.createElement(jy,null))}),r.createElement(me,{path:"/manager",element:r.createElement(Hy,null)}),r.createElement(me,{path:"/maintenance",element:r.createElement(Ha,{roles:["manager","admin","owner"],fallback:r.createElement("div",{className:"page"},r.createElement("div",{className:"panel"},"Managers or higher only."))},r.createElement(dd,null))}),r.createElement(me,{path:"/admin/*",element:r.createElement(xy,null)}),r.createElement(me,{path:"/login",element:r.createElement(gn,{to:a,replace:!0})}),r.createElement(me,{path:"*",element:r.createElement(gn,{to:a,replace:!0})})))}const gg=[{label:"Schedule",path:"/schedule",roles:["employee"]},{label:"Reports",path:"/reports",roles:["admin","owner"]},{label:"Manager",path:"/manager",roles:["manager"]},{label:"Maintenance",path:"/maintenance",roles:["manager"]},{label:"Admin",path:"/admin",roles:["admin","owner"]}];function vg({currentPath:e}){const{user:t,signOut:n}=Me(),a=bt(),l=(t==null?void 0:t.role)??"",{authToast:s,dismissToast:i}=ud(t),u=c.useMemo(()=>{const f=gg.filter(p=>!p.roles||p.roles.includes(l));return l==="admin"||l==="owner"?f.filter(p=>p.path==="/reports"||p.path.startsWith("/admin")):f},[l]),o=f=>e===f||e.startsWith(`${f}/`);function m(){no("out"),n(),a("/",{replace:!0})}return r.createElement(r.Fragment,null,r.createElement("header",{className:"nav-shell"},r.createElement("div",{className:"nav-bar"},r.createElement("div",{className:"nav-left"},r.createElement("button",{className:"nav-brand",type:"button",onClick:()=>a("/")},"Time Jump Staff"),r.createElement("span",{className:"nav-role-pill"},l?l.toUpperCase():"STAFF")),r.createElement("nav",{className:"nav-links"},r.createElement("div",{className:"nav-staff"},u.map(f=>r.createElement("button",{key:f.path,className:`nav-link nav-link--staff ${o(f.path)?"nav-link--active":""}`,onClick:()=>a(f.path)},f.label))),r.createElement("div",{className:"nav-auth"},r.createElement("button",{className:"btn primary",onClick:m},"Sign Out"))))),r.createElement(md,{toast:s,onDismiss:i}))}function hd(e){return e==="admin"||e==="owner"?"/admin":e==="manager"?"/manager":"/schedule"}console.log("[main] loaded");const Eg=document.getElementById("root");Eg?Ym(document.getElementById("root")).render(r.createElement(r.StrictMode,null,r.createElement(zh,null,r.createElement(Kh,null,r.createElement(fg,null))))):document.body.innerHTML='<pre style="color:red">#root not found in index.html</pre>';
