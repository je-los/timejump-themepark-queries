function kd(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const l in a)if(l!=="default"&&!(l in e)){const s=Object.getOwnPropertyDescriptor(a,l);s&&Object.defineProperty(e,l,s.get?s:{enumerable:!0,get:()=>a[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function wd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Wc={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ja=Symbol.for("react.element"),bd=Symbol.for("react.portal"),_d=Symbol.for("react.fragment"),Cd=Symbol.for("react.strict_mode"),xd=Symbol.for("react.profiler"),Td=Symbol.for("react.provider"),Dd=Symbol.for("react.context"),Id=Symbol.for("react.forward_ref"),Pd=Symbol.for("react.suspense"),Ld=Symbol.for("react.memo"),Rd=Symbol.for("react.lazy"),io=Symbol.iterator;function Ad(e){return e===null||typeof e!="object"?null:(e=io&&e[io]||e["@@iterator"],typeof e=="function"?e:null)}var Hc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Qc=Object.assign,qc={};function Xn(e,t,n){this.props=e,this.context=t,this.refs=qc,this.updater=n||Hc}Xn.prototype.isReactComponent={};Xn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Jc(){}Jc.prototype=Xn.prototype;function ri(e,t,n){this.props=e,this.context=t,this.refs=qc,this.updater=n||Hc}var li=ri.prototype=new Jc;li.constructor=ri;Qc(li,Xn.prototype);li.isPureReactComponent=!0;var oo=Array.isArray,Yc=Object.prototype.hasOwnProperty,si={current:null},Kc={key:!0,ref:!0,__self:!0,__source:!0};function Gc(e,t,n){var a,l={},s=null,i=null;if(t!=null)for(a in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)Yc.call(t,a)&&!Kc.hasOwnProperty(a)&&(l[a]=t[a]);var o=arguments.length-2;if(o===1)l.children=n;else if(1<o){for(var c=Array(o),m=0;m<o;m++)c[m]=arguments[m+2];l.children=c}if(e&&e.defaultProps)for(a in o=e.defaultProps,o)l[a]===void 0&&(l[a]=o[a]);return{$$typeof:Ja,type:e,key:s,ref:i,props:l,_owner:si.current}}function Md(e,t){return{$$typeof:Ja,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ii(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ja}function Od(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var co=/\/+/g;function Nl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Od(""+e.key):t.toString(36)}function Sr(e,t,n,a,l){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ja:case bd:i=!0}}if(i)return i=e,l=l(i),e=a===""?"."+Nl(i,0):a,oo(l)?(n="",e!=null&&(n=e.replace(co,"$&/")+"/"),Sr(l,t,n,"",function(m){return m})):l!=null&&(ii(l)&&(l=Md(l,n+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(co,"$&/")+"/")+e)),t.push(l)),1;if(i=0,a=a===""?".":a+":",oo(e))for(var o=0;o<e.length;o++){s=e[o];var c=a+Nl(s,o);i+=Sr(s,t,n,c,l)}else if(c=Ad(e),typeof c=="function")for(e=c.call(e),o=0;!(s=e.next()).done;)s=s.value,c=a+Nl(s,o++),i+=Sr(s,t,n,c,l);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function tr(e,t,n){if(e==null)return e;var a=[],l=0;return Sr(e,a,"","",function(s){return t.call(n,s,l++)}),a}function Ud(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var je={current:null},Nr={transition:null},Fd={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:Nr,ReactCurrentOwner:si};function Xc(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:tr,forEach:function(e,t,n){tr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return tr(e,function(){t++}),t},toArray:function(e){return tr(e,function(t){return t})||[]},only:function(e){if(!ii(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ie.Component=Xn;ie.Fragment=_d;ie.Profiler=xd;ie.PureComponent=ri;ie.StrictMode=Cd;ie.Suspense=Pd;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fd;ie.act=Xc;ie.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=Qc({},e.props),l=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=si.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Yc.call(t,c)&&!Kc.hasOwnProperty(c)&&(a[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)a.children=n;else if(1<c){o=Array(c);for(var m=0;m<c;m++)o[m]=arguments[m+2];a.children=o}return{$$typeof:Ja,type:e.type,key:l,ref:s,props:a,_owner:i}};ie.createContext=function(e){return e={$$typeof:Dd,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Td,_context:e},e.Consumer=e};ie.createElement=Gc;ie.createFactory=function(e){var t=Gc.bind(null,e);return t.type=e,t};ie.createRef=function(){return{current:null}};ie.forwardRef=function(e){return{$$typeof:Id,render:e}};ie.isValidElement=ii;ie.lazy=function(e){return{$$typeof:Rd,_payload:{_status:-1,_result:e},_init:Ud}};ie.memo=function(e,t){return{$$typeof:Ld,type:e,compare:t===void 0?null:t}};ie.startTransition=function(e){var t=Nr.transition;Nr.transition={};try{e()}finally{Nr.transition=t}};ie.unstable_act=Xc;ie.useCallback=function(e,t){return je.current.useCallback(e,t)};ie.useContext=function(e){return je.current.useContext(e)};ie.useDebugValue=function(){};ie.useDeferredValue=function(e){return je.current.useDeferredValue(e)};ie.useEffect=function(e,t){return je.current.useEffect(e,t)};ie.useId=function(){return je.current.useId()};ie.useImperativeHandle=function(e,t,n){return je.current.useImperativeHandle(e,t,n)};ie.useInsertionEffect=function(e,t){return je.current.useInsertionEffect(e,t)};ie.useLayoutEffect=function(e,t){return je.current.useLayoutEffect(e,t)};ie.useMemo=function(e,t){return je.current.useMemo(e,t)};ie.useReducer=function(e,t,n){return je.current.useReducer(e,t,n)};ie.useRef=function(e){return je.current.useRef(e)};ie.useState=function(e){return je.current.useState(e)};ie.useSyncExternalStore=function(e,t,n){return je.current.useSyncExternalStore(e,t,n)};ie.useTransition=function(){return je.current.useTransition()};ie.version="18.3.1";Wc.exports=ie;var u=Wc.exports;const r=wd(u),$d=kd({__proto__:null,default:r},[u]);var Zc={exports:{}},nt={},eu={exports:{}},tu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,q){var J=B.length;B.push(q);e:for(;0<J;){var D=J-1>>>1,O=B[D];if(0<l(O,q))B[D]=q,B[J]=O,J=D;else break e}}function n(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var q=B[0],J=B.pop();if(J!==q){B[0]=J;e:for(var D=0,O=B.length,ee=O>>>1;D<ee;){var G=2*(D+1)-1,oe=B[G],le=G+1,se=B[le];if(0>l(oe,J))le<O&&0>l(se,oe)?(B[D]=se,B[le]=J,D=le):(B[D]=oe,B[G]=J,D=G);else if(le<O&&0>l(se,J))B[D]=se,B[le]=J,D=le;else break e}}return q}function l(B,q){var J=B.sortIndex-q.sortIndex;return J!==0?J:B.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],m=[],p=1,d=null,h=3,v=!1,S=!1,b=!1,E=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(B){for(var q=n(m);q!==null;){if(q.callback===null)a(m);else if(q.startTime<=B)a(m),q.sortIndex=q.expirationTime,t(c,q);else break;q=n(m)}}function k(B){if(b=!1,g(B),!S)if(n(c)!==null)S=!0,Y(T);else{var q=n(m);q!==null&&ne(k,q.startTime-B)}}function T(B,q){S=!1,b&&(b=!1,y(C),C=-1),v=!0;var J=h;try{for(g(q),d=n(c);d!==null&&(!(d.expirationTime>q)||B&&!M());){var D=d.callback;if(typeof D=="function"){d.callback=null,h=d.priorityLevel;var O=D(d.expirationTime<=q);q=e.unstable_now(),typeof O=="function"?d.callback=O:d===n(c)&&a(c),g(q)}else a(c);d=n(c)}if(d!==null)var ee=!0;else{var G=n(m);G!==null&&ne(k,G.startTime-q),ee=!1}return ee}finally{d=null,h=J,v=!1}}var x=!1,_=null,C=-1,F=5,A=-1;function M(){return!(e.unstable_now()-A<F)}function I(){if(_!==null){var B=e.unstable_now();A=B;var q=!0;try{q=_(!0,B)}finally{q?V():(x=!1,_=null)}}else x=!1}var V;if(typeof f=="function")V=function(){f(I)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,z=P.port2;P.port1.onmessage=I,V=function(){z.postMessage(null)}}else V=function(){E(I,0)};function Y(B){_=B,x||(x=!0,V())}function ne(B,q){C=E(function(){B(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){S||v||(S=!0,Y(T))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(B){switch(h){case 1:case 2:case 3:var q=3;break;default:q=h}var J=h;h=q;try{return B()}finally{h=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var J=h;h=B;try{return q()}finally{h=J}},e.unstable_scheduleCallback=function(B,q,J){var D=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?D+J:D):J=D,B){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=J+O,B={id:p++,callback:q,priorityLevel:B,startTime:J,expirationTime:O,sortIndex:-1},J>D?(B.sortIndex=J,t(m,B),n(c)===null&&B===n(m)&&(b?(y(C),C=-1):b=!0,ne(k,J-D))):(B.sortIndex=O,t(c,B),S||v||(S=!0,Y(T))),B},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(B){var q=h;return function(){var J=h;h=q;try{return B.apply(this,arguments)}finally{h=J}}}})(tu);eu.exports=tu;var zd=eu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bd=u,tt=zd;function j(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nu=new Set,Ta={};function wn(e,t){Hn(e,t),Hn(e+"Capture",t)}function Hn(e,t){for(Ta[e]=t,e=0;e<t.length;e++)nu.add(t[e])}var Pt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rs=Object.prototype.hasOwnProperty,jd=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uo={},mo={};function Vd(e){return rs.call(mo,e)?!0:rs.call(uo,e)?!1:jd.test(e)?mo[e]=!0:(uo[e]=!0,!1)}function Wd(e,t,n,a){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Hd(e,t,n,a){if(t===null||typeof t>"u"||Wd(e,t,n,a))return!0;if(a)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ve(e,t,n,a,l,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var Ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ae[e]=new Ve(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ae[t]=new Ve(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ae[e]=new Ve(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ae[e]=new Ve(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ae[e]=new Ve(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ae[e]=new Ve(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ae[e]=new Ve(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ae[e]=new Ve(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ae[e]=new Ve(e,5,!1,e.toLowerCase(),null,!1,!1)});var oi=/[\-:]([a-z])/g;function ci(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(oi,ci);Ae[t]=new Ve(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(oi,ci);Ae[t]=new Ve(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(oi,ci);Ae[t]=new Ve(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ae[e]=new Ve(e,1,!1,e.toLowerCase(),null,!1,!1)});Ae.xlinkHref=new Ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ae[e]=new Ve(e,1,!1,e.toLowerCase(),null,!0,!0)});function ui(e,t,n,a){var l=Ae.hasOwnProperty(t)?Ae[t]:null;(l!==null?l.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Hd(t,n,l,a)&&(n=null),a||l===null?Vd(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,a=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}var Mt=Bd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nr=Symbol.for("react.element"),Cn=Symbol.for("react.portal"),xn=Symbol.for("react.fragment"),mi=Symbol.for("react.strict_mode"),ls=Symbol.for("react.profiler"),au=Symbol.for("react.provider"),ru=Symbol.for("react.context"),di=Symbol.for("react.forward_ref"),ss=Symbol.for("react.suspense"),is=Symbol.for("react.suspense_list"),fi=Symbol.for("react.memo"),Ft=Symbol.for("react.lazy"),lu=Symbol.for("react.offscreen"),fo=Symbol.iterator;function aa(e){return e===null||typeof e!="object"?null:(e=fo&&e[fo]||e["@@iterator"],typeof e=="function"?e:null)}var Ne=Object.assign,kl;function ha(e){if(kl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);kl=t&&t[1]||""}return`
`+kl+e}var wl=!1;function bl(e,t){if(!e||wl)return"";wl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var a=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){a=m}e.call(t.prototype)}else{try{throw Error()}catch(m){a=m}e()}}catch(m){if(m&&a&&typeof m.stack=="string"){for(var l=m.stack.split(`
`),s=a.stack.split(`
`),i=l.length-1,o=s.length-1;1<=i&&0<=o&&l[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(l[i]!==s[o]){if(i!==1||o!==1)do if(i--,o--,0>o||l[i]!==s[o]){var c=`
`+l[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{wl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ha(e):""}function Qd(e){switch(e.tag){case 5:return ha(e.type);case 16:return ha("Lazy");case 13:return ha("Suspense");case 19:return ha("SuspenseList");case 0:case 2:case 15:return e=bl(e.type,!1),e;case 11:return e=bl(e.type.render,!1),e;case 1:return e=bl(e.type,!0),e;default:return""}}function os(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xn:return"Fragment";case Cn:return"Portal";case ls:return"Profiler";case mi:return"StrictMode";case ss:return"Suspense";case is:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ru:return(e.displayName||"Context")+".Consumer";case au:return(e._context.displayName||"Context")+".Provider";case di:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fi:return t=e.displayName||null,t!==null?t:os(e.type)||"Memo";case Ft:t=e._payload,e=e._init;try{return os(e(t))}catch{}}return null}function qd(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return os(t);case 8:return t===mi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function en(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function su(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Jd(e){var t=su(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){a=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(i){a=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ar(e){e._valueTracker||(e._valueTracker=Jd(e))}function iu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=su(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Rr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function cs(e,t){var n=t.checked;return Ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function po(e,t){var n=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;n=en(t.value!=null?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ou(e,t){t=t.checked,t!=null&&ui(e,"checked",t,!1)}function us(e,t){ou(e,t);var n=en(t.value),a=t.type;if(n!=null)a==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ms(e,t.type,n):t.hasOwnProperty("defaultValue")&&ms(e,t.type,en(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ho(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ms(e,t,n){(t!=="number"||Rr(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ya=Array.isArray;function Fn(e,t,n,a){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&a&&(e[n].defaultSelected=!0)}else{for(n=""+en(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,a&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function ds(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(j(91));return Ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yo(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(j(92));if(ya(n)){if(1<n.length)throw Error(j(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:en(n)}}function cu(e,t){var n=en(t.value),a=en(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),a!=null&&(e.defaultValue=""+a)}function go(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function uu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fs(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?uu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var rr,mu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,a,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,a,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(rr=rr||document.createElement("div"),rr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=rr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Da(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ea={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yd=["Webkit","ms","Moz","O"];Object.keys(Ea).forEach(function(e){Yd.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ea[t]=Ea[e]})});function du(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ea.hasOwnProperty(e)&&Ea[e]?(""+t).trim():t+"px"}function fu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var a=n.indexOf("--")===0,l=du(n,t[n],a);n==="float"&&(n="cssFloat"),a?e.setProperty(n,l):e[n]=l}}var Kd=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ps(e,t){if(t){if(Kd[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(j(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(j(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(j(61))}if(t.style!=null&&typeof t.style!="object")throw Error(j(62))}}function hs(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ys=null;function pi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gs=null,$n=null,zn=null;function vo(e){if(e=Ga(e)){if(typeof gs!="function")throw Error(j(280));var t=e.stateNode;t&&(t=ol(t),gs(e.stateNode,e.type,t))}}function pu(e){$n?zn?zn.push(e):zn=[e]:$n=e}function hu(){if($n){var e=$n,t=zn;if(zn=$n=null,vo(e),t)for(e=0;e<t.length;e++)vo(t[e])}}function yu(e,t){return e(t)}function gu(){}var _l=!1;function vu(e,t,n){if(_l)return e(t,n);_l=!0;try{return yu(e,t,n)}finally{_l=!1,($n!==null||zn!==null)&&(gu(),hu())}}function Ia(e,t){var n=e.stateNode;if(n===null)return null;var a=ol(n);if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(j(231,t,typeof n));return n}var vs=!1;if(Pt)try{var ra={};Object.defineProperty(ra,"passive",{get:function(){vs=!0}}),window.addEventListener("test",ra,ra),window.removeEventListener("test",ra,ra)}catch{vs=!1}function Gd(e,t,n,a,l,s,i,o,c){var m=Array.prototype.slice.call(arguments,3);try{t.apply(n,m)}catch(p){this.onError(p)}}var Sa=!1,Ar=null,Mr=!1,Es=null,Xd={onError:function(e){Sa=!0,Ar=e}};function Zd(e,t,n,a,l,s,i,o,c){Sa=!1,Ar=null,Gd.apply(Xd,arguments)}function ef(e,t,n,a,l,s,i,o,c){if(Zd.apply(this,arguments),Sa){if(Sa){var m=Ar;Sa=!1,Ar=null}else throw Error(j(198));Mr||(Mr=!0,Es=m)}}function bn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Eu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Eo(e){if(bn(e)!==e)throw Error(j(188))}function tf(e){var t=e.alternate;if(!t){if(t=bn(e),t===null)throw Error(j(188));return t!==e?null:e}for(var n=e,a=t;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(a=l.return,a!==null){n=a;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return Eo(l),e;if(s===a)return Eo(l),t;s=s.sibling}throw Error(j(188))}if(n.return!==a.return)n=l,a=s;else{for(var i=!1,o=l.child;o;){if(o===n){i=!0,n=l,a=s;break}if(o===a){i=!0,a=l,n=s;break}o=o.sibling}if(!i){for(o=s.child;o;){if(o===n){i=!0,n=s,a=l;break}if(o===a){i=!0,a=s,n=l;break}o=o.sibling}if(!i)throw Error(j(189))}}if(n.alternate!==a)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?e:t}function Su(e){return e=tf(e),e!==null?Nu(e):null}function Nu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Nu(e);if(t!==null)return t;e=e.sibling}return null}var ku=tt.unstable_scheduleCallback,So=tt.unstable_cancelCallback,nf=tt.unstable_shouldYield,af=tt.unstable_requestPaint,_e=tt.unstable_now,rf=tt.unstable_getCurrentPriorityLevel,hi=tt.unstable_ImmediatePriority,wu=tt.unstable_UserBlockingPriority,Or=tt.unstable_NormalPriority,lf=tt.unstable_LowPriority,bu=tt.unstable_IdlePriority,rl=null,St=null;function sf(e){if(St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(rl,e,void 0,(e.current.flags&128)===128)}catch{}}var pt=Math.clz32?Math.clz32:uf,of=Math.log,cf=Math.LN2;function uf(e){return e>>>=0,e===0?32:31-(of(e)/cf|0)|0}var lr=64,sr=4194304;function ga(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ur(e,t){var n=e.pendingLanes;if(n===0)return 0;var a=0,l=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var o=i&~l;o!==0?a=ga(o):(s&=i,s!==0&&(a=ga(s)))}else i=n&~l,i!==0?a=ga(i):s!==0&&(a=ga(s));if(a===0)return 0;if(t!==0&&t!==a&&!(t&l)&&(l=a&-a,s=t&-t,l>=s||l===16&&(s&4194240)!==0))return t;if(a&4&&(a|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)n=31-pt(t),l=1<<n,a|=e[n],t&=~l;return a}function mf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function df(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,l=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-pt(s),o=1<<i,c=l[i];c===-1?(!(o&n)||o&a)&&(l[i]=mf(o,t)):c<=t&&(e.expiredLanes|=o),s&=~o}}function Ss(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _u(){var e=lr;return lr<<=1,!(lr&4194240)&&(lr=64),e}function Cl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ya(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pt(t),e[t]=n}function ff(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-pt(n),s=1<<l;t[l]=0,a[l]=-1,e[l]=-1,n&=~s}}function yi(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-pt(n),l=1<<a;l&t|e[a]&t&&(e[a]|=t),n&=~l}}var de=0;function Cu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var xu,gi,Tu,Du,Iu,Ns=!1,ir=[],Ht=null,Qt=null,qt=null,Pa=new Map,La=new Map,zt=[],pf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function No(e,t){switch(e){case"focusin":case"focusout":Ht=null;break;case"dragenter":case"dragleave":Qt=null;break;case"mouseover":case"mouseout":qt=null;break;case"pointerover":case"pointerout":Pa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":La.delete(t.pointerId)}}function la(e,t,n,a,l,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[l]},t!==null&&(t=Ga(t),t!==null&&gi(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function hf(e,t,n,a,l){switch(t){case"focusin":return Ht=la(Ht,e,t,n,a,l),!0;case"dragenter":return Qt=la(Qt,e,t,n,a,l),!0;case"mouseover":return qt=la(qt,e,t,n,a,l),!0;case"pointerover":var s=l.pointerId;return Pa.set(s,la(Pa.get(s)||null,e,t,n,a,l)),!0;case"gotpointercapture":return s=l.pointerId,La.set(s,la(La.get(s)||null,e,t,n,a,l)),!0}return!1}function Pu(e){var t=dn(e.target);if(t!==null){var n=bn(t);if(n!==null){if(t=n.tag,t===13){if(t=Eu(n),t!==null){e.blockedOn=t,Iu(e.priority,function(){Tu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ks(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);ys=a,n.target.dispatchEvent(a),ys=null}else return t=Ga(n),t!==null&&gi(t),e.blockedOn=n,!1;t.shift()}return!0}function ko(e,t,n){kr(e)&&n.delete(t)}function yf(){Ns=!1,Ht!==null&&kr(Ht)&&(Ht=null),Qt!==null&&kr(Qt)&&(Qt=null),qt!==null&&kr(qt)&&(qt=null),Pa.forEach(ko),La.forEach(ko)}function sa(e,t){e.blockedOn===t&&(e.blockedOn=null,Ns||(Ns=!0,tt.unstable_scheduleCallback(tt.unstable_NormalPriority,yf)))}function Ra(e){function t(l){return sa(l,e)}if(0<ir.length){sa(ir[0],e);for(var n=1;n<ir.length;n++){var a=ir[n];a.blockedOn===e&&(a.blockedOn=null)}}for(Ht!==null&&sa(Ht,e),Qt!==null&&sa(Qt,e),qt!==null&&sa(qt,e),Pa.forEach(t),La.forEach(t),n=0;n<zt.length;n++)a=zt[n],a.blockedOn===e&&(a.blockedOn=null);for(;0<zt.length&&(n=zt[0],n.blockedOn===null);)Pu(n),n.blockedOn===null&&zt.shift()}var Bn=Mt.ReactCurrentBatchConfig,Fr=!0;function gf(e,t,n,a){var l=de,s=Bn.transition;Bn.transition=null;try{de=1,vi(e,t,n,a)}finally{de=l,Bn.transition=s}}function vf(e,t,n,a){var l=de,s=Bn.transition;Bn.transition=null;try{de=4,vi(e,t,n,a)}finally{de=l,Bn.transition=s}}function vi(e,t,n,a){if(Fr){var l=ks(e,t,n,a);if(l===null)Ol(e,t,a,$r,n),No(e,a);else if(hf(l,e,t,n,a))a.stopPropagation();else if(No(e,a),t&4&&-1<pf.indexOf(e)){for(;l!==null;){var s=Ga(l);if(s!==null&&xu(s),s=ks(e,t,n,a),s===null&&Ol(e,t,a,$r,n),s===l)break;l=s}l!==null&&a.stopPropagation()}else Ol(e,t,a,null,n)}}var $r=null;function ks(e,t,n,a){if($r=null,e=pi(a),e=dn(e),e!==null)if(t=bn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Eu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $r=e,null}function Lu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rf()){case hi:return 1;case wu:return 4;case Or:case lf:return 16;case bu:return 536870912;default:return 16}default:return 16}}var jt=null,Ei=null,wr=null;function Ru(){if(wr)return wr;var e,t=Ei,n=t.length,a,l="value"in jt?jt.value:jt.textContent,s=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(a=1;a<=i&&t[n-a]===l[s-a];a++);return wr=l.slice(e,1<a?1-a:void 0)}function br(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function or(){return!0}function wo(){return!1}function at(e){function t(n,a,l,s,i){this._reactName=n,this._targetInst=l,this.type=a,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?or:wo,this.isPropagationStopped=wo,this}return Ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),t}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=at(Zn),Ka=Ne({},Zn,{view:0,detail:0}),Ef=at(Ka),xl,Tl,ia,ll=Ne({},Ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ni,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ia&&(ia&&e.type==="mousemove"?(xl=e.screenX-ia.screenX,Tl=e.screenY-ia.screenY):Tl=xl=0,ia=e),xl)},movementY:function(e){return"movementY"in e?e.movementY:Tl}}),bo=at(ll),Sf=Ne({},ll,{dataTransfer:0}),Nf=at(Sf),kf=Ne({},Ka,{relatedTarget:0}),Dl=at(kf),wf=Ne({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),bf=at(wf),_f=Ne({},Zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cf=at(_f),xf=Ne({},Zn,{data:0}),_o=at(xf),Tf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Df={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},If={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=If[e])?!!t[e]:!1}function Ni(){return Pf}var Lf=Ne({},Ka,{key:function(e){if(e.key){var t=Tf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=br(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Df[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ni,charCode:function(e){return e.type==="keypress"?br(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?br(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rf=at(Lf),Af=Ne({},ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Co=at(Af),Mf=Ne({},Ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ni}),Of=at(Mf),Uf=Ne({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ff=at(Uf),$f=Ne({},ll,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zf=at($f),Bf=[9,13,27,32],ki=Pt&&"CompositionEvent"in window,Na=null;Pt&&"documentMode"in document&&(Na=document.documentMode);var jf=Pt&&"TextEvent"in window&&!Na,Au=Pt&&(!ki||Na&&8<Na&&11>=Na),xo=" ",To=!1;function Mu(e,t){switch(e){case"keyup":return Bf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ou(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Tn=!1;function Vf(e,t){switch(e){case"compositionend":return Ou(t);case"keypress":return t.which!==32?null:(To=!0,xo);case"textInput":return e=t.data,e===xo&&To?null:e;default:return null}}function Wf(e,t){if(Tn)return e==="compositionend"||!ki&&Mu(e,t)?(e=Ru(),wr=Ei=jt=null,Tn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Au&&t.locale!=="ko"?null:t.data;default:return null}}var Hf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Do(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Hf[e.type]:t==="textarea"}function Uu(e,t,n,a){pu(a),t=zr(t,"onChange"),0<t.length&&(n=new Si("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var ka=null,Aa=null;function Qf(e){Ju(e,0)}function sl(e){var t=Pn(e);if(iu(t))return e}function qf(e,t){if(e==="change")return t}var Fu=!1;if(Pt){var Il;if(Pt){var Pl="oninput"in document;if(!Pl){var Io=document.createElement("div");Io.setAttribute("oninput","return;"),Pl=typeof Io.oninput=="function"}Il=Pl}else Il=!1;Fu=Il&&(!document.documentMode||9<document.documentMode)}function Po(){ka&&(ka.detachEvent("onpropertychange",$u),Aa=ka=null)}function $u(e){if(e.propertyName==="value"&&sl(Aa)){var t=[];Uu(t,Aa,e,pi(e)),vu(Qf,t)}}function Jf(e,t,n){e==="focusin"?(Po(),ka=t,Aa=n,ka.attachEvent("onpropertychange",$u)):e==="focusout"&&Po()}function Yf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return sl(Aa)}function Kf(e,t){if(e==="click")return sl(t)}function Gf(e,t){if(e==="input"||e==="change")return sl(t)}function Xf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yt=typeof Object.is=="function"?Object.is:Xf;function Ma(e,t){if(yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var l=n[a];if(!rs.call(t,l)||!yt(e[l],t[l]))return!1}return!0}function Lo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ro(e,t){var n=Lo(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lo(n)}}function zu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Bu(){for(var e=window,t=Rr();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Rr(e.document)}return t}function wi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Zf(e){var t=Bu(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&zu(n.ownerDocument.documentElement,n)){if(a!==null&&wi(n)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,s=Math.min(a.start,l);a=a.end===void 0?s:Math.min(a.end,l),!e.extend&&s>a&&(l=a,a=s,s=l),l=Ro(n,s);var i=Ro(n,a);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),s>a?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ep=Pt&&"documentMode"in document&&11>=document.documentMode,Dn=null,ws=null,wa=null,bs=!1;function Ao(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bs||Dn==null||Dn!==Rr(a)||(a=Dn,"selectionStart"in a&&wi(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),wa&&Ma(wa,a)||(wa=a,a=zr(ws,"onSelect"),0<a.length&&(t=new Si("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=Dn)))}function cr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var In={animationend:cr("Animation","AnimationEnd"),animationiteration:cr("Animation","AnimationIteration"),animationstart:cr("Animation","AnimationStart"),transitionend:cr("Transition","TransitionEnd")},Ll={},ju={};Pt&&(ju=document.createElement("div").style,"AnimationEvent"in window||(delete In.animationend.animation,delete In.animationiteration.animation,delete In.animationstart.animation),"TransitionEvent"in window||delete In.transitionend.transition);function il(e){if(Ll[e])return Ll[e];if(!In[e])return e;var t=In[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ju)return Ll[e]=t[n];return e}var Vu=il("animationend"),Wu=il("animationiteration"),Hu=il("animationstart"),Qu=il("transitionend"),qu=new Map,Mo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nn(e,t){qu.set(e,t),wn(t,[e])}for(var Rl=0;Rl<Mo.length;Rl++){var Al=Mo[Rl],tp=Al.toLowerCase(),np=Al[0].toUpperCase()+Al.slice(1);nn(tp,"on"+np)}nn(Vu,"onAnimationEnd");nn(Wu,"onAnimationIteration");nn(Hu,"onAnimationStart");nn("dblclick","onDoubleClick");nn("focusin","onFocus");nn("focusout","onBlur");nn(Qu,"onTransitionEnd");Hn("onMouseEnter",["mouseout","mouseover"]);Hn("onMouseLeave",["mouseout","mouseover"]);Hn("onPointerEnter",["pointerout","pointerover"]);Hn("onPointerLeave",["pointerout","pointerover"]);wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wn("onBeforeInput",["compositionend","keypress","textInput","paste"]);wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ap=new Set("cancel close invalid load scroll toggle".split(" ").concat(va));function Oo(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,ef(a,t,void 0,e),e.currentTarget=null}function Ju(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],l=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var i=a.length-1;0<=i;i--){var o=a[i],c=o.instance,m=o.currentTarget;if(o=o.listener,c!==s&&l.isPropagationStopped())break e;Oo(l,o,m),s=c}else for(i=0;i<a.length;i++){if(o=a[i],c=o.instance,m=o.currentTarget,o=o.listener,c!==s&&l.isPropagationStopped())break e;Oo(l,o,m),s=c}}}if(Mr)throw e=Es,Mr=!1,Es=null,e}function he(e,t){var n=t[Ds];n===void 0&&(n=t[Ds]=new Set);var a=e+"__bubble";n.has(a)||(Yu(t,e,2,!1),n.add(a))}function Ml(e,t,n){var a=0;t&&(a|=4),Yu(n,e,a,t)}var ur="_reactListening"+Math.random().toString(36).slice(2);function Oa(e){if(!e[ur]){e[ur]=!0,nu.forEach(function(n){n!=="selectionchange"&&(ap.has(n)||Ml(n,!1,e),Ml(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ur]||(t[ur]=!0,Ml("selectionchange",!1,t))}}function Yu(e,t,n,a){switch(Lu(t)){case 1:var l=gf;break;case 4:l=vf;break;default:l=vi}n=l.bind(null,t,n,e),l=void 0,!vs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),a?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Ol(e,t,n,a,l){var s=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var i=a.tag;if(i===3||i===4){var o=a.stateNode.containerInfo;if(o===l||o.nodeType===8&&o.parentNode===l)break;if(i===4)for(i=a.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;i=i.return}for(;o!==null;){if(i=dn(o),i===null)return;if(c=i.tag,c===5||c===6){a=s=i;continue e}o=o.parentNode}}a=a.return}vu(function(){var m=s,p=pi(n),d=[];e:{var h=qu.get(e);if(h!==void 0){var v=Si,S=e;switch(e){case"keypress":if(br(n)===0)break e;case"keydown":case"keyup":v=Rf;break;case"focusin":S="focus",v=Dl;break;case"focusout":S="blur",v=Dl;break;case"beforeblur":case"afterblur":v=Dl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Nf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Of;break;case Vu:case Wu:case Hu:v=bf;break;case Qu:v=Ff;break;case"scroll":v=Ef;break;case"wheel":v=zf;break;case"copy":case"cut":case"paste":v=Cf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Co}var b=(t&4)!==0,E=!b&&e==="scroll",y=b?h!==null?h+"Capture":null:h;b=[];for(var f=m,g;f!==null;){g=f;var k=g.stateNode;if(g.tag===5&&k!==null&&(g=k,y!==null&&(k=Ia(f,y),k!=null&&b.push(Ua(f,k,g)))),E)break;f=f.return}0<b.length&&(h=new v(h,S,null,n,p),d.push({event:h,listeners:b}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&n!==ys&&(S=n.relatedTarget||n.fromElement)&&(dn(S)||S[Lt]))break e;if((v||h)&&(h=p.window===p?p:(h=p.ownerDocument)?h.defaultView||h.parentWindow:window,v?(S=n.relatedTarget||n.toElement,v=m,S=S?dn(S):null,S!==null&&(E=bn(S),S!==E||S.tag!==5&&S.tag!==6)&&(S=null)):(v=null,S=m),v!==S)){if(b=bo,k="onMouseLeave",y="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(b=Co,k="onPointerLeave",y="onPointerEnter",f="pointer"),E=v==null?h:Pn(v),g=S==null?h:Pn(S),h=new b(k,f+"leave",v,n,p),h.target=E,h.relatedTarget=g,k=null,dn(p)===m&&(b=new b(y,f+"enter",S,n,p),b.target=g,b.relatedTarget=E,k=b),E=k,v&&S)t:{for(b=v,y=S,f=0,g=b;g;g=_n(g))f++;for(g=0,k=y;k;k=_n(k))g++;for(;0<f-g;)b=_n(b),f--;for(;0<g-f;)y=_n(y),g--;for(;f--;){if(b===y||y!==null&&b===y.alternate)break t;b=_n(b),y=_n(y)}b=null}else b=null;v!==null&&Uo(d,h,v,b,!1),S!==null&&E!==null&&Uo(d,E,S,b,!0)}}e:{if(h=m?Pn(m):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var T=qf;else if(Do(h))if(Fu)T=Gf;else{T=Yf;var x=Jf}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=Kf);if(T&&(T=T(e,m))){Uu(d,T,n,p);break e}x&&x(e,h,m),e==="focusout"&&(x=h._wrapperState)&&x.controlled&&h.type==="number"&&ms(h,"number",h.value)}switch(x=m?Pn(m):window,e){case"focusin":(Do(x)||x.contentEditable==="true")&&(Dn=x,ws=m,wa=null);break;case"focusout":wa=ws=Dn=null;break;case"mousedown":bs=!0;break;case"contextmenu":case"mouseup":case"dragend":bs=!1,Ao(d,n,p);break;case"selectionchange":if(ep)break;case"keydown":case"keyup":Ao(d,n,p)}var _;if(ki)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Tn?Mu(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Au&&n.locale!=="ko"&&(Tn||C!=="onCompositionStart"?C==="onCompositionEnd"&&Tn&&(_=Ru()):(jt=p,Ei="value"in jt?jt.value:jt.textContent,Tn=!0)),x=zr(m,C),0<x.length&&(C=new _o(C,e,null,n,p),d.push({event:C,listeners:x}),_?C.data=_:(_=Ou(n),_!==null&&(C.data=_)))),(_=jf?Vf(e,n):Wf(e,n))&&(m=zr(m,"onBeforeInput"),0<m.length&&(p=new _o("onBeforeInput","beforeinput",null,n,p),d.push({event:p,listeners:m}),p.data=_))}Ju(d,t)})}function Ua(e,t,n){return{instance:e,listener:t,currentTarget:n}}function zr(e,t){for(var n=t+"Capture",a=[];e!==null;){var l=e,s=l.stateNode;l.tag===5&&s!==null&&(l=s,s=Ia(e,n),s!=null&&a.unshift(Ua(e,s,l)),s=Ia(e,t),s!=null&&a.push(Ua(e,s,l))),e=e.return}return a}function _n(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Uo(e,t,n,a,l){for(var s=t._reactName,i=[];n!==null&&n!==a;){var o=n,c=o.alternate,m=o.stateNode;if(c!==null&&c===a)break;o.tag===5&&m!==null&&(o=m,l?(c=Ia(n,s),c!=null&&i.unshift(Ua(n,c,o))):l||(c=Ia(n,s),c!=null&&i.push(Ua(n,c,o)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var rp=/\r\n?/g,lp=/\u0000|\uFFFD/g;function Fo(e){return(typeof e=="string"?e:""+e).replace(rp,`
`).replace(lp,"")}function mr(e,t,n){if(t=Fo(t),Fo(e)!==t&&n)throw Error(j(425))}function Br(){}var _s=null,Cs=null;function xs(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ts=typeof setTimeout=="function"?setTimeout:void 0,sp=typeof clearTimeout=="function"?clearTimeout:void 0,$o=typeof Promise=="function"?Promise:void 0,ip=typeof queueMicrotask=="function"?queueMicrotask:typeof $o<"u"?function(e){return $o.resolve(null).then(e).catch(op)}:Ts;function op(e){setTimeout(function(){throw e})}function Ul(e,t){var n=t,a=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(a===0){e.removeChild(l),Ra(t);return}a--}else n!=="$"&&n!=="$?"&&n!=="$!"||a++;n=l}while(n);Ra(t)}function Jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zo(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ea=Math.random().toString(36).slice(2),Et="__reactFiber$"+ea,Fa="__reactProps$"+ea,Lt="__reactContainer$"+ea,Ds="__reactEvents$"+ea,cp="__reactListeners$"+ea,up="__reactHandles$"+ea;function dn(e){var t=e[Et];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Lt]||n[Et]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=zo(e);e!==null;){if(n=e[Et])return n;e=zo(e)}return t}e=n,n=e.parentNode}return null}function Ga(e){return e=e[Et]||e[Lt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Pn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(j(33))}function ol(e){return e[Fa]||null}var Is=[],Ln=-1;function an(e){return{current:e}}function ye(e){0>Ln||(e.current=Is[Ln],Is[Ln]=null,Ln--)}function pe(e,t){Ln++,Is[Ln]=e.current,e.current=t}var tn={},$e=an(tn),Je=an(!1),vn=tn;function Qn(e,t){var n=e.type.contextTypes;if(!n)return tn;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var l={},s;for(s in n)l[s]=t[s];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ye(e){return e=e.childContextTypes,e!=null}function jr(){ye(Je),ye($e)}function Bo(e,t,n){if($e.current!==tn)throw Error(j(168));pe($e,t),pe(Je,n)}function Ku(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return n;a=a.getChildContext();for(var l in a)if(!(l in t))throw Error(j(108,qd(e)||"Unknown",l));return Ne({},n,a)}function Vr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tn,vn=$e.current,pe($e,e),pe(Je,Je.current),!0}function jo(e,t,n){var a=e.stateNode;if(!a)throw Error(j(169));n?(e=Ku(e,t,vn),a.__reactInternalMemoizedMergedChildContext=e,ye(Je),ye($e),pe($e,e)):ye(Je),pe(Je,n)}var xt=null,cl=!1,Fl=!1;function Gu(e){xt===null?xt=[e]:xt.push(e)}function mp(e){cl=!0,Gu(e)}function rn(){if(!Fl&&xt!==null){Fl=!0;var e=0,t=de;try{var n=xt;for(de=1;e<n.length;e++){var a=n[e];do a=a(!0);while(a!==null)}xt=null,cl=!1}catch(l){throw xt!==null&&(xt=xt.slice(e+1)),ku(hi,rn),l}finally{de=t,Fl=!1}}return null}var Rn=[],An=0,Wr=null,Hr=0,rt=[],lt=0,En=null,Tt=1,Dt="";function on(e,t){Rn[An++]=Hr,Rn[An++]=Wr,Wr=e,Hr=t}function Xu(e,t,n){rt[lt++]=Tt,rt[lt++]=Dt,rt[lt++]=En,En=e;var a=Tt;e=Dt;var l=32-pt(a)-1;a&=~(1<<l),n+=1;var s=32-pt(t)+l;if(30<s){var i=l-l%5;s=(a&(1<<i)-1).toString(32),a>>=i,l-=i,Tt=1<<32-pt(t)+l|n<<l|a,Dt=s+e}else Tt=1<<s|n<<l|a,Dt=e}function bi(e){e.return!==null&&(on(e,1),Xu(e,1,0))}function _i(e){for(;e===Wr;)Wr=Rn[--An],Rn[An]=null,Hr=Rn[--An],Rn[An]=null;for(;e===En;)En=rt[--lt],rt[lt]=null,Dt=rt[--lt],rt[lt]=null,Tt=rt[--lt],rt[lt]=null}var et=null,Ze=null,ge=!1,ft=null;function Zu(e,t){var n=st(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Vo(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,et=e,Ze=Jt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,et=e,Ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=En!==null?{id:Tt,overflow:Dt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=st(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,et=e,Ze=null,!0):!1;default:return!1}}function Ps(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ls(e){if(ge){var t=Ze;if(t){var n=t;if(!Vo(e,t)){if(Ps(e))throw Error(j(418));t=Jt(n.nextSibling);var a=et;t&&Vo(e,t)?Zu(a,n):(e.flags=e.flags&-4097|2,ge=!1,et=e)}}else{if(Ps(e))throw Error(j(418));e.flags=e.flags&-4097|2,ge=!1,et=e}}}function Wo(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;et=e}function dr(e){if(e!==et)return!1;if(!ge)return Wo(e),ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xs(e.type,e.memoizedProps)),t&&(t=Ze)){if(Ps(e))throw em(),Error(j(418));for(;t;)Zu(e,t),t=Jt(t.nextSibling)}if(Wo(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ze=Jt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ze=null}}else Ze=et?Jt(e.stateNode.nextSibling):null;return!0}function em(){for(var e=Ze;e;)e=Jt(e.nextSibling)}function qn(){Ze=et=null,ge=!1}function Ci(e){ft===null?ft=[e]:ft.push(e)}var dp=Mt.ReactCurrentBatchConfig;function oa(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var a=n.stateNode}if(!a)throw Error(j(147,e));var l=a,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var o=l.refs;i===null?delete o[s]:o[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,e))}return e}function fr(e,t){throw e=Object.prototype.toString.call(t),Error(j(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ho(e){var t=e._init;return t(e._payload)}function tm(e){function t(y,f){if(e){var g=y.deletions;g===null?(y.deletions=[f],y.flags|=16):g.push(f)}}function n(y,f){if(!e)return null;for(;f!==null;)t(y,f),f=f.sibling;return null}function a(y,f){for(y=new Map;f!==null;)f.key!==null?y.set(f.key,f):y.set(f.index,f),f=f.sibling;return y}function l(y,f){return y=Xt(y,f),y.index=0,y.sibling=null,y}function s(y,f,g){return y.index=g,e?(g=y.alternate,g!==null?(g=g.index,g<f?(y.flags|=2,f):g):(y.flags|=2,f)):(y.flags|=1048576,f)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,f,g,k){return f===null||f.tag!==6?(f=Hl(g,y.mode,k),f.return=y,f):(f=l(f,g),f.return=y,f)}function c(y,f,g,k){var T=g.type;return T===xn?p(y,f,g.props.children,k,g.key):f!==null&&(f.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ft&&Ho(T)===f.type)?(k=l(f,g.props),k.ref=oa(y,f,g),k.return=y,k):(k=Pr(g.type,g.key,g.props,null,y.mode,k),k.ref=oa(y,f,g),k.return=y,k)}function m(y,f,g,k){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=Ql(g,y.mode,k),f.return=y,f):(f=l(f,g.children||[]),f.return=y,f)}function p(y,f,g,k,T){return f===null||f.tag!==7?(f=yn(g,y.mode,k,T),f.return=y,f):(f=l(f,g),f.return=y,f)}function d(y,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Hl(""+f,y.mode,g),f.return=y,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case nr:return g=Pr(f.type,f.key,f.props,null,y.mode,g),g.ref=oa(y,null,f),g.return=y,g;case Cn:return f=Ql(f,y.mode,g),f.return=y,f;case Ft:var k=f._init;return d(y,k(f._payload),g)}if(ya(f)||aa(f))return f=yn(f,y.mode,g,null),f.return=y,f;fr(y,f)}return null}function h(y,f,g,k){var T=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return T!==null?null:o(y,f,""+g,k);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case nr:return g.key===T?c(y,f,g,k):null;case Cn:return g.key===T?m(y,f,g,k):null;case Ft:return T=g._init,h(y,f,T(g._payload),k)}if(ya(g)||aa(g))return T!==null?null:p(y,f,g,k,null);fr(y,g)}return null}function v(y,f,g,k,T){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(g)||null,o(f,y,""+k,T);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case nr:return y=y.get(k.key===null?g:k.key)||null,c(f,y,k,T);case Cn:return y=y.get(k.key===null?g:k.key)||null,m(f,y,k,T);case Ft:var x=k._init;return v(y,f,g,x(k._payload),T)}if(ya(k)||aa(k))return y=y.get(g)||null,p(f,y,k,T,null);fr(f,k)}return null}function S(y,f,g,k){for(var T=null,x=null,_=f,C=f=0,F=null;_!==null&&C<g.length;C++){_.index>C?(F=_,_=null):F=_.sibling;var A=h(y,_,g[C],k);if(A===null){_===null&&(_=F);break}e&&_&&A.alternate===null&&t(y,_),f=s(A,f,C),x===null?T=A:x.sibling=A,x=A,_=F}if(C===g.length)return n(y,_),ge&&on(y,C),T;if(_===null){for(;C<g.length;C++)_=d(y,g[C],k),_!==null&&(f=s(_,f,C),x===null?T=_:x.sibling=_,x=_);return ge&&on(y,C),T}for(_=a(y,_);C<g.length;C++)F=v(_,y,C,g[C],k),F!==null&&(e&&F.alternate!==null&&_.delete(F.key===null?C:F.key),f=s(F,f,C),x===null?T=F:x.sibling=F,x=F);return e&&_.forEach(function(M){return t(y,M)}),ge&&on(y,C),T}function b(y,f,g,k){var T=aa(g);if(typeof T!="function")throw Error(j(150));if(g=T.call(g),g==null)throw Error(j(151));for(var x=T=null,_=f,C=f=0,F=null,A=g.next();_!==null&&!A.done;C++,A=g.next()){_.index>C?(F=_,_=null):F=_.sibling;var M=h(y,_,A.value,k);if(M===null){_===null&&(_=F);break}e&&_&&M.alternate===null&&t(y,_),f=s(M,f,C),x===null?T=M:x.sibling=M,x=M,_=F}if(A.done)return n(y,_),ge&&on(y,C),T;if(_===null){for(;!A.done;C++,A=g.next())A=d(y,A.value,k),A!==null&&(f=s(A,f,C),x===null?T=A:x.sibling=A,x=A);return ge&&on(y,C),T}for(_=a(y,_);!A.done;C++,A=g.next())A=v(_,y,C,A.value,k),A!==null&&(e&&A.alternate!==null&&_.delete(A.key===null?C:A.key),f=s(A,f,C),x===null?T=A:x.sibling=A,x=A);return e&&_.forEach(function(I){return t(y,I)}),ge&&on(y,C),T}function E(y,f,g,k){if(typeof g=="object"&&g!==null&&g.type===xn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case nr:e:{for(var T=g.key,x=f;x!==null;){if(x.key===T){if(T=g.type,T===xn){if(x.tag===7){n(y,x.sibling),f=l(x,g.props.children),f.return=y,y=f;break e}}else if(x.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ft&&Ho(T)===x.type){n(y,x.sibling),f=l(x,g.props),f.ref=oa(y,x,g),f.return=y,y=f;break e}n(y,x);break}else t(y,x);x=x.sibling}g.type===xn?(f=yn(g.props.children,y.mode,k,g.key),f.return=y,y=f):(k=Pr(g.type,g.key,g.props,null,y.mode,k),k.ref=oa(y,f,g),k.return=y,y=k)}return i(y);case Cn:e:{for(x=g.key;f!==null;){if(f.key===x)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(y,f.sibling),f=l(f,g.children||[]),f.return=y,y=f;break e}else{n(y,f);break}else t(y,f);f=f.sibling}f=Ql(g,y.mode,k),f.return=y,y=f}return i(y);case Ft:return x=g._init,E(y,f,x(g._payload),k)}if(ya(g))return S(y,f,g,k);if(aa(g))return b(y,f,g,k);fr(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(y,f.sibling),f=l(f,g),f.return=y,y=f):(n(y,f),f=Hl(g,y.mode,k),f.return=y,y=f),i(y)):n(y,f)}return E}var Jn=tm(!0),nm=tm(!1),Qr=an(null),qr=null,Mn=null,xi=null;function Ti(){xi=Mn=qr=null}function Di(e){var t=Qr.current;ye(Qr),e._currentValue=t}function Rs(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function jn(e,t){qr=e,xi=Mn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qe=!0),e.firstContext=null)}function ot(e){var t=e._currentValue;if(xi!==e)if(e={context:e,memoizedValue:t,next:null},Mn===null){if(qr===null)throw Error(j(308));Mn=e,qr.dependencies={lanes:0,firstContext:e}}else Mn=Mn.next=e;return t}var fn=null;function Ii(e){fn===null?fn=[e]:fn.push(e)}function am(e,t,n,a){var l=t.interleaved;return l===null?(n.next=n,Ii(t)):(n.next=l.next,l.next=n),t.interleaved=n,Rt(e,a)}function Rt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var $t=!1;function Pi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function It(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yt(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,ue&2){var l=a.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),a.pending=t,Rt(e,n)}return l=a.interleaved,l===null?(t.next=t,Ii(a)):(t.next=l.next,l.next=t),a.interleaved=t,Rt(e,n)}function _r(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,yi(e,n)}}function Qo(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?l=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?l=s=t:s=s.next=t}else l=s=t;n={baseState:a.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:a.shared,effects:a.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Jr(e,t,n,a){var l=e.updateQueue;$t=!1;var s=l.firstBaseUpdate,i=l.lastBaseUpdate,o=l.shared.pending;if(o!==null){l.shared.pending=null;var c=o,m=c.next;c.next=null,i===null?s=m:i.next=m,i=c;var p=e.alternate;p!==null&&(p=p.updateQueue,o=p.lastBaseUpdate,o!==i&&(o===null?p.firstBaseUpdate=m:o.next=m,p.lastBaseUpdate=c))}if(s!==null){var d=l.baseState;i=0,p=m=c=null,o=s;do{var h=o.lane,v=o.eventTime;if((a&h)===h){p!==null&&(p=p.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var S=e,b=o;switch(h=t,v=n,b.tag){case 1:if(S=b.payload,typeof S=="function"){d=S.call(v,d,h);break e}d=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=b.payload,h=typeof S=="function"?S.call(v,d,h):S,h==null)break e;d=Ne({},d,h);break e;case 2:$t=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=l.effects,h===null?l.effects=[o]:h.push(o))}else v={eventTime:v,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},p===null?(m=p=v,c=d):p=p.next=v,i|=h;if(o=o.next,o===null){if(o=l.shared.pending,o===null)break;h=o,o=h.next,h.next=null,l.lastBaseUpdate=h,l.shared.pending=null}}while(!0);if(p===null&&(c=d),l.baseState=c,l.firstBaseUpdate=m,l.lastBaseUpdate=p,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else s===null&&(l.shared.lanes=0);Nn|=i,e.lanes=i,e.memoizedState=d}}function qo(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],l=a.callback;if(l!==null){if(a.callback=null,a=n,typeof l!="function")throw Error(j(191,l));l.call(a)}}}var Xa={},Nt=an(Xa),$a=an(Xa),za=an(Xa);function pn(e){if(e===Xa)throw Error(j(174));return e}function Li(e,t){switch(pe(za,t),pe($a,e),pe(Nt,Xa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fs(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fs(t,e)}ye(Nt),pe(Nt,t)}function Yn(){ye(Nt),ye($a),ye(za)}function lm(e){pn(za.current);var t=pn(Nt.current),n=fs(t,e.type);t!==n&&(pe($a,e),pe(Nt,n))}function Ri(e){$a.current===e&&(ye(Nt),ye($a))}var Ee=an(0);function Yr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $l=[];function Ai(){for(var e=0;e<$l.length;e++)$l[e]._workInProgressVersionPrimary=null;$l.length=0}var Cr=Mt.ReactCurrentDispatcher,zl=Mt.ReactCurrentBatchConfig,Sn=0,Se=null,Te=null,Ie=null,Kr=!1,ba=!1,Ba=0,fp=0;function Oe(){throw Error(j(321))}function Mi(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yt(e[n],t[n]))return!1;return!0}function Oi(e,t,n,a,l,s){if(Sn=s,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Cr.current=e===null||e.memoizedState===null?gp:vp,e=n(a,l),ba){s=0;do{if(ba=!1,Ba=0,25<=s)throw Error(j(301));s+=1,Ie=Te=null,t.updateQueue=null,Cr.current=Ep,e=n(a,l)}while(ba)}if(Cr.current=Gr,t=Te!==null&&Te.next!==null,Sn=0,Ie=Te=Se=null,Kr=!1,t)throw Error(j(300));return e}function Ui(){var e=Ba!==0;return Ba=0,e}function vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?Se.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function ct(){if(Te===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=Ie===null?Se.memoizedState:Ie.next;if(t!==null)Ie=t,Te=e;else{if(e===null)throw Error(j(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Ie===null?Se.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function ja(e,t){return typeof t=="function"?t(e):t}function Bl(e){var t=ct(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var a=Te,l=a.baseQueue,s=n.pending;if(s!==null){if(l!==null){var i=l.next;l.next=s.next,s.next=i}a.baseQueue=l=s,n.pending=null}if(l!==null){s=l.next,a=a.baseState;var o=i=null,c=null,m=s;do{var p=m.lane;if((Sn&p)===p)c!==null&&(c=c.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),a=m.hasEagerState?m.eagerState:e(a,m.action);else{var d={lane:p,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};c===null?(o=c=d,i=a):c=c.next=d,Se.lanes|=p,Nn|=p}m=m.next}while(m!==null&&m!==s);c===null?i=a:c.next=o,yt(a,t.memoizedState)||(qe=!0),t.memoizedState=a,t.baseState=i,t.baseQueue=c,n.lastRenderedState=a}if(e=n.interleaved,e!==null){l=e;do s=l.lane,Se.lanes|=s,Nn|=s,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function jl(e){var t=ct(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var a=n.dispatch,l=n.pending,s=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do s=e(s,i.action),i=i.next;while(i!==l);yt(s,t.memoizedState)||(qe=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,a]}function sm(){}function im(e,t){var n=Se,a=ct(),l=t(),s=!yt(a.memoizedState,l);if(s&&(a.memoizedState=l,qe=!0),a=a.queue,Fi(um.bind(null,n,a,e),[e]),a.getSnapshot!==t||s||Ie!==null&&Ie.memoizedState.tag&1){if(n.flags|=2048,Va(9,cm.bind(null,n,a,l,t),void 0,null),Pe===null)throw Error(j(349));Sn&30||om(n,t,l)}return l}function om(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function cm(e,t,n,a){t.value=n,t.getSnapshot=a,mm(t)&&dm(e)}function um(e,t,n){return n(function(){mm(t)&&dm(e)})}function mm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yt(e,n)}catch{return!0}}function dm(e){var t=Rt(e,1);t!==null&&ht(t,e,1,-1)}function Jo(e){var t=vt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:e},t.queue=e,e=e.dispatch=yp.bind(null,Se,e),[t.memoizedState,e]}function Va(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e)),e}function fm(){return ct().memoizedState}function xr(e,t,n,a){var l=vt();Se.flags|=e,l.memoizedState=Va(1|t,n,void 0,a===void 0?null:a)}function ul(e,t,n,a){var l=ct();a=a===void 0?null:a;var s=void 0;if(Te!==null){var i=Te.memoizedState;if(s=i.destroy,a!==null&&Mi(a,i.deps)){l.memoizedState=Va(t,n,s,a);return}}Se.flags|=e,l.memoizedState=Va(1|t,n,s,a)}function Yo(e,t){return xr(8390656,8,e,t)}function Fi(e,t){return ul(2048,8,e,t)}function pm(e,t){return ul(4,2,e,t)}function hm(e,t){return ul(4,4,e,t)}function ym(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gm(e,t,n){return n=n!=null?n.concat([e]):null,ul(4,4,ym.bind(null,t,e),n)}function $i(){}function vm(e,t){var n=ct();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&Mi(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Em(e,t){var n=ct();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&Mi(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function Sm(e,t,n){return Sn&21?(yt(n,t)||(n=_u(),Se.lanes|=n,Nn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qe=!0),e.memoizedState=n)}function pp(e,t){var n=de;de=n!==0&&4>n?n:4,e(!0);var a=zl.transition;zl.transition={};try{e(!1),t()}finally{de=n,zl.transition=a}}function Nm(){return ct().memoizedState}function hp(e,t,n){var a=Gt(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},km(e))wm(t,n);else if(n=am(e,t,n,a),n!==null){var l=Be();ht(n,e,a,l),bm(n,t,a)}}function yp(e,t,n){var a=Gt(e),l={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(km(e))wm(t,l);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,o=s(i,n);if(l.hasEagerState=!0,l.eagerState=o,yt(o,i)){var c=t.interleaved;c===null?(l.next=l,Ii(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=am(e,t,l,a),n!==null&&(l=Be(),ht(n,e,a,l),bm(n,t,a))}}function km(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function wm(e,t){ba=Kr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function bm(e,t,n){if(n&4194240){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,yi(e,n)}}var Gr={readContext:ot,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useInsertionEffect:Oe,useLayoutEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useMutableSource:Oe,useSyncExternalStore:Oe,useId:Oe,unstable_isNewReconciler:!1},gp={readContext:ot,useCallback:function(e,t){return vt().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:Yo,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,xr(4194308,4,ym.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xr(4194308,4,e,t)},useInsertionEffect:function(e,t){return xr(4,2,e,t)},useMemo:function(e,t){var n=vt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=vt();return t=n!==void 0?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=hp.bind(null,Se,e),[a.memoizedState,e]},useRef:function(e){var t=vt();return e={current:e},t.memoizedState=e},useState:Jo,useDebugValue:$i,useDeferredValue:function(e){return vt().memoizedState=e},useTransition:function(){var e=Jo(!1),t=e[0];return e=pp.bind(null,e[1]),vt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=Se,l=vt();if(ge){if(n===void 0)throw Error(j(407));n=n()}else{if(n=t(),Pe===null)throw Error(j(349));Sn&30||om(a,t,n)}l.memoizedState=n;var s={value:n,getSnapshot:t};return l.queue=s,Yo(um.bind(null,a,s,e),[e]),a.flags|=2048,Va(9,cm.bind(null,a,s,n,t),void 0,null),n},useId:function(){var e=vt(),t=Pe.identifierPrefix;if(ge){var n=Dt,a=Tt;n=(a&~(1<<32-pt(a)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ba++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=fp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vp={readContext:ot,useCallback:vm,useContext:ot,useEffect:Fi,useImperativeHandle:gm,useInsertionEffect:pm,useLayoutEffect:hm,useMemo:Em,useReducer:Bl,useRef:fm,useState:function(){return Bl(ja)},useDebugValue:$i,useDeferredValue:function(e){var t=ct();return Sm(t,Te.memoizedState,e)},useTransition:function(){var e=Bl(ja)[0],t=ct().memoizedState;return[e,t]},useMutableSource:sm,useSyncExternalStore:im,useId:Nm,unstable_isNewReconciler:!1},Ep={readContext:ot,useCallback:vm,useContext:ot,useEffect:Fi,useImperativeHandle:gm,useInsertionEffect:pm,useLayoutEffect:hm,useMemo:Em,useReducer:jl,useRef:fm,useState:function(){return jl(ja)},useDebugValue:$i,useDeferredValue:function(e){var t=ct();return Te===null?t.memoizedState=e:Sm(t,Te.memoizedState,e)},useTransition:function(){var e=jl(ja)[0],t=ct().memoizedState;return[e,t]},useMutableSource:sm,useSyncExternalStore:im,useId:Nm,unstable_isNewReconciler:!1};function mt(e,t){if(e&&e.defaultProps){t=Ne({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function As(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:Ne({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ml={isMounted:function(e){return(e=e._reactInternals)?bn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Be(),l=Gt(e),s=It(a,l);s.payload=t,n!=null&&(s.callback=n),t=Yt(e,s,l),t!==null&&(ht(t,e,l,a),_r(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Be(),l=Gt(e),s=It(a,l);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Yt(e,s,l),t!==null&&(ht(t,e,l,a),_r(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Be(),a=Gt(e),l=It(n,a);l.tag=2,t!=null&&(l.callback=t),t=Yt(e,l,a),t!==null&&(ht(t,e,a,n),_r(t,e,a))}};function Ko(e,t,n,a,l,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,s,i):t.prototype&&t.prototype.isPureReactComponent?!Ma(n,a)||!Ma(l,s):!0}function _m(e,t,n){var a=!1,l=tn,s=t.contextType;return typeof s=="object"&&s!==null?s=ot(s):(l=Ye(t)?vn:$e.current,a=t.contextTypes,s=(a=a!=null)?Qn(e,l):tn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ml,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=s),t}function Go(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&ml.enqueueReplaceState(t,t.state,null)}function Ms(e,t,n,a){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Pi(e);var s=t.contextType;typeof s=="object"&&s!==null?l.context=ot(s):(s=Ye(t)?vn:$e.current,l.context=Qn(e,s)),l.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(As(e,t,s,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&ml.enqueueReplaceState(l,l.state,null),Jr(e,n,l,a),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Kn(e,t){try{var n="",a=t;do n+=Qd(a),a=a.return;while(a);var l=n}catch(s){l=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:l,digest:null}}function Vl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Os(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Sp=typeof WeakMap=="function"?WeakMap:Map;function Cm(e,t,n){n=It(-1,n),n.tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){Zr||(Zr=!0,Qs=a),Os(e,t)},n}function xm(e,t,n){n=It(-1,n),n.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var l=t.value;n.payload=function(){return a(l)},n.callback=function(){Os(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Os(e,t),typeof a!="function"&&(Kt===null?Kt=new Set([this]):Kt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Xo(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Sp;var l=new Set;a.set(t,l)}else l=a.get(t),l===void 0&&(l=new Set,a.set(t,l));l.has(n)||(l.add(n),e=Ap.bind(null,e,t,n),t.then(e,e))}function Zo(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ec(e,t,n,a,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=It(-1,1),t.tag=2,Yt(n,t,1))),n.lanes|=1),e)}var Np=Mt.ReactCurrentOwner,qe=!1;function ze(e,t,n,a){t.child=e===null?nm(t,null,n,a):Jn(t,e.child,n,a)}function tc(e,t,n,a,l){n=n.render;var s=t.ref;return jn(t,l),a=Oi(e,t,n,a,s,l),n=Ui(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,At(e,t,l)):(ge&&n&&bi(t),t.flags|=1,ze(e,t,a,l),t.child)}function nc(e,t,n,a,l){if(e===null){var s=n.type;return typeof s=="function"&&!qi(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Tm(e,t,s,a,l)):(e=Pr(n.type,null,a,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&l)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ma,n(i,a)&&e.ref===t.ref)return At(e,t,l)}return t.flags|=1,e=Xt(s,a),e.ref=t.ref,e.return=t,t.child=e}function Tm(e,t,n,a,l){if(e!==null){var s=e.memoizedProps;if(Ma(s,a)&&e.ref===t.ref)if(qe=!1,t.pendingProps=a=s,(e.lanes&l)!==0)e.flags&131072&&(qe=!0);else return t.lanes=e.lanes,At(e,t,l)}return Us(e,t,n,a,l)}function Dm(e,t,n){var a=t.pendingProps,l=a.children,s=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(Un,Xe),Xe|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pe(Un,Xe),Xe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=s!==null?s.baseLanes:n,pe(Un,Xe),Xe|=a}else s!==null?(a=s.baseLanes|n,t.memoizedState=null):a=n,pe(Un,Xe),Xe|=a;return ze(e,t,l,n),t.child}function Im(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Us(e,t,n,a,l){var s=Ye(n)?vn:$e.current;return s=Qn(t,s),jn(t,l),n=Oi(e,t,n,a,s,l),a=Ui(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,At(e,t,l)):(ge&&a&&bi(t),t.flags|=1,ze(e,t,n,l),t.child)}function ac(e,t,n,a,l){if(Ye(n)){var s=!0;Vr(t)}else s=!1;if(jn(t,l),t.stateNode===null)Tr(e,t),_m(t,n,a),Ms(t,n,a,l),a=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var c=i.context,m=n.contextType;typeof m=="object"&&m!==null?m=ot(m):(m=Ye(n)?vn:$e.current,m=Qn(t,m));var p=n.getDerivedStateFromProps,d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==a||c!==m)&&Go(t,i,a,m),$t=!1;var h=t.memoizedState;i.state=h,Jr(t,a,i,l),c=t.memoizedState,o!==a||h!==c||Je.current||$t?(typeof p=="function"&&(As(t,n,p,a),c=t.memoizedState),(o=$t||Ko(t,n,o,a,h,c,m))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),i.props=a,i.state=c,i.context=m,a=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,rm(e,t),o=t.memoizedProps,m=t.type===t.elementType?o:mt(t.type,o),i.props=m,d=t.pendingProps,h=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=ot(c):(c=Ye(n)?vn:$e.current,c=Qn(t,c));var v=n.getDerivedStateFromProps;(p=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==d||h!==c)&&Go(t,i,a,c),$t=!1,h=t.memoizedState,i.state=h,Jr(t,a,i,l);var S=t.memoizedState;o!==d||h!==S||Je.current||$t?(typeof v=="function"&&(As(t,n,v,a),S=t.memoizedState),(m=$t||Ko(t,n,m,a,h,S,c)||!1)?(p||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,S,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,S,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=S),i.props=a,i.state=S,i.context=c,a=m):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return Fs(e,t,n,a,s,l)}function Fs(e,t,n,a,l,s){Im(e,t);var i=(t.flags&128)!==0;if(!a&&!i)return l&&jo(t,n,!1),At(e,t,s);a=t.stateNode,Np.current=t;var o=i&&typeof n.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&i?(t.child=Jn(t,e.child,null,s),t.child=Jn(t,null,o,s)):ze(e,t,o,s),t.memoizedState=a.state,l&&jo(t,n,!0),t.child}function Pm(e){var t=e.stateNode;t.pendingContext?Bo(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Bo(e,t.context,!1),Li(e,t.containerInfo)}function rc(e,t,n,a,l){return qn(),Ci(l),t.flags|=256,ze(e,t,n,a),t.child}var $s={dehydrated:null,treeContext:null,retryLane:0};function zs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lm(e,t,n){var a=t.pendingProps,l=Ee.current,s=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(l&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),pe(Ee,l&1),e===null)return Ls(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=a.children,e=a.fallback,s?(a=t.mode,s=t.child,i={mode:"hidden",children:i},!(a&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=pl(i,a,0,null),e=yn(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=zs(n),t.memoizedState=$s,e):zi(t,i));if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null))return kp(e,t,i,a,o,l,n);if(s){s=a.fallback,i=t.mode,l=e.child,o=l.sibling;var c={mode:"hidden",children:a.children};return!(i&1)&&t.child!==l?(a=t.child,a.childLanes=0,a.pendingProps=c,t.deletions=null):(a=Xt(l,c),a.subtreeFlags=l.subtreeFlags&14680064),o!==null?s=Xt(o,s):(s=yn(s,i,n,null),s.flags|=2),s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,i=e.child.memoizedState,i=i===null?zs(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=$s,a}return s=e.child,e=s.sibling,a=Xt(s,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=n),a.return=t,a.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function zi(e,t){return t=pl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function pr(e,t,n,a){return a!==null&&Ci(a),Jn(t,e.child,null,n),e=zi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function kp(e,t,n,a,l,s,i){if(n)return t.flags&256?(t.flags&=-257,a=Vl(Error(j(422))),pr(e,t,i,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=a.fallback,l=t.mode,a=pl({mode:"visible",children:a.children},l,0,null),s=yn(s,l,i,null),s.flags|=2,a.return=t,s.return=t,a.sibling=s,t.child=a,t.mode&1&&Jn(t,e.child,null,i),t.child.memoizedState=zs(i),t.memoizedState=$s,s);if(!(t.mode&1))return pr(e,t,i,null);if(l.data==="$!"){if(a=l.nextSibling&&l.nextSibling.dataset,a)var o=a.dgst;return a=o,s=Error(j(419)),a=Vl(s,a,void 0),pr(e,t,i,a)}if(o=(i&e.childLanes)!==0,qe||o){if(a=Pe,a!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(a.suspendedLanes|i)?0:l,l!==0&&l!==s.retryLane&&(s.retryLane=l,Rt(e,l),ht(a,e,l,-1))}return Qi(),a=Vl(Error(j(421))),pr(e,t,i,a)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Mp.bind(null,e),l._reactRetry=t,null):(e=s.treeContext,Ze=Jt(l.nextSibling),et=t,ge=!0,ft=null,e!==null&&(rt[lt++]=Tt,rt[lt++]=Dt,rt[lt++]=En,Tt=e.id,Dt=e.overflow,En=t),t=zi(t,a.children),t.flags|=4096,t)}function lc(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Rs(e.return,t,n)}function Wl(e,t,n,a,l){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:l}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=n,s.tailMode=l)}function Rm(e,t,n){var a=t.pendingProps,l=a.revealOrder,s=a.tail;if(ze(e,t,a.children,n),a=Ee.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lc(e,n,t);else if(e.tag===19)lc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(pe(Ee,a),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Yr(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Wl(t,!1,l,n,s);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Yr(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Wl(t,!0,n,null,s);break;case"together":Wl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Tr(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function At(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Nn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(j(153));if(t.child!==null){for(e=t.child,n=Xt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Xt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function wp(e,t,n){switch(t.tag){case 3:Pm(t),qn();break;case 5:lm(t);break;case 1:Ye(t.type)&&Vr(t);break;case 4:Li(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,l=t.memoizedProps.value;pe(Qr,a._currentValue),a._currentValue=l;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(pe(Ee,Ee.current&1),t.flags|=128,null):n&t.child.childLanes?Lm(e,t,n):(pe(Ee,Ee.current&1),e=At(e,t,n),e!==null?e.sibling:null);pe(Ee,Ee.current&1);break;case 19:if(a=(n&t.childLanes)!==0,e.flags&128){if(a)return Rm(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),pe(Ee,Ee.current),a)break;return null;case 22:case 23:return t.lanes=0,Dm(e,t,n)}return At(e,t,n)}var Am,Bs,Mm,Om;Am=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bs=function(){};Mm=function(e,t,n,a){var l=e.memoizedProps;if(l!==a){e=t.stateNode,pn(Nt.current);var s=null;switch(n){case"input":l=cs(e,l),a=cs(e,a),s=[];break;case"select":l=Ne({},l,{value:void 0}),a=Ne({},a,{value:void 0}),s=[];break;case"textarea":l=ds(e,l),a=ds(e,a),s=[];break;default:typeof l.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Br)}ps(n,a);var i;n=null;for(m in l)if(!a.hasOwnProperty(m)&&l.hasOwnProperty(m)&&l[m]!=null)if(m==="style"){var o=l[m];for(i in o)o.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(Ta.hasOwnProperty(m)?s||(s=[]):(s=s||[]).push(m,null));for(m in a){var c=a[m];if(o=l!=null?l[m]:void 0,a.hasOwnProperty(m)&&c!==o&&(c!=null||o!=null))if(m==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(m,n)),n=c;else m==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(s=s||[]).push(m,c)):m==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(m,""+c):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(Ta.hasOwnProperty(m)?(c!=null&&m==="onScroll"&&he("scroll",e),s||o===c||(s=[])):(s=s||[]).push(m,c))}n&&(s=s||[]).push("style",n);var m=s;(t.updateQueue=m)&&(t.flags|=4)}};Om=function(e,t,n,a){n!==a&&(t.flags|=4)};function ca(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ue(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags&14680064,a|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags,a|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function bp(e,t,n){var a=t.pendingProps;switch(_i(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(t),null;case 1:return Ye(t.type)&&jr(),Ue(t),null;case 3:return a=t.stateNode,Yn(),ye(Je),ye($e),Ai(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(dr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ft!==null&&(Ys(ft),ft=null))),Bs(e,t),Ue(t),null;case 5:Ri(t);var l=pn(za.current);if(n=t.type,e!==null&&t.stateNode!=null)Mm(e,t,n,a,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(j(166));return Ue(t),null}if(e=pn(Nt.current),dr(t)){a=t.stateNode,n=t.type;var s=t.memoizedProps;switch(a[Et]=t,a[Fa]=s,e=(t.mode&1)!==0,n){case"dialog":he("cancel",a),he("close",a);break;case"iframe":case"object":case"embed":he("load",a);break;case"video":case"audio":for(l=0;l<va.length;l++)he(va[l],a);break;case"source":he("error",a);break;case"img":case"image":case"link":he("error",a),he("load",a);break;case"details":he("toggle",a);break;case"input":po(a,s),he("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!s.multiple},he("invalid",a);break;case"textarea":yo(a,s),he("invalid",a)}ps(n,s),l=null;for(var i in s)if(s.hasOwnProperty(i)){var o=s[i];i==="children"?typeof o=="string"?a.textContent!==o&&(s.suppressHydrationWarning!==!0&&mr(a.textContent,o,e),l=["children",o]):typeof o=="number"&&a.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&mr(a.textContent,o,e),l=["children",""+o]):Ta.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&he("scroll",a)}switch(n){case"input":ar(a),ho(a,s,!0);break;case"textarea":ar(a),go(a);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(a.onclick=Br)}a=l,t.updateQueue=a,a!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=uu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=i.createElement(n,{is:a.is}):(e=i.createElement(n),n==="select"&&(i=e,a.multiple?i.multiple=!0:a.size&&(i.size=a.size))):e=i.createElementNS(e,n),e[Et]=t,e[Fa]=a,Am(e,t,!1,!1),t.stateNode=e;e:{switch(i=hs(n,a),n){case"dialog":he("cancel",e),he("close",e),l=a;break;case"iframe":case"object":case"embed":he("load",e),l=a;break;case"video":case"audio":for(l=0;l<va.length;l++)he(va[l],e);l=a;break;case"source":he("error",e),l=a;break;case"img":case"image":case"link":he("error",e),he("load",e),l=a;break;case"details":he("toggle",e),l=a;break;case"input":po(e,a),l=cs(e,a),he("invalid",e);break;case"option":l=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},l=Ne({},a,{value:void 0}),he("invalid",e);break;case"textarea":yo(e,a),l=ds(e,a),he("invalid",e);break;default:l=a}ps(n,l),o=l;for(s in o)if(o.hasOwnProperty(s)){var c=o[s];s==="style"?fu(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&mu(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Da(e,c):typeof c=="number"&&Da(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ta.hasOwnProperty(s)?c!=null&&s==="onScroll"&&he("scroll",e):c!=null&&ui(e,s,c,i))}switch(n){case"input":ar(e),ho(e,a,!1);break;case"textarea":ar(e),go(e);break;case"option":a.value!=null&&e.setAttribute("value",""+en(a.value));break;case"select":e.multiple=!!a.multiple,s=a.value,s!=null?Fn(e,!!a.multiple,s,!1):a.defaultValue!=null&&Fn(e,!!a.multiple,a.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Br)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ue(t),null;case 6:if(e&&t.stateNode!=null)Om(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(j(166));if(n=pn(za.current),pn(Nt.current),dr(t)){if(a=t.stateNode,n=t.memoizedProps,a[Et]=t,(s=a.nodeValue!==n)&&(e=et,e!==null))switch(e.tag){case 3:mr(a.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&mr(a.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else a=(n.nodeType===9?n:n.ownerDocument).createTextNode(a),a[Et]=t,t.stateNode=a}return Ue(t),null;case 13:if(ye(Ee),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ge&&Ze!==null&&t.mode&1&&!(t.flags&128))em(),qn(),t.flags|=98560,s=!1;else if(s=dr(t),a!==null&&a.dehydrated!==null){if(e===null){if(!s)throw Error(j(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(j(317));s[Et]=t}else qn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ue(t),s=!1}else ft!==null&&(Ys(ft),ft=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||Ee.current&1?De===0&&(De=3):Qi())),t.updateQueue!==null&&(t.flags|=4),Ue(t),null);case 4:return Yn(),Bs(e,t),e===null&&Oa(t.stateNode.containerInfo),Ue(t),null;case 10:return Di(t.type._context),Ue(t),null;case 17:return Ye(t.type)&&jr(),Ue(t),null;case 19:if(ye(Ee),s=t.memoizedState,s===null)return Ue(t),null;if(a=(t.flags&128)!==0,i=s.rendering,i===null)if(a)ca(s,!1);else{if(De!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Yr(e),i!==null){for(t.flags|=128,ca(s,!1),a=i.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;n!==null;)s=n,e=a,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return pe(Ee,Ee.current&1|2),t.child}e=e.sibling}s.tail!==null&&_e()>Gn&&(t.flags|=128,a=!0,ca(s,!1),t.lanes=4194304)}else{if(!a)if(e=Yr(i),e!==null){if(t.flags|=128,a=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ca(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!ge)return Ue(t),null}else 2*_e()-s.renderingStartTime>Gn&&n!==1073741824&&(t.flags|=128,a=!0,ca(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=_e(),t.sibling=null,n=Ee.current,pe(Ee,a?n&1|2:n&1),t):(Ue(t),null);case 22:case 23:return Hi(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?Xe&1073741824&&(Ue(t),t.subtreeFlags&6&&(t.flags|=8192)):Ue(t),null;case 24:return null;case 25:return null}throw Error(j(156,t.tag))}function _p(e,t){switch(_i(t),t.tag){case 1:return Ye(t.type)&&jr(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Yn(),ye(Je),ye($e),Ai(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ri(t),null;case 13:if(ye(Ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(j(340));qn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ye(Ee),null;case 4:return Yn(),null;case 10:return Di(t.type._context),null;case 22:case 23:return Hi(),null;case 24:return null;default:return null}}var hr=!1,Fe=!1,Cp=typeof WeakSet=="function"?WeakSet:Set,K=null;function On(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(a){we(e,t,a)}else n.current=null}function js(e,t,n){try{n()}catch(a){we(e,t,a)}}var sc=!1;function xp(e,t){if(_s=Fr,e=Bu(),wi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var l=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,o=-1,c=-1,m=0,p=0,d=e,h=null;t:for(;;){for(var v;d!==n||l!==0&&d.nodeType!==3||(o=i+l),d!==s||a!==0&&d.nodeType!==3||(c=i+a),d.nodeType===3&&(i+=d.nodeValue.length),(v=d.firstChild)!==null;)h=d,d=v;for(;;){if(d===e)break t;if(h===n&&++m===l&&(o=i),h===s&&++p===a&&(c=i),(v=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=v}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cs={focusedElem:e,selectionRange:n},Fr=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var b=S.memoizedProps,E=S.memoizedState,y=t.stateNode,f=y.getSnapshotBeforeUpdate(t.elementType===t.type?b:mt(t.type,b),E);y.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(k){we(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return S=sc,sc=!1,S}function _a(e,t,n){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var l=a=a.next;do{if((l.tag&e)===e){var s=l.destroy;l.destroy=void 0,s!==void 0&&js(t,n,s)}l=l.next}while(l!==a)}}function dl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function Vs(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Um(e){var t=e.alternate;t!==null&&(e.alternate=null,Um(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Et],delete t[Fa],delete t[Ds],delete t[cp],delete t[up])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Fm(e){return e.tag===5||e.tag===3||e.tag===4}function ic(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Fm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ws(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Br));else if(a!==4&&(e=e.child,e!==null))for(Ws(e,t,n),e=e.sibling;e!==null;)Ws(e,t,n),e=e.sibling}function Hs(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Hs(e,t,n),e=e.sibling;e!==null;)Hs(e,t,n),e=e.sibling}var Le=null,dt=!1;function Ut(e,t,n){for(n=n.child;n!==null;)$m(e,t,n),n=n.sibling}function $m(e,t,n){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(rl,n)}catch{}switch(n.tag){case 5:Fe||On(n,t);case 6:var a=Le,l=dt;Le=null,Ut(e,t,n),Le=a,dt=l,Le!==null&&(dt?(e=Le,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Le.removeChild(n.stateNode));break;case 18:Le!==null&&(dt?(e=Le,n=n.stateNode,e.nodeType===8?Ul(e.parentNode,n):e.nodeType===1&&Ul(e,n),Ra(e)):Ul(Le,n.stateNode));break;case 4:a=Le,l=dt,Le=n.stateNode.containerInfo,dt=!0,Ut(e,t,n),Le=a,dt=l;break;case 0:case 11:case 14:case 15:if(!Fe&&(a=n.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){l=a=a.next;do{var s=l,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&js(n,t,i),l=l.next}while(l!==a)}Ut(e,t,n);break;case 1:if(!Fe&&(On(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(o){we(n,t,o)}Ut(e,t,n);break;case 21:Ut(e,t,n);break;case 22:n.mode&1?(Fe=(a=Fe)||n.memoizedState!==null,Ut(e,t,n),Fe=a):Ut(e,t,n);break;default:Ut(e,t,n)}}function oc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Cp),t.forEach(function(a){var l=Op.bind(null,e,a);n.has(a)||(n.add(a),a.then(l,l))})}}function ut(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];try{var s=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:Le=o.stateNode,dt=!1;break e;case 3:Le=o.stateNode.containerInfo,dt=!0;break e;case 4:Le=o.stateNode.containerInfo,dt=!0;break e}o=o.return}if(Le===null)throw Error(j(160));$m(s,i,l),Le=null,dt=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(m){we(l,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zm(t,e),t=t.sibling}function zm(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ut(t,e),gt(e),a&4){try{_a(3,e,e.return),dl(3,e)}catch(b){we(e,e.return,b)}try{_a(5,e,e.return)}catch(b){we(e,e.return,b)}}break;case 1:ut(t,e),gt(e),a&512&&n!==null&&On(n,n.return);break;case 5:if(ut(t,e),gt(e),a&512&&n!==null&&On(n,n.return),e.flags&32){var l=e.stateNode;try{Da(l,"")}catch(b){we(e,e.return,b)}}if(a&4&&(l=e.stateNode,l!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&ou(l,s),hs(o,i);var m=hs(o,s);for(i=0;i<c.length;i+=2){var p=c[i],d=c[i+1];p==="style"?fu(l,d):p==="dangerouslySetInnerHTML"?mu(l,d):p==="children"?Da(l,d):ui(l,p,d,m)}switch(o){case"input":us(l,s);break;case"textarea":cu(l,s);break;case"select":var h=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?Fn(l,!!s.multiple,v,!1):h!==!!s.multiple&&(s.defaultValue!=null?Fn(l,!!s.multiple,s.defaultValue,!0):Fn(l,!!s.multiple,s.multiple?[]:"",!1))}l[Fa]=s}catch(b){we(e,e.return,b)}}break;case 6:if(ut(t,e),gt(e),a&4){if(e.stateNode===null)throw Error(j(162));l=e.stateNode,s=e.memoizedProps;try{l.nodeValue=s}catch(b){we(e,e.return,b)}}break;case 3:if(ut(t,e),gt(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Ra(t.containerInfo)}catch(b){we(e,e.return,b)}break;case 4:ut(t,e),gt(e);break;case 13:ut(t,e),gt(e),l=e.child,l.flags&8192&&(s=l.memoizedState!==null,l.stateNode.isHidden=s,!s||l.alternate!==null&&l.alternate.memoizedState!==null||(Vi=_e())),a&4&&oc(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Fe=(m=Fe)||p,ut(t,e),Fe=m):ut(t,e),gt(e),a&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!p&&e.mode&1)for(K=e,p=e.child;p!==null;){for(d=K=p;K!==null;){switch(h=K,v=h.child,h.tag){case 0:case 11:case 14:case 15:_a(4,h,h.return);break;case 1:On(h,h.return);var S=h.stateNode;if(typeof S.componentWillUnmount=="function"){a=h,n=h.return;try{t=a,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(b){we(a,n,b)}}break;case 5:On(h,h.return);break;case 22:if(h.memoizedState!==null){uc(d);continue}}v!==null?(v.return=h,K=v):uc(d)}p=p.sibling}e:for(p=null,d=e;;){if(d.tag===5){if(p===null){p=d;try{l=d.stateNode,m?(s=l.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,c=d.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=du("display",i))}catch(b){we(e,e.return,b)}}}else if(d.tag===6){if(p===null)try{d.stateNode.nodeValue=m?"":d.memoizedProps}catch(b){we(e,e.return,b)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;p===d&&(p=null),d=d.return}p===d&&(p=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ut(t,e),gt(e),a&4&&oc(e);break;case 21:break;default:ut(t,e),gt(e)}}function gt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Fm(n)){var a=n;break e}n=n.return}throw Error(j(160))}switch(a.tag){case 5:var l=a.stateNode;a.flags&32&&(Da(l,""),a.flags&=-33);var s=ic(e);Hs(e,s,l);break;case 3:case 4:var i=a.stateNode.containerInfo,o=ic(e);Ws(e,o,i);break;default:throw Error(j(161))}}catch(c){we(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Tp(e,t,n){K=e,Bm(e)}function Bm(e,t,n){for(var a=(e.mode&1)!==0;K!==null;){var l=K,s=l.child;if(l.tag===22&&a){var i=l.memoizedState!==null||hr;if(!i){var o=l.alternate,c=o!==null&&o.memoizedState!==null||Fe;o=hr;var m=Fe;if(hr=i,(Fe=c)&&!m)for(K=l;K!==null;)i=K,c=i.child,i.tag===22&&i.memoizedState!==null?mc(l):c!==null?(c.return=i,K=c):mc(l);for(;s!==null;)K=s,Bm(s),s=s.sibling;K=l,hr=o,Fe=m}cc(e)}else l.subtreeFlags&8772&&s!==null?(s.return=l,K=s):cc(e)}}function cc(e){for(;K!==null;){var t=K;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fe||dl(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Fe)if(n===null)a.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:mt(t.type,n.memoizedProps);a.componentDidUpdate(l,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&qo(t,s,a);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}qo(t,i,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var p=m.memoizedState;if(p!==null){var d=p.dehydrated;d!==null&&Ra(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}Fe||t.flags&512&&Vs(t)}catch(h){we(t,t.return,h)}}if(t===e){K=null;break}if(n=t.sibling,n!==null){n.return=t.return,K=n;break}K=t.return}}function uc(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var n=t.sibling;if(n!==null){n.return=t.return,K=n;break}K=t.return}}function mc(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{dl(4,t)}catch(c){we(t,n,c)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var l=t.return;try{a.componentDidMount()}catch(c){we(t,l,c)}}var s=t.return;try{Vs(t)}catch(c){we(t,s,c)}break;case 5:var i=t.return;try{Vs(t)}catch(c){we(t,i,c)}}}catch(c){we(t,t.return,c)}if(t===e){K=null;break}var o=t.sibling;if(o!==null){o.return=t.return,K=o;break}K=t.return}}var Dp=Math.ceil,Xr=Mt.ReactCurrentDispatcher,Bi=Mt.ReactCurrentOwner,it=Mt.ReactCurrentBatchConfig,ue=0,Pe=null,xe=null,Re=0,Xe=0,Un=an(0),De=0,Wa=null,Nn=0,fl=0,ji=0,Ca=null,Qe=null,Vi=0,Gn=1/0,Ct=null,Zr=!1,Qs=null,Kt=null,yr=!1,Vt=null,el=0,xa=0,qs=null,Dr=-1,Ir=0;function Be(){return ue&6?_e():Dr!==-1?Dr:Dr=_e()}function Gt(e){return e.mode&1?ue&2&&Re!==0?Re&-Re:dp.transition!==null?(Ir===0&&(Ir=_u()),Ir):(e=de,e!==0||(e=window.event,e=e===void 0?16:Lu(e.type)),e):1}function ht(e,t,n,a){if(50<xa)throw xa=0,qs=null,Error(j(185));Ya(e,n,a),(!(ue&2)||e!==Pe)&&(e===Pe&&(!(ue&2)&&(fl|=n),De===4&&Bt(e,Re)),Ke(e,a),n===1&&ue===0&&!(t.mode&1)&&(Gn=_e()+500,cl&&rn()))}function Ke(e,t){var n=e.callbackNode;df(e,t);var a=Ur(e,e===Pe?Re:0);if(a===0)n!==null&&So(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(n!=null&&So(n),t===1)e.tag===0?mp(dc.bind(null,e)):Gu(dc.bind(null,e)),ip(function(){!(ue&6)&&rn()}),n=null;else{switch(Cu(a)){case 1:n=hi;break;case 4:n=wu;break;case 16:n=Or;break;case 536870912:n=bu;break;default:n=Or}n=Ym(n,jm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function jm(e,t){if(Dr=-1,Ir=0,ue&6)throw Error(j(327));var n=e.callbackNode;if(Vn()&&e.callbackNode!==n)return null;var a=Ur(e,e===Pe?Re:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=tl(e,a);else{t=a;var l=ue;ue|=2;var s=Wm();(Pe!==e||Re!==t)&&(Ct=null,Gn=_e()+500,hn(e,t));do try{Lp();break}catch(o){Vm(e,o)}while(!0);Ti(),Xr.current=s,ue=l,xe!==null?t=0:(Pe=null,Re=0,t=De)}if(t!==0){if(t===2&&(l=Ss(e),l!==0&&(a=l,t=Js(e,l))),t===1)throw n=Wa,hn(e,0),Bt(e,a),Ke(e,_e()),n;if(t===6)Bt(e,a);else{if(l=e.current.alternate,!(a&30)&&!Ip(l)&&(t=tl(e,a),t===2&&(s=Ss(e),s!==0&&(a=s,t=Js(e,s))),t===1))throw n=Wa,hn(e,0),Bt(e,a),Ke(e,_e()),n;switch(e.finishedWork=l,e.finishedLanes=a,t){case 0:case 1:throw Error(j(345));case 2:cn(e,Qe,Ct);break;case 3:if(Bt(e,a),(a&130023424)===a&&(t=Vi+500-_e(),10<t)){if(Ur(e,0)!==0)break;if(l=e.suspendedLanes,(l&a)!==a){Be(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Ts(cn.bind(null,e,Qe,Ct),t);break}cn(e,Qe,Ct);break;case 4:if(Bt(e,a),(a&4194240)===a)break;for(t=e.eventTimes,l=-1;0<a;){var i=31-pt(a);s=1<<i,i=t[i],i>l&&(l=i),a&=~s}if(a=l,a=_e()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Dp(a/1960))-a,10<a){e.timeoutHandle=Ts(cn.bind(null,e,Qe,Ct),a);break}cn(e,Qe,Ct);break;case 5:cn(e,Qe,Ct);break;default:throw Error(j(329))}}}return Ke(e,_e()),e.callbackNode===n?jm.bind(null,e):null}function Js(e,t){var n=Ca;return e.current.memoizedState.isDehydrated&&(hn(e,t).flags|=256),e=tl(e,t),e!==2&&(t=Qe,Qe=n,t!==null&&Ys(t)),e}function Ys(e){Qe===null?Qe=e:Qe.push.apply(Qe,e)}function Ip(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var a=0;a<n.length;a++){var l=n[a],s=l.getSnapshot;l=l.value;try{if(!yt(s(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bt(e,t){for(t&=~ji,t&=~fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-pt(t),a=1<<n;e[n]=-1,t&=~a}}function dc(e){if(ue&6)throw Error(j(327));Vn();var t=Ur(e,0);if(!(t&1))return Ke(e,_e()),null;var n=tl(e,t);if(e.tag!==0&&n===2){var a=Ss(e);a!==0&&(t=a,n=Js(e,a))}if(n===1)throw n=Wa,hn(e,0),Bt(e,t),Ke(e,_e()),n;if(n===6)throw Error(j(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cn(e,Qe,Ct),Ke(e,_e()),null}function Wi(e,t){var n=ue;ue|=1;try{return e(t)}finally{ue=n,ue===0&&(Gn=_e()+500,cl&&rn())}}function kn(e){Vt!==null&&Vt.tag===0&&!(ue&6)&&Vn();var t=ue;ue|=1;var n=it.transition,a=de;try{if(it.transition=null,de=1,e)return e()}finally{de=a,it.transition=n,ue=t,!(ue&6)&&rn()}}function Hi(){Xe=Un.current,ye(Un)}function hn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,sp(n)),xe!==null)for(n=xe.return;n!==null;){var a=n;switch(_i(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&jr();break;case 3:Yn(),ye(Je),ye($e),Ai();break;case 5:Ri(a);break;case 4:Yn();break;case 13:ye(Ee);break;case 19:ye(Ee);break;case 10:Di(a.type._context);break;case 22:case 23:Hi()}n=n.return}if(Pe=e,xe=e=Xt(e.current,null),Re=Xe=t,De=0,Wa=null,ji=fl=Nn=0,Qe=Ca=null,fn!==null){for(t=0;t<fn.length;t++)if(n=fn[t],a=n.interleaved,a!==null){n.interleaved=null;var l=a.next,s=n.pending;if(s!==null){var i=s.next;s.next=l,a.next=i}n.pending=a}fn=null}return e}function Vm(e,t){do{var n=xe;try{if(Ti(),Cr.current=Gr,Kr){for(var a=Se.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}Kr=!1}if(Sn=0,Ie=Te=Se=null,ba=!1,Ba=0,Bi.current=null,n===null||n.return===null){De=1,Wa=t,xe=null;break}e:{var s=e,i=n.return,o=n,c=t;if(t=Re,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var m=c,p=o,d=p.tag;if(!(p.mode&1)&&(d===0||d===11||d===15)){var h=p.alternate;h?(p.updateQueue=h.updateQueue,p.memoizedState=h.memoizedState,p.lanes=h.lanes):(p.updateQueue=null,p.memoizedState=null)}var v=Zo(i);if(v!==null){v.flags&=-257,ec(v,i,o,s,t),v.mode&1&&Xo(s,m,t),t=v,c=m;var S=t.updateQueue;if(S===null){var b=new Set;b.add(c),t.updateQueue=b}else S.add(c);break e}else{if(!(t&1)){Xo(s,m,t),Qi();break e}c=Error(j(426))}}else if(ge&&o.mode&1){var E=Zo(i);if(E!==null){!(E.flags&65536)&&(E.flags|=256),ec(E,i,o,s,t),Ci(Kn(c,o));break e}}s=c=Kn(c,o),De!==4&&(De=2),Ca===null?Ca=[s]:Ca.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=Cm(s,c,t);Qo(s,y);break e;case 1:o=c;var f=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Kt===null||!Kt.has(g)))){s.flags|=65536,t&=-t,s.lanes|=t;var k=xm(s,o,t);Qo(s,k);break e}}s=s.return}while(s!==null)}Qm(n)}catch(T){t=T,xe===n&&n!==null&&(xe=n=n.return);continue}break}while(!0)}function Wm(){var e=Xr.current;return Xr.current=Gr,e===null?Gr:e}function Qi(){(De===0||De===3||De===2)&&(De=4),Pe===null||!(Nn&268435455)&&!(fl&268435455)||Bt(Pe,Re)}function tl(e,t){var n=ue;ue|=2;var a=Wm();(Pe!==e||Re!==t)&&(Ct=null,hn(e,t));do try{Pp();break}catch(l){Vm(e,l)}while(!0);if(Ti(),ue=n,Xr.current=a,xe!==null)throw Error(j(261));return Pe=null,Re=0,De}function Pp(){for(;xe!==null;)Hm(xe)}function Lp(){for(;xe!==null&&!nf();)Hm(xe)}function Hm(e){var t=Jm(e.alternate,e,Xe);e.memoizedProps=e.pendingProps,t===null?Qm(e):xe=t,Bi.current=null}function Qm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=_p(n,t),n!==null){n.flags&=32767,xe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{De=6,xe=null;return}}else if(n=bp(n,t,Xe),n!==null){xe=n;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);De===0&&(De=5)}function cn(e,t,n){var a=de,l=it.transition;try{it.transition=null,de=1,Rp(e,t,n,a)}finally{it.transition=l,de=a}return null}function Rp(e,t,n,a){do Vn();while(Vt!==null);if(ue&6)throw Error(j(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(j(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(ff(e,s),e===Pe&&(xe=Pe=null,Re=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yr||(yr=!0,Ym(Or,function(){return Vn(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=it.transition,it.transition=null;var i=de;de=1;var o=ue;ue|=4,Bi.current=null,xp(e,n),zm(n,e),Zf(Cs),Fr=!!_s,Cs=_s=null,e.current=n,Tp(n),af(),ue=o,de=i,it.transition=s}else e.current=n;if(yr&&(yr=!1,Vt=e,el=l),s=e.pendingLanes,s===0&&(Kt=null),sf(n.stateNode),Ke(e,_e()),t!==null)for(a=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],a(l.value,{componentStack:l.stack,digest:l.digest});if(Zr)throw Zr=!1,e=Qs,Qs=null,e;return el&1&&e.tag!==0&&Vn(),s=e.pendingLanes,s&1?e===qs?xa++:(xa=0,qs=e):xa=0,rn(),null}function Vn(){if(Vt!==null){var e=Cu(el),t=it.transition,n=de;try{if(it.transition=null,de=16>e?16:e,Vt===null)var a=!1;else{if(e=Vt,Vt=null,el=0,ue&6)throw Error(j(331));var l=ue;for(ue|=4,K=e.current;K!==null;){var s=K,i=s.child;if(K.flags&16){var o=s.deletions;if(o!==null){for(var c=0;c<o.length;c++){var m=o[c];for(K=m;K!==null;){var p=K;switch(p.tag){case 0:case 11:case 15:_a(8,p,s)}var d=p.child;if(d!==null)d.return=p,K=d;else for(;K!==null;){p=K;var h=p.sibling,v=p.return;if(Um(p),p===m){K=null;break}if(h!==null){h.return=v,K=h;break}K=v}}}var S=s.alternate;if(S!==null){var b=S.child;if(b!==null){S.child=null;do{var E=b.sibling;b.sibling=null,b=E}while(b!==null)}}K=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,K=i;else e:for(;K!==null;){if(s=K,s.flags&2048)switch(s.tag){case 0:case 11:case 15:_a(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,K=y;break e}K=s.return}}var f=e.current;for(K=f;K!==null;){i=K;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,K=g;else e:for(i=f;K!==null;){if(o=K,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:dl(9,o)}}catch(T){we(o,o.return,T)}if(o===i){K=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,K=k;break e}K=o.return}}if(ue=l,rn(),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(rl,e)}catch{}a=!0}return a}finally{de=n,it.transition=t}}return!1}function fc(e,t,n){t=Kn(n,t),t=Cm(e,t,1),e=Yt(e,t,1),t=Be(),e!==null&&(Ya(e,1,t),Ke(e,t))}function we(e,t,n){if(e.tag===3)fc(e,e,n);else for(;t!==null;){if(t.tag===3){fc(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Kt===null||!Kt.has(a))){e=Kn(n,e),e=xm(t,e,1),t=Yt(t,e,1),e=Be(),t!==null&&(Ya(t,1,e),Ke(t,e));break}}t=t.return}}function Ap(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),t=Be(),e.pingedLanes|=e.suspendedLanes&n,Pe===e&&(Re&n)===n&&(De===4||De===3&&(Re&130023424)===Re&&500>_e()-Vi?hn(e,0):ji|=n),Ke(e,t)}function qm(e,t){t===0&&(e.mode&1?(t=sr,sr<<=1,!(sr&130023424)&&(sr=4194304)):t=1);var n=Be();e=Rt(e,t),e!==null&&(Ya(e,t,n),Ke(e,n))}function Mp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),qm(e,n)}function Op(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(j(314))}a!==null&&a.delete(t),qm(e,n)}var Jm;Jm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Je.current)qe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return qe=!1,wp(e,t,n);qe=!!(e.flags&131072)}else qe=!1,ge&&t.flags&1048576&&Xu(t,Hr,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Tr(e,t),e=t.pendingProps;var l=Qn(t,$e.current);jn(t,n),l=Oi(null,t,a,e,l,n);var s=Ui();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ye(a)?(s=!0,Vr(t)):s=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Pi(t),l.updater=ml,t.stateNode=l,l._reactInternals=t,Ms(t,a,e,n),t=Fs(null,t,a,!0,s,n)):(t.tag=0,ge&&s&&bi(t),ze(null,t,l,n),t=t.child),t;case 16:a=t.elementType;e:{switch(Tr(e,t),e=t.pendingProps,l=a._init,a=l(a._payload),t.type=a,l=t.tag=Fp(a),e=mt(a,e),l){case 0:t=Us(null,t,a,e,n);break e;case 1:t=ac(null,t,a,e,n);break e;case 11:t=tc(null,t,a,e,n);break e;case 14:t=nc(null,t,a,mt(a.type,e),n);break e}throw Error(j(306,a,""))}return t;case 0:return a=t.type,l=t.pendingProps,l=t.elementType===a?l:mt(a,l),Us(e,t,a,l,n);case 1:return a=t.type,l=t.pendingProps,l=t.elementType===a?l:mt(a,l),ac(e,t,a,l,n);case 3:e:{if(Pm(t),e===null)throw Error(j(387));a=t.pendingProps,s=t.memoizedState,l=s.element,rm(e,t),Jr(t,a,null,n);var i=t.memoizedState;if(a=i.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){l=Kn(Error(j(423)),t),t=rc(e,t,a,n,l);break e}else if(a!==l){l=Kn(Error(j(424)),t),t=rc(e,t,a,n,l);break e}else for(Ze=Jt(t.stateNode.containerInfo.firstChild),et=t,ge=!0,ft=null,n=nm(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qn(),a===l){t=At(e,t,n);break e}ze(e,t,a,n)}t=t.child}return t;case 5:return lm(t),e===null&&Ls(t),a=t.type,l=t.pendingProps,s=e!==null?e.memoizedProps:null,i=l.children,xs(a,l)?i=null:s!==null&&xs(a,s)&&(t.flags|=32),Im(e,t),ze(e,t,i,n),t.child;case 6:return e===null&&Ls(t),null;case 13:return Lm(e,t,n);case 4:return Li(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Jn(t,null,a,n):ze(e,t,a,n),t.child;case 11:return a=t.type,l=t.pendingProps,l=t.elementType===a?l:mt(a,l),tc(e,t,a,l,n);case 7:return ze(e,t,t.pendingProps,n),t.child;case 8:return ze(e,t,t.pendingProps.children,n),t.child;case 12:return ze(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,l=t.pendingProps,s=t.memoizedProps,i=l.value,pe(Qr,a._currentValue),a._currentValue=i,s!==null)if(yt(s.value,i)){if(s.children===l.children&&!Je.current){t=At(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){i=s.child;for(var c=o.firstContext;c!==null;){if(c.context===a){if(s.tag===1){c=It(-1,n&-n),c.tag=2;var m=s.updateQueue;if(m!==null){m=m.shared;var p=m.pending;p===null?c.next=c:(c.next=p.next,p.next=c),m.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Rs(s.return,n,t),o.lanes|=n;break}c=c.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(j(341));i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),Rs(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}ze(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,a=t.pendingProps.children,jn(t,n),l=ot(l),a=a(l),t.flags|=1,ze(e,t,a,n),t.child;case 14:return a=t.type,l=mt(a,t.pendingProps),l=mt(a.type,l),nc(e,t,a,l,n);case 15:return Tm(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,l=t.pendingProps,l=t.elementType===a?l:mt(a,l),Tr(e,t),t.tag=1,Ye(a)?(e=!0,Vr(t)):e=!1,jn(t,n),_m(t,a,l),Ms(t,a,l,n),Fs(null,t,a,!0,e,n);case 19:return Rm(e,t,n);case 22:return Dm(e,t,n)}throw Error(j(156,t.tag))};function Ym(e,t){return ku(e,t)}function Up(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function st(e,t,n,a){return new Up(e,t,n,a)}function qi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fp(e){if(typeof e=="function")return qi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===di)return 11;if(e===fi)return 14}return 2}function Xt(e,t){var n=e.alternate;return n===null?(n=st(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pr(e,t,n,a,l,s){var i=2;if(a=e,typeof e=="function")qi(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case xn:return yn(n.children,l,s,t);case mi:i=8,l|=8;break;case ls:return e=st(12,n,t,l|2),e.elementType=ls,e.lanes=s,e;case ss:return e=st(13,n,t,l),e.elementType=ss,e.lanes=s,e;case is:return e=st(19,n,t,l),e.elementType=is,e.lanes=s,e;case lu:return pl(n,l,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case au:i=10;break e;case ru:i=9;break e;case di:i=11;break e;case fi:i=14;break e;case Ft:i=16,a=null;break e}throw Error(j(130,e==null?e:typeof e,""))}return t=st(i,n,t,l),t.elementType=e,t.type=a,t.lanes=s,t}function yn(e,t,n,a){return e=st(7,e,a,t),e.lanes=n,e}function pl(e,t,n,a){return e=st(22,e,a,t),e.elementType=lu,e.lanes=n,e.stateNode={isHidden:!1},e}function Hl(e,t,n){return e=st(6,e,null,t),e.lanes=n,e}function Ql(e,t,n){return t=st(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $p(e,t,n,a,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cl(0),this.expirationTimes=Cl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cl(0),this.identifierPrefix=a,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Ji(e,t,n,a,l,s,i,o,c){return e=new $p(e,t,n,o,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=st(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pi(s),e}function zp(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cn,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}function Km(e){if(!e)return tn;e=e._reactInternals;e:{if(bn(e)!==e||e.tag!==1)throw Error(j(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ye(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(j(171))}if(e.tag===1){var n=e.type;if(Ye(n))return Ku(e,n,t)}return t}function Gm(e,t,n,a,l,s,i,o,c){return e=Ji(n,a,!0,e,l,s,i,o,c),e.context=Km(null),n=e.current,a=Be(),l=Gt(n),s=It(a,l),s.callback=t??null,Yt(n,s,l),e.current.lanes=l,Ya(e,l,a),Ke(e,a),e}function hl(e,t,n,a){var l=t.current,s=Be(),i=Gt(l);return n=Km(n),t.context===null?t.context=n:t.pendingContext=n,t=It(s,i),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=Yt(l,t,i),e!==null&&(ht(e,l,i,s),_r(e,l,i)),i}function nl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function pc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Yi(e,t){pc(e,t),(e=e.alternate)&&pc(e,t)}function Bp(){return null}var Xm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ki(e){this._internalRoot=e}yl.prototype.render=Ki.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(j(409));hl(e,t,null,null)};yl.prototype.unmount=Ki.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;kn(function(){hl(null,e,null,null)}),t[Lt]=null}};function yl(e){this._internalRoot=e}yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Du();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zt.length&&t!==0&&t<zt[n].priority;n++);zt.splice(n,0,e),n===0&&Pu(e)}};function Gi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function gl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hc(){}function jp(e,t,n,a,l){if(l){if(typeof a=="function"){var s=a;a=function(){var m=nl(i);s.call(m)}}var i=Gm(t,a,e,0,null,!1,!1,"",hc);return e._reactRootContainer=i,e[Lt]=i.current,Oa(e.nodeType===8?e.parentNode:e),kn(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof a=="function"){var o=a;a=function(){var m=nl(c);o.call(m)}}var c=Ji(e,0,!1,null,null,!1,!1,"",hc);return e._reactRootContainer=c,e[Lt]=c.current,Oa(e.nodeType===8?e.parentNode:e),kn(function(){hl(t,c,n,a)}),c}function vl(e,t,n,a,l){var s=n._reactRootContainer;if(s){var i=s;if(typeof l=="function"){var o=l;l=function(){var c=nl(i);o.call(c)}}hl(t,i,e,l)}else i=jp(n,t,e,l,a);return nl(i)}xu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ga(t.pendingLanes);n!==0&&(yi(t,n|1),Ke(t,_e()),!(ue&6)&&(Gn=_e()+500,rn()))}break;case 13:kn(function(){var a=Rt(e,1);if(a!==null){var l=Be();ht(a,e,1,l)}}),Yi(e,1)}};gi=function(e){if(e.tag===13){var t=Rt(e,134217728);if(t!==null){var n=Be();ht(t,e,134217728,n)}Yi(e,134217728)}};Tu=function(e){if(e.tag===13){var t=Gt(e),n=Rt(e,t);if(n!==null){var a=Be();ht(n,e,t,a)}Yi(e,t)}};Du=function(){return de};Iu=function(e,t){var n=de;try{return de=e,t()}finally{de=n}};gs=function(e,t,n){switch(t){case"input":if(us(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var l=ol(a);if(!l)throw Error(j(90));iu(a),us(a,l)}}}break;case"textarea":cu(e,n);break;case"select":t=n.value,t!=null&&Fn(e,!!n.multiple,t,!1)}};yu=Wi;gu=kn;var Vp={usingClientEntryPoint:!1,Events:[Ga,Pn,ol,pu,hu,Wi]},ua={findFiberByHostInstance:dn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wp={bundleType:ua.bundleType,version:ua.version,rendererPackageName:ua.rendererPackageName,rendererConfig:ua.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Su(e),e===null?null:e.stateNode},findFiberByHostInstance:ua.findFiberByHostInstance||Bp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gr.isDisabled&&gr.supportsFiber)try{rl=gr.inject(Wp),St=gr}catch{}}nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vp;nt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gi(t))throw Error(j(200));return zp(e,t,null,n)};nt.createRoot=function(e,t){if(!Gi(e))throw Error(j(299));var n=!1,a="",l=Xm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Ji(e,1,!1,null,null,n,!1,a,l),e[Lt]=t.current,Oa(e.nodeType===8?e.parentNode:e),new Ki(t)};nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(j(188)):(e=Object.keys(e).join(","),Error(j(268,e)));return e=Su(t),e=e===null?null:e.stateNode,e};nt.flushSync=function(e){return kn(e)};nt.hydrate=function(e,t,n){if(!gl(t))throw Error(j(200));return vl(null,e,t,!0,n)};nt.hydrateRoot=function(e,t,n){if(!Gi(e))throw Error(j(405));var a=n!=null&&n.hydratedSources||null,l=!1,s="",i=Xm;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Gm(t,null,e,1,n??null,l,!1,s,i),e[Lt]=t.current,Oa(e),a)for(e=0;e<a.length;e++)n=a[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new yl(t)};nt.render=function(e,t,n){if(!gl(t))throw Error(j(200));return vl(null,e,t,!1,n)};nt.unmountComponentAtNode=function(e){if(!gl(e))throw Error(j(40));return e._reactRootContainer?(kn(function(){vl(null,null,e,!1,function(){e._reactRootContainer=null,e[Lt]=null})}),!0):!1};nt.unstable_batchedUpdates=Wi;nt.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!gl(n))throw Error(j(200));if(e==null||e._reactInternals===void 0)throw Error(j(38));return vl(e,t,n,!1,a)};nt.version="18.3.1-next-f1338f8080-20240426";function Zm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zm)}catch(e){console.error(e)}}Zm(),Zc.exports=nt;var Hp=Zc.exports,ed,yc=Hp;ed=yc.createRoot,yc.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ha(){return Ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ha.apply(this,arguments)}var Wt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Wt||(Wt={}));const gc="popstate";function Qp(e){e===void 0&&(e={});function t(a,l){let{pathname:s,search:i,hash:o}=a.location;return Ks("",{pathname:s,search:i,hash:o},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){return typeof l=="string"?l:al(l)}return Jp(t,n,null,e)}function Ce(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function td(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function qp(){return Math.random().toString(36).substr(2,8)}function vc(e,t){return{usr:e.state,key:e.key,idx:t}}function Ks(e,t,n,a){return n===void 0&&(n=null),Ha({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ta(t):t,{state:n,key:t&&t.key||a||qp()})}function al(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function ta(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function Jp(e,t,n,a){a===void 0&&(a={});let{window:l=document.defaultView,v5Compat:s=!1}=a,i=l.history,o=Wt.Pop,c=null,m=p();m==null&&(m=0,i.replaceState(Ha({},i.state,{idx:m}),""));function p(){return(i.state||{idx:null}).idx}function d(){o=Wt.Pop;let E=p(),y=E==null?null:E-m;m=E,c&&c({action:o,location:b.location,delta:y})}function h(E,y){o=Wt.Push;let f=Ks(b.location,E,y);m=p()+1;let g=vc(f,m),k=b.createHref(f);try{i.pushState(g,"",k)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;l.location.assign(k)}s&&c&&c({action:o,location:b.location,delta:1})}function v(E,y){o=Wt.Replace;let f=Ks(b.location,E,y);m=p();let g=vc(f,m),k=b.createHref(f);i.replaceState(g,"",k),s&&c&&c({action:o,location:b.location,delta:0})}function S(E){let y=l.location.origin!=="null"?l.location.origin:l.location.href,f=typeof E=="string"?E:al(E);return f=f.replace(/ $/,"%20"),Ce(y,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,y)}let b={get action(){return o},get location(){return e(l,i)},listen(E){if(c)throw new Error("A history only accepts one active listener");return l.addEventListener(gc,d),c=E,()=>{l.removeEventListener(gc,d),c=null}},createHref(E){return t(l,E)},createURL:S,encodeLocation(E){let y=S(E);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:v,go(E){return i.go(E)}};return b}var Ec;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ec||(Ec={}));function Yp(e,t,n){return n===void 0&&(n="/"),Kp(e,t,n)}function Kp(e,t,n,a){let l=typeof t=="string"?ta(t):t,s=Xi(l.pathname||"/",n);if(s==null)return null;let i=nd(e);Gp(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let m=ch(s);o=sh(i[c],m)}return o}function nd(e,t,n,a){t===void 0&&(t=[]),n===void 0&&(n=[]),a===void 0&&(a="");let l=(s,i,o)=>{let c={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};c.relativePath.startsWith("/")&&(Ce(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let m=Zt([a,c.relativePath]),p=n.concat(c);s.children&&s.children.length>0&&(Ce(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),nd(s.children,t,p,m)),!(s.path==null&&!s.index)&&t.push({path:m,score:rh(m,s.index),routesMeta:p})};return e.forEach((s,i)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))l(s,i);else for(let c of ad(s.path))l(s,i,c)}),t}function ad(e){let t=e.split("/");if(t.length===0)return[];let[n,...a]=t,l=n.endsWith("?"),s=n.replace(/\?$/,"");if(a.length===0)return l?[s,""]:[s];let i=ad(a.join("/")),o=[];return o.push(...i.map(c=>c===""?s:[s,c].join("/"))),l&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Gp(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:lh(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const Xp=/^:[\w-]+$/,Zp=3,eh=2,th=1,nh=10,ah=-2,Sc=e=>e==="*";function rh(e,t){let n=e.split("/"),a=n.length;return n.some(Sc)&&(a+=ah),t&&(a+=eh),n.filter(l=>!Sc(l)).reduce((l,s)=>l+(Xp.test(s)?Zp:s===""?th:nh),a)}function lh(e,t){return e.length===t.length&&e.slice(0,-1).every((a,l)=>a===t[l])?e[e.length-1]-t[t.length-1]:0}function sh(e,t,n){let{routesMeta:a}=e,l={},s="/",i=[];for(let o=0;o<a.length;++o){let c=a[o],m=o===a.length-1,p=s==="/"?t:t.slice(s.length)||"/",d=ih({path:c.relativePath,caseSensitive:c.caseSensitive,end:m},p),h=c.route;if(!d)return null;Object.assign(l,d.params),i.push({params:l,pathname:Zt([s,d.pathname]),pathnameBase:fh(Zt([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=Zt([s,d.pathnameBase]))}return i}function ih(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=oh(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let s=l[0],i=s.replace(/(.)\/+$/,"$1"),o=l.slice(1);return{params:a.reduce((m,p,d)=>{let{paramName:h,isOptional:v}=p;if(h==="*"){let b=o[d]||"";i=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const S=o[d];return v&&!S?m[h]=void 0:m[h]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:s,pathnameBase:i,pattern:e}}function oh(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),td(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(a.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),a]}function ch(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return td(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Xi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}function uh(e,t){t===void 0&&(t="/");let{pathname:n,search:a="",hash:l=""}=typeof e=="string"?ta(e):e;return{pathname:n?n.startsWith("/")?n:mh(n,t):t,search:ph(a),hash:hh(l)}}function mh(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function ql(e,t,n,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dh(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Zi(e,t){let n=dh(e);return t?n.map((a,l)=>l===n.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function eo(e,t,n,a){a===void 0&&(a=!1);let l;typeof e=="string"?l=ta(e):(l=Ha({},e),Ce(!l.pathname||!l.pathname.includes("?"),ql("?","pathname","search",l)),Ce(!l.pathname||!l.pathname.includes("#"),ql("#","pathname","hash",l)),Ce(!l.search||!l.search.includes("#"),ql("#","search","hash",l)));let s=e===""||l.pathname==="",i=s?"/":l.pathname,o;if(i==null)o=n;else{let d=t.length-1;if(!a&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),d-=1;l.pathname=h.join("/")}o=d>=0?t[d]:"/"}let c=uh(l,o),m=i&&i!=="/"&&i.endsWith("/"),p=(s||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(m||p)&&(c.pathname+="/"),c}const Zt=e=>e.join("/").replace(/\/\/+/g,"/"),fh=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ph=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,hh=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function yh(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const rd=["post","put","patch","delete"];new Set(rd);const gh=["get",...rd];new Set(gh);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qa(){return Qa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Qa.apply(this,arguments)}const to=u.createContext(null),vh=u.createContext(null),ln=u.createContext(null),El=u.createContext(null),Ot=u.createContext({outlet:null,matches:[],isDataRoute:!1}),ld=u.createContext(null);function Eh(e,t){let{relative:n}=t===void 0?{}:t;na()||Ce(!1);let{basename:a,navigator:l}=u.useContext(ln),{hash:s,pathname:i,search:o}=id(e,{relative:n}),c=i;return a!=="/"&&(c=i==="/"?a:Zt([a,i])),l.createHref({pathname:c,search:o,hash:s})}function na(){return u.useContext(El)!=null}function wt(){return na()||Ce(!1),u.useContext(El).location}function sd(e){u.useContext(ln).static||u.useLayoutEffect(e)}function bt(){let{isDataRoute:e}=u.useContext(Ot);return e?Rh():Sh()}function Sh(){na()||Ce(!1);let e=u.useContext(to),{basename:t,future:n,navigator:a}=u.useContext(ln),{matches:l}=u.useContext(Ot),{pathname:s}=wt(),i=JSON.stringify(Zi(l,n.v7_relativeSplatPath)),o=u.useRef(!1);return sd(()=>{o.current=!0}),u.useCallback(function(m,p){if(p===void 0&&(p={}),!o.current)return;if(typeof m=="number"){a.go(m);return}let d=eo(m,JSON.parse(i),s,p.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Zt([t,d.pathname])),(p.replace?a.replace:a.push)(d,p.state,p)},[t,a,i,s,e])}function Nh(){let{matches:e}=u.useContext(Ot),t=e[e.length-1];return t?t.params:{}}function id(e,t){let{relative:n}=t===void 0?{}:t,{future:a}=u.useContext(ln),{matches:l}=u.useContext(Ot),{pathname:s}=wt(),i=JSON.stringify(Zi(l,a.v7_relativeSplatPath));return u.useMemo(()=>eo(e,JSON.parse(i),s,n==="path"),[e,i,s,n])}function kh(e,t){return wh(e,t)}function wh(e,t,n,a){na()||Ce(!1);let{navigator:l}=u.useContext(ln),{matches:s}=u.useContext(Ot),i=s[s.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let m=wt(),p;if(t){var d;let E=typeof t=="string"?ta(t):t;c==="/"||(d=E.pathname)!=null&&d.startsWith(c)||Ce(!1),p=E}else p=m;let h=p.pathname||"/",v=h;if(c!=="/"){let E=c.replace(/^\//,"").split("/");v="/"+h.replace(/^\//,"").split("/").slice(E.length).join("/")}let S=Yp(e,{pathname:v}),b=Th(S&&S.map(E=>Object.assign({},E,{params:Object.assign({},o,E.params),pathname:Zt([c,l.encodeLocation?l.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?c:Zt([c,l.encodeLocation?l.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,a);return t&&b?u.createElement(El.Provider,{value:{location:Qa({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Wt.Pop}},b):b}function bh(){let e=Lh(),t=yh(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return u.createElement(u.Fragment,null,u.createElement("h2",null,"Unexpected Application Error!"),u.createElement("h3",{style:{fontStyle:"italic"}},t),n?u.createElement("pre",{style:l},n):null,null)}const _h=u.createElement(bh,null);class Ch extends u.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?u.createElement(Ot.Provider,{value:this.props.routeContext},u.createElement(ld.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xh(e){let{routeContext:t,match:n,children:a}=e,l=u.useContext(to);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),u.createElement(Ot.Provider,{value:t},a)}function Th(e,t,n,a){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),a===void 0&&(a=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=a)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=(l=n)==null?void 0:l.errors;if(o!=null){let p=i.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);p>=0||Ce(!1),i=i.slice(0,Math.min(i.length,p+1))}let c=!1,m=-1;if(n&&a&&a.v7_partialHydration)for(let p=0;p<i.length;p++){let d=i[p];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(m=p),d.route.id){let{loaderData:h,errors:v}=n,S=d.route.loader&&h[d.route.id]===void 0&&(!v||v[d.route.id]===void 0);if(d.route.lazy||S){c=!0,m>=0?i=i.slice(0,m+1):i=[i[0]];break}}}return i.reduceRight((p,d,h)=>{let v,S=!1,b=null,E=null;n&&(v=o&&d.route.id?o[d.route.id]:void 0,b=d.route.errorElement||_h,c&&(m<0&&h===0?(Ah("route-fallback"),S=!0,E=null):m===h&&(S=!0,E=d.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,h+1)),f=()=>{let g;return v?g=b:S?g=E:d.route.Component?g=u.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=p,u.createElement(xh,{match:d,routeContext:{outlet:p,matches:y,isDataRoute:n!=null},children:g})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?u.createElement(Ch,{location:n.location,revalidation:n.revalidation,component:b,error:v,children:f(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):f()},null)}var od=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(od||{}),cd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(cd||{});function Dh(e){let t=u.useContext(to);return t||Ce(!1),t}function Ih(e){let t=u.useContext(vh);return t||Ce(!1),t}function Ph(e){let t=u.useContext(Ot);return t||Ce(!1),t}function ud(e){let t=Ph(),n=t.matches[t.matches.length-1];return n.route.id||Ce(!1),n.route.id}function Lh(){var e;let t=u.useContext(ld),n=Ih(),a=ud();return t!==void 0?t:(e=n.errors)==null?void 0:e[a]}function Rh(){let{router:e}=Dh(od.UseNavigateStable),t=ud(cd.UseNavigateStable),n=u.useRef(!1);return sd(()=>{n.current=!0}),u.useCallback(function(l,s){s===void 0&&(s={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,Qa({fromRouteId:t},s)))},[e,t])}const Nc={};function Ah(e,t,n){Nc[e]||(Nc[e]=!0)}const kc={};function Mh(e,t){kc[t]||(kc[t]=!0,console.warn(t))}const wc=(e,t,n)=>Mh(e," React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function Oh(e,t){e!=null&&e.v7_startTransition||wc("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),e!=null&&e.v7_relativeSplatPath||wc("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function gn(e){let{to:t,replace:n,state:a,relative:l}=e;na()||Ce(!1);let{future:s,static:i}=u.useContext(ln),{matches:o}=u.useContext(Ot),{pathname:c}=wt(),m=bt(),p=eo(t,Zi(o,s.v7_relativeSplatPath),c,l==="path"),d=JSON.stringify(p);return u.useEffect(()=>m(JSON.parse(d),{replace:n,state:a,relative:l}),[m,d,l,n,a]),null}function me(e){Ce(!1)}function Uh(e){let{basename:t="/",children:n=null,location:a,navigationType:l=Wt.Pop,navigator:s,static:i=!1,future:o}=e;na()&&Ce(!1);let c=t.replace(/^\/*/,"/"),m=u.useMemo(()=>({basename:c,navigator:s,static:i,future:Qa({v7_relativeSplatPath:!1},o)}),[c,o,s,i]);typeof a=="string"&&(a=ta(a));let{pathname:p="/",search:d="",hash:h="",state:v=null,key:S="default"}=a,b=u.useMemo(()=>{let E=Xi(p,c);return E==null?null:{location:{pathname:E,search:d,hash:h,state:v,key:S},navigationType:l}},[c,p,d,h,v,S,l]);return b==null?null:u.createElement(ln.Provider,{value:m},u.createElement(El.Provider,{children:n,value:b}))}function no(e){let{children:t,location:n}=e;return kh(Gs(t),n)}new Promise(()=>{});function Gs(e,t){t===void 0&&(t=[]);let n=[];return u.Children.forEach(e,(a,l)=>{if(!u.isValidElement(a))return;let s=[...t,l];if(a.type===u.Fragment){n.push.apply(n,Gs(a.props.children,s));return}a.type!==me&&Ce(!1),!a.props.index||!a.props.children||Ce(!1);let i={id:a.props.id||s.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(i.children=Gs(a.props.children,s)),n.push(i)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xs(){return Xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Xs.apply(this,arguments)}function Fh(e,t){if(e==null)return{};var n={},a=Object.keys(e),l,s;for(s=0;s<a.length;s++)l=a[s],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function $h(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function zh(e,t){return e.button===0&&(!t||t==="_self")&&!$h(e)}function Zs(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let a=e[n];return t.concat(Array.isArray(a)?a.map(l=>[n,l]):[[n,a]])},[]))}function Bh(e,t){let n=Zs(e);return t&&t.forEach((a,l)=>{n.has(l)||t.getAll(l).forEach(s=>{n.append(l,s)})}),n}const jh=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Vh="6";try{window.__reactRouterVersion=Vh}catch{}const Wh="startTransition",bc=$d[Wh];function Hh(e){let{basename:t,children:n,future:a,window:l}=e,s=u.useRef();s.current==null&&(s.current=Qp({window:l,v5Compat:!0}));let i=s.current,[o,c]=u.useState({action:i.action,location:i.location}),{v7_startTransition:m}=a||{},p=u.useCallback(d=>{m&&bc?bc(()=>c(d)):c(d)},[c,m]);return u.useLayoutEffect(()=>i.listen(p),[i,p]),u.useEffect(()=>Oh(a),[a]),u.createElement(Uh,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:i,future:a})}const Qh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wn=u.forwardRef(function(t,n){let{onClick:a,relative:l,reloadDocument:s,replace:i,state:o,target:c,to:m,preventScrollReset:p,viewTransition:d}=t,h=Fh(t,jh),{basename:v}=u.useContext(ln),S,b=!1;if(typeof m=="string"&&qh.test(m)&&(S=m,Qh))try{let g=new URL(window.location.href),k=m.startsWith("//")?new URL(g.protocol+m):new URL(m),T=Xi(k.pathname,v);k.origin===g.origin&&T!=null?m=T+k.search+k.hash:b=!0}catch{}let E=Eh(m,{relative:l}),y=Jh(m,{replace:i,state:o,target:c,preventScrollReset:p,relative:l,viewTransition:d});function f(g){a&&a(g),g.defaultPrevented||y(g)}return u.createElement("a",Xs({},h,{href:S||E,onClick:b||s?a:f,ref:n,target:c}))});var _c;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(_c||(_c={}));var Cc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Cc||(Cc={}));function Jh(e,t){let{target:n,replace:a,state:l,preventScrollReset:s,relative:i,viewTransition:o}=t===void 0?{}:t,c=bt(),m=wt(),p=id(e,{relative:i});return u.useCallback(d=>{if(zh(d,n)){d.preventDefault();let h=a!==void 0?a:al(m)===al(p);c(e,{replace:h,state:l,preventScrollReset:s,relative:i,viewTransition:o})}},[m,c,p,a,l,n,e,s,i,o])}function Yh(e){let t=u.useRef(Zs(e)),n=u.useRef(!1),a=wt(),l=u.useMemo(()=>Bh(a.search,n.current?null:t.current),[a.search]),s=bt(),i=u.useCallback((o,c)=>{const m=Zs(typeof o=="function"?o(l):o);n.current=!0,s("?"+m,c)},[s,l]);return[l,i]}const ao="tj_token";function md(e){localStorage.setItem(ao,e)}function ro(){return localStorage.getItem(ao)}function Kh(){localStorage.removeItem(ao)}async function lo(e){const t=await e.text();if(!t)return{};try{return JSON.parse(t)}catch{return{}}}async function Gh(){const e=ro();if(!e)return null;try{const t=await fetch("http://localhost:5175/me",{headers:{Authorization:"Bearer "+e}});if(!t.ok)return null;const n=await t.json();return(n==null?void 0:n.me)??null}catch{return null}}async function Xh(e,t){const a=await fetch("http://localhost:5175"+"/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),l=await lo(a);if(!a.ok)throw new Error((l==null?void 0:l.error)||"Invalid credentials");return l!=null&&l.token&&md(l.token),l}async function Zh(e={}){const{email:t,password:n,firstName:a,lastName:l,dateOfBirth:s,phone:i}=e,c=await fetch("http://localhost:5175"+"/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n,firstName:a,lastName:l,dateOfBirth:s,phone:i})}),m=await lo(c);if(!c.ok)throw new Error((m==null?void 0:m.error)||"Unable to create account");return m!=null&&m.token&&md(m.token),m}async function Q(e,t={}){const n=ro(),a="http://localhost:5175",l={"Content-Type":"application/json",...t.headers||{},...n?{Authorization:"Bearer "+n}:{}},s=await fetch(a+e,{...t,headers:l}),i=await lo(s);if(!s.ok){const o=new Error((i==null?void 0:i.error)||"Request failed");throw o.status=s.status,o.body=i,o}return i}const dd=u.createContext(void 0);function ey({children:e}){const t="".trim(),n="dev@timejump.local".trim()||"dev@timejump.local",[a,l]=u.useState(null),[s,i]=u.useState(!0);function o(){l(t?{email:n,role:t,isDevMock:!0}:null),i(!1)}const c=h=>{l(h)};async function m(){if(t){o();return}i(!0);try{const h=await Gh();l(h||null)}finally{i(!1)}}u.useEffect(()=>{if(t){o();return}ro()?m():i(!1)},[t,n]);function p(){if(t){o();return}Kh(),l(null)}const d=u.useMemo(()=>({user:a,actualUser:a,role:(a==null?void 0:a.role)??null,actualRole:(a==null?void 0:a.role)??null,setUser:c,refresh:m,signOut:p,loading:s}),[a,s]);return r.createElement(dd.Provider,{value:d},e)}const Me=()=>u.useContext(dd),ei="tj-auth-toast",ti="tj-auth-toast-event",ty={in:{type:"in",title:"You're signed in",message:"Signed in successfully."},out:{type:"out",title:"You're signed out",message:"Signed out. See you soon!"}};function so(e,t={}){if(typeof window>"u")return;const n=typeof e=="string"?{type:e,...t}:e;n!=null&&n.type&&window.sessionStorage&&window.sessionStorage.setItem(ei,JSON.stringify(n))}function ny(e){if(typeof window>"u")return;const t=typeof e=="string"?{type:e}:e;t!=null&&t.type&&window.dispatchEvent(new CustomEvent(ti,{detail:t}))}function ay(){if(typeof window>"u"||!window.sessionStorage)return null;const e=window.sessionStorage.getItem(ei);if(!e)return null;window.sessionStorage.removeItem(ei);try{return JSON.parse(e)}catch{return{type:e}}}function xc(e){if(!e)return null;const t=typeof e=="string"?{type:e}:e;if(!(t!=null&&t.type))return null;if(t.type==="require-signin"){const a=ry(t.redirectTo);return{type:"require-signin",title:t.title||"Sign in required",message:t.message||"Create a free guest account to save items to your cart.",actions:t.actions||ly(a),persist:!0}}const n=ty[t.type];return n?{...n,title:t.title||n.title,message:t.message||n.message,persist:!!t.persist}:null}function ry(e){return typeof e!="string"?"/":e.startsWith("/")?e:"/"}function ly(e){const t=new URLSearchParams;e&&e!=="/"&&t.set("redirect",e);const n=t.toString(),a=n?`/login?${n}`:"/login",l=new URLSearchParams(t);l.set("mode","signup");const s=`/login?${l.toString()}`;return[{label:"Sign In",to:a,primary:!0},{label:"Create Account",to:s}]}function fd(e){const[t,n]=u.useState(null);return u.useEffect(()=>{if(typeof window>"u")return;function a(l){const s=xc(l.detail);s&&n(s)}return window.addEventListener(ti,a),()=>window.removeEventListener(ti,a)},[]),u.useEffect(()=>{const a=ay();if(!a)return;const l=xc(a);l&&n(l)},[e]),u.useEffect(()=>{if(!t||t.persist)return;const a=window.setTimeout(()=>n(null),3500);return()=>window.clearTimeout(a)},[t]),{authToast:t,dismissToast:()=>n(null)}}const pd=u.createContext();function Tc(e){return!e||!e.id?null:`themeParkCart_${e.id}`}function sy({children:e}){const[t,n]=u.useState([]),{user:a}=Me(),l=!!a;function s(){if(typeof window>"u")return"/";const{pathname:h="/",search:v=""}=window.location||{};return!h||!h.startsWith("/")?"/":`${h}${v}`}function i(){return l?!1:(ny({type:"require-signin",redirectTo:s()}),!0)}u.useEffect(()=>{localStorage.setItem("themeParkCart",JSON.stringify(t))},[t]),u.useEffect(()=>{if(a&&a.id){const h=Tc(a);console.log("User changed, loading cart from key:",h);try{const v=localStorage.getItem(h);n(v?JSON.parse(v):[])}catch(v){console.error("Failed to load user-specific cart",v),n([])}}else console.log("User logged out, clearing cart state."),n([])},[a]),u.useEffect(()=>{const h=Tc(a);h&&(console.log("Items changed, saving cart to key:",h),localStorage.setItem(h,JSON.stringify(t)))},[t,a]);function o(h){i()||n(v=>{let S=v;h.kind==="parking"&&(S=v.filter(E=>E.kind!=="parking"));const b=S.findIndex(E=>E.kind===h.kind&&E.id===h.id&&JSON.stringify(E.meta||{})===JSON.stringify(h.meta||{}));if(b>=0){const E=[...S];return E[b]={...E[b],qty:(E[b].qty||1)+(h.qty||1)},E}return[...S,{qty:1,...h}]})}function c(h){i()||n(v=>v.filter((S,b)=>b!==h))}function m(h,v){i()||n(S=>S.map((b,E)=>E===h?{...b,qty:Math.max(1,v)}:b))}function p(){i()||n([])}const d=u.useMemo(()=>t.reduce((h,v)=>h+Number(v.price||0)*Number(v.qty||1),0),[t]);return r.createElement(pd.Provider,{value:{items:t,add:o,remove:c,updateQty:m,clear:p,total:d}},e)}const Za=()=>u.useContext(pd),Dc=e=>`$${Number(e||0).toFixed(2)}`;function iy(e){if(!e)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(e)){const[n,a,l]=e.split("-").map(Number);return new Date(n,a-1,l).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric",year:"numeric"})}const t=new Date(e);return Number.isNaN(t.getTime())?"":t.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric",year:"numeric"})}function oy({onClose:e}){const{user:t}=Me(),{items:n,add:a,remove:l,updateQty:s,total:i,clear:o}=Za(),[c,m]=u.useState([]),[p,d]=u.useState(!1),[h,v]=u.useState(""),[S,b]=u.useState(""),[E,y]=u.useState(""),[f,g]=u.useState("info"),[k,T]=u.useState(""),[x,_]=u.useState(!1);u.useEffect(()=>{let M=!1;if(!(c.length||p))return d(!0),v(""),Q("/parking/options").then(I=>{if(M)return;const V=Array.isArray(I==null?void 0:I.data)?I.data:[];m(V.map(P=>{const z=P.lotId??P.parking_lot_id??null,Y=P.lot??P.lot_name??"";return{id:z!=null?String(z):Y,name:Y,price:Number(P.price??P.base_price??0)}}))}).catch(I=>{M||(v((I==null?void 0:I.message)||"Unable to load parking lots."),m([]))}).finally(()=>{M||d(!1)}),()=>{M=!0}},[]),u.useEffect(()=>{!S&&c.length&&b(c[0].id)},[c,S]);const C=u.useMemo(()=>n.some(M=>M.kind==="parking"),[n]);function F(){const M=c.find(I=>I.id===S);M&&a({id:`parking-${M.id}`,name:`Parking - ${M.name}`,price:Number(M.price??0),kind:"parking",qty:1,meta:{lot:M.name}})}async function A(){if(!n.length){y("Your cart is empty."),T(""),g("warning");return}if(!t){y("Please sign in to complete your purchase."),T(""),g("warning");return}if(t.role!=="customer"){y("Only customer accounts can complete ticket purchases."),T(""),g("warning");return}const M=i,I=n.reduce((V,P)=>V+Number(P.qty||1),0);_(!0),y(""),T("");try{const V={items:n.map(z=>({id:z.id,name:z.name,kind:z.kind,price:Number(z.price||0),qty:Number(z.qty||1),meta:z.meta||null}))},P=await Q("/checkout",{method:"POST",body:JSON.stringify(V)});g("success"),y((P==null?void 0:P.message)||"Order confirmed!"),T(`We processed ${I} item${I===1?"":"s"} for ${Dc(M)}. A confirmation is headed to ${t.email||"your email"}.`),o()}catch(V){g("error"),y((V==null?void 0:V.message)||"Unable to complete checkout right now."),T("")}finally{_(!1)}}return f==="success"&&E?r.createElement("div",{className:"ticket-alert",role:"alert"},r.createElement("div",{className:"ticket-alert__card"},r.createElement("strong",null,E),k&&r.createElement("p",null,k),r.createElement("button",{className:"btn primary",onClick:()=>{y(""),T(""),g("info"),e()}},"Close"))):r.createElement("div",{className:"modal-overlay",onClick:e},r.createElement("div",{className:"modal",role:"dialog","aria-modal":"true",onClick:M=>M.stopPropagation()},r.createElement("div",{className:"modal-header"},r.createElement("h3",null,"Shopping Cart"),r.createElement("button",{className:"btn",onClick:e},"Close")),n.length===0?r.createElement("div",{className:"modal-body"},r.createElement("div",{className:"panel",style:{textAlign:"center"}},"Your cart is empty.")):r.createElement(r.Fragment,null,r.createElement("div",{className:"modal-body",style:{display:"flex",flexDirection:"column",gap:12}},n.map((M,I)=>{var Y,ne;const V=iy((Y=M.meta)==null?void 0:Y.visitDate),P=M.kind==="parking"&&((ne=M.meta)!=null&&ne.lot)?`Lot: ${M.meta.lot}`:"",z=[];return V&&z.push(`Visit date: ${V}`),P&&z.push(P),r.createElement("div",{key:I,className:"card"},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline"}},r.createElement("div",null,r.createElement("div",{style:{fontWeight:600}},M.name),z.map((B,q)=>r.createElement("div",{key:q,className:"cart-item-detail"},B))),r.createElement("div",{style:{fontWeight:700}},"$",Number(M.price||0).toFixed(2))),r.createElement("div",{style:{display:"flex",gap:8,alignItems:"center",marginTop:8}},r.createElement("label",{style:{fontSize:12}},"Qty"),r.createElement("input",{className:"input",type:"number",min:1,value:M.qty,onChange:B=>s(I,Math.max(1,Number(B.target.value)||1)),style:{width:72}}),r.createElement("button",{className:"btn",style:{marginLeft:"auto"},onClick:()=>l(I)},"Remove")))}),!C&&r.createElement("div",{className:"card"},r.createElement("div",{style:{fontWeight:600,marginBottom:8}},"Need parking?"),p&&r.createElement("div",{className:"muted",style:{fontSize:12}},"Loading parking options..."),!p&&h&&r.createElement("div",{className:"alert error",style:{fontSize:12}},h),!p&&!h&&c.length===0&&r.createElement("div",{className:"muted",style:{fontSize:12}},"No parking lots available right now."),!p&&!h&&c.length>0&&r.createElement("div",{style:{display:"flex",gap:8,alignItems:"center"}},r.createElement("select",{className:"input",value:S,onChange:M=>b(M.target.value)},c.map(M=>r.createElement("option",{key:M.id,value:M.id},M.name," - $",M.price.toFixed(2)))),r.createElement("button",{className:"btn primary",onClick:F},"Add Parking")))),r.createElement("div",{className:"modal-footer"},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},r.createElement("div",{className:"muted"},"Total"),r.createElement("div",{style:{fontSize:20,fontWeight:800}},Dc(i))),r.createElement("div",{style:{display:"flex",gap:8,marginTop:8}},r.createElement("button",{className:"btn",onClick:o},"Clear"),r.createElement("button",{className:"btn primary",onClick:A,disabled:x},x?"Processing...":"Checkout"))))))}function hd({toast:e,onDismiss:t}){var i;if(!e)return null;const n=Array.isArray(e.actions)&&e.actions.length>0,a=n?"btn":"btn primary";function l(){typeof t=="function"&&t()}function s(o,c){const m=o.primary?"btn primary":"btn",p=`${o.label}-${c}`,d=()=>{typeof o.onClick=="function"&&o.onClick(),l()};return o.to?r.createElement(Wn,{key:p,className:m,to:o.to,onClick:d},o.label):o.href?r.createElement("a",{key:p,className:m,href:o.href,rel:o.external?"noreferrer noopener":void 0,target:o.external?"_blank":void 0,onClick:d},o.label):r.createElement("button",{key:p,type:"button",className:m,onClick:d},o.label)}return r.createElement("div",{className:"nav-toast-flyout",role:"status"},r.createElement("div",{className:"nav-toast-flyout__body"},e.title&&r.createElement("div",{className:"nav-toast-flyout__title"},e.title),e.message&&r.createElement("p",null,e.message),(n||e.dismissible!==!1)&&r.createElement("div",{className:"nav-toast-flyout__actions"},(i=e.actions)==null?void 0:i.map((o,c)=>s(o,c)),e.dismissible!==!1&&r.createElement("button",{type:"button",className:a,onClick:l},"Dismiss"))))}const yd="https://i.imgur.com/8JAUSLLh.jpg",ni="Time Jump Theme Park",Jl=[{key:"tickets",label:"Buy Tickets",path:"/ticket-passes",items:[{label:"Buy Tickets",path:"/ticket-passes"}]},{key:"experiences",label:"Rides & Attractions",path:"/things-to-do/rides-attractions",items:[{label:"Rides & Attractions",path:"/things-to-do/rides-attractions"}]},{key:"marketplace",label:"Marketplace",path:"/things-to-do/dining",items:[{label:"Dining",path:"/things-to-do/dining"},{label:"Shopping",path:"/things-to-do/shopping"}]}];function cy({themes:e=[]}){const t=wt(),n=bt(),{user:a,signOut:l}=Me(),{items:s}=Za(),i=(a==null?void 0:a.role)??null,[o,c]=u.useState(null),[m,p]=u.useState(!1),{authToast:d,dismissToast:h}=fd(a),v=u.useRef(null);u.useEffect(()=>{function C(F){v.current&&(v.current.contains(F.target)||c(null))}return document.addEventListener("click",C),()=>document.removeEventListener("click",C)},[]);const S=t.pathname.replace(/\/+$/,"")||"/",b=(S==="/"?"/":S)+(t.search||""),E=(a==null?void 0:a.role)==="customer",y=s.length>99?"99+":String(s.length),f=u.useMemo(()=>a&&["employee","manager","admin","owner"].includes(a.role)?Jl.filter(C=>C.key!=="tickets"):Jl,[a]),g=u.useMemo(()=>{const C=[];return["employee","manager","admin","owner"].includes(i)&&C.push({label:"Reports",path:"/reports"}),["manager","admin","owner"].includes(i)&&C.push({label:"Manager",path:"/manager"}),["admin","owner"].includes(i)&&C.push({label:"Admin",path:"/admin"}),C},[i]);function k(C){c(null),n(C)}function T(C){c(F=>F===C?null:C)}function x(){so("out"),l(),p(!1),n("/",{replace:!0})}function _(C){return S===C.path||C.key==="experiences"&&(S.startsWith("/theme/")||S==="/things-to-do/rides-attractions")||C.key==="marketplace"&&(S==="/things-to-do/dining"||S==="/things-to-do/shopping")||C.key==="tickets"&&S.startsWith("/ticket-passes")?!0:C.items.some(F=>S===F.path)}return r.createElement(r.Fragment,null,r.createElement("header",{className:"nav-shell",ref:v},r.createElement("div",{className:"nav-bar"},r.createElement("div",{className:"nav-left"},r.createElement(Wn,{className:"nav-brand",to:"/",onClick:()=>c(null)},r.createElement("img",{className:"nav-brand__logo",src:yd,alt:`${ni} logo`,width:48,height:48}),r.createElement("span",{className:"nav-brand__text"},ni))),r.createElement("div",{className:"nav-right"},r.createElement("nav",{className:"nav-links"},f.map(C=>{let F=C.items;C.key==="experiences"&&(F=[{label:"Rides & Attractions",path:"/things-to-do/rides-attractions"},...e.map(V=>({label:V.name,path:`/theme/${V.slug}`}))]);const A=_(C),M=C.key==="tickets",I=!M&&o===C.key;return r.createElement("div",{key:C.key,className:`nav-item ${A?"nav-item--active":""}`},M?r.createElement(Wn,{className:"nav-link nav-link--static",to:C.path,onClick:()=>c(null)},C.label):r.createElement("button",{className:"nav-link","aria-haspopup":"true","aria-expanded":I,onClick:()=>T(C.key)},C.label),!M&&r.createElement("div",{className:`nav-dropdown ${I?"nav-dropdown--open":""}`},F.map(V=>r.createElement("button",{key:V.path,className:"nav-dropdown__item",onClick:()=>k(V.path)},V.label))))})),g.length>0&&r.createElement("div",{className:"nav-staff"},g.map(C=>r.createElement("button",{key:C.path,className:`nav-link nav-link--staff ${S===C.path?"nav-link--active":""}`,onClick:()=>k(C.path)},C.label))),r.createElement("div",{className:"nav-auth"},E&&r.createElement("button",{className:"nav-cart",onClick:()=>p(!0)},"Cart",r.createElement("span",{className:"nav-cart__badge"},y)),a&&r.createElement(Wn,{className:"nav-account",to:"/account",onClick:()=>{p(!1),c(null)}},"Account"),a?r.createElement("button",{className:"btn primary",onClick:x},"Sign Out"):r.createElement("button",{className:"btn primary",onClick:()=>n(`/login?redirect=${encodeURIComponent(b)}`)},"Sign In"))))),r.createElement(hd,{toast:d,onDismiss:h}),m&&r.createElement(oy,{onClose:()=>p(!1)}))}const uy=[{key:"jurassic",title:"Jurassic Zone",subtitle:"Primeval thrills with towering coasters and aquatic escapes.",href:"/things-to-do/theme/jurassic-zone",gradient:"from-emerald-500 via-lime-400 to-amber-300",extraClass:"home-theme-card--jurassic"},{key:"medieval",title:"Medieval Fantasy",subtitle:"Dragon-fire adventures and enchanted quests for every hero.",href:"/things-to-do/theme/medieval-fantasy-zone",gradient:"from-purple-500 via-indigo-500 to-sky-400",extraClass:"home-theme-card--medieval"},{key:"wild-west",title:"Wild West",subtitle:"High-noon showdowns, runaway trains, and frontier flair.",href:"/things-to-do/theme/wild-west-zone",gradient:"from-amber-500 via-orange-500 to-rose-400",extraClass:"home-theme-card--wildwest"},{key:"nova-crest",title:"Nova-Crest",subtitle:"Futuristic spectacles, zero-G simulators, and neon nights.",href:"/things-to-do/theme/nova-crest-futuristic-zone",gradient:"from-cyan-500 via-blue-500 to-fuchsia-500",extraClass:"home-theme-card--novacrest"}];function my(){const e=bt();function t(n){e(n)}return r.createElement("div",{className:"page home-page"},r.createElement("section",{className:"home-hero home-hero--with-bg home-hero--fullbleed"},r.createElement("div",{className:"home-hero__container"},r.createElement("div",{className:"home-hero__inner"},r.createElement("h1",null,"Skip Through Time, One Thrill at a Time."),r.createElement("p",null,"Journey from prehistoric jungles to neon skylines in a single day. Discover rides for families, adventurers, and thrill seeker plus dining, shows, and unforgettable souvenirs."),r.createElement("div",{className:"home-hero__actions"},r.createElement("button",{className:"btn primary",onClick:()=>t("/ticket-passes")},"Buy Tickets"),r.createElement("button",{className:"btn",onClick:()=>t("/things-to-do/rides-attractions")},"Explore Attractions"),r.createElement("button",{className:"btn",onClick:()=>t("/things-to-do/dining")},"Marketplace"))))),r.createElement("section",{className:"home-themes"},r.createElement("header",{className:"section-header"},r.createElement("h2",null,"Choose Your Era"),r.createElement("p",null,"Four immersive zones, one destination. Pick a realm to start planning your adventure.")),r.createElement("div",{className:"home-theme-grid"},uy.map(n=>r.createElement("button",{key:n.key,className:`home-theme-card bg-gradient-to-br ${n.gradient} ${n.extraClass??""}`,onClick:()=>t(`/theme/${n.href.split("/").pop()}`)},r.createElement("div",{className:"home-theme-card__content"},r.createElement("h3",null,n.title),r.createElement("p",null,n.subtitle),r.createElement("span",{className:"home-theme-card__cta"},"View experiences")),r.createElement("div",{className:"home-theme-card__overlay"},"Artwork placeholder"))))),r.createElement("section",{className:"home-gift-shop"},r.createElement("div",{className:"home-gift-shop__content"},r.createElement("h2",null,"Bring the Time Jump Magic Home"),r.createElement("p",null,"From era-inspired apparel to exclusive collectibles, the Time Jump Gift Shop has a treasure for every traveler. Preview limited releases and skip the in-park line by adding favorites to your cart ahead of time."),r.createElement("div",{className:"home-gift-shop__actions"},r.createElement("button",{className:"btn primary",onClick:()=>t("/things-to-do/shopping")},"Shop Souvenirs"),r.createElement("button",{className:"btn",onClick:()=>t("/things-to-do/dining")},"Plan Snacks & Meals"))),r.createElement("div",{className:"home-gift-shop__visual"},r.createElement("div",{className:"home-gift-shop__placeholder","aria-hidden":"true"}))))}function dy(){const{add:e}=Za(),[t,n]=u.useState([]),[a,l]=u.useState(!0),[s,i]=u.useState(""),[o,c]=u.useState(""),[m,p]=u.useState("all"),[d,h]=u.useState("asc");u.useEffect(()=>{let E=!0;return(async()=>{l(!0),i("");try{const y=await fetch("http://localhost:5175/giftshop/items"),f=await y.json();if(!y.ok)throw new Error((f==null?void 0:f.error)||"Failed to load gift shop items");E&&n(Array.isArray(f)?f:f.items||[])}catch(y){E&&i(y.message||"Failed to load gift shop items")}finally{E&&l(!1)}})(),()=>{E=!1}},[]);const v=u.useMemo(()=>{const E=new Set(t.map(y=>y.theme_name||"Other"));return["all",...Array.from(E).sort((y,f)=>y.localeCompare(f))]},[t]),S=u.useMemo(()=>t.filter(E=>E.name.toLowerCase().includes(o.toLowerCase())).filter(E=>m==="all"||(E.theme_name||"Other")===m),[t,o,m]),b=u.useMemo(()=>[...S].sort((E,y)=>{const f=(E.name||"").localeCompare(y.name||"");return d==="asc"?f:-f}),[S,d]);return r.createElement("div",{className:"page"},r.createElement("div",{className:"page-box page-box--wide dining-page"},r.createElement("section",{className:"dining-hero"},r.createElement("div",{className:"dining-hero__content"},r.createElement("p",{className:"dining-eyebrow"},"Marketplace"),r.createElement("h1",null,"Souvenirs from every timeline."),r.createElement("p",null,"Pair each land with its signature keepsakes and keep your cart synced while you explore."))),r.createElement("div",{className:"dining-tools"},r.createElement("input",{className:"input input--compact",placeholder:"Search souvenirs...",value:o,onChange:E=>c(E.target.value)}),r.createElement("div",{className:"dining-filters"},v.map(E=>r.createElement("button",{key:E,className:`dining-filter ${m===E?"dining-filter--active":""}`,onClick:()=>p(E)},E==="all"?"All Lands":E)))),r.createElement("div",{className:"dining-sort-bar"},r.createElement("span",null,"Sort by name:"),r.createElement("div",{className:"dining-sort-buttons"},r.createElement("button",{type:"button",className:`dining-sort-btn ${d==="asc"?"active":""}`,onClick:()=>h("asc")},"A-Z"),r.createElement("button",{type:"button",className:`dining-sort-btn ${d==="desc"?"active":""}`,onClick:()=>h("desc")},"Z-A"))),a&&r.createElement("div",{className:"text-sm text-gray-600"},"Loading..."),s&&!a&&r.createElement("div",{className:"alert error"},s),!a&&!s&&b.length===0&&r.createElement("div",{className:"text-sm text-gray-600"},"No items match that filter."),!a&&!s&&b.length>0&&r.createElement("div",{className:"items-grid"},b.map(E=>r.createElement("article",{key:E.id,className:"item-card"},E.image_url?r.createElement("div",{className:"item-card__image"},r.createElement("img",{src:E.image_url,alt:E.name,loading:"lazy"})):r.createElement("div",{className:"item-card__image item-card__image--placeholder"},"Gift preview"),r.createElement("div",{className:"item-name"},E.name),r.createElement("div",{className:"item-card__footer"},r.createElement("span",{className:"item-card__price"},"$",Number(E.price||0).toFixed(2)),r.createElement("button",{className:"btn item-card__add",onClick:()=>e({kind:"gift",id:E.id,name:E.name,price:E.price})},"Add to Cart")))))))}function fy(){const{add:e}=Za(),[t,n]=u.useState([]),[a,l]=u.useState(!0),[s,i]=u.useState(""),[o,c]=u.useState(""),[m,p]=u.useState("all"),[d,h]=u.useState("asc");u.useEffect(()=>{let E=!0;return(async()=>{l(!0),i("");try{const y=await fetch("http://localhost:5175/food/items"),f=await y.json();if(!y.ok)throw new Error((f==null?void 0:f.error)||"Failed to load food items");E&&n(Array.isArray(f)?f:f.items||[])}catch(y){E&&i(y.message||"Failed to load food items")}finally{E&&l(!1)}})(),()=>{E=!1}},[]);const v=u.useMemo(()=>{const E=new Set(t.map(y=>y.theme_name||"Other"));return["all",...Array.from(E).sort((y,f)=>y.localeCompare(f))]},[t]),S=u.useMemo(()=>t.filter(E=>E.name.toLowerCase().includes(o.toLowerCase())).filter(E=>m==="all"||(E.theme_name||"Other")===m),[t,o,m]),b=u.useMemo(()=>[...S].sort((E,y)=>{const f=(E.name||"").localeCompare(y.name||"");return d==="asc"?f:-f}),[S,d]);return r.createElement("div",{className:"page"},r.createElement("div",{className:"page-box page-box--wide dining-page"},r.createElement("section",{className:"dining-hero"},r.createElement("div",{className:"dining-hero__content"},r.createElement("p",{className:"dining-eyebrow"},"Marketplace"),r.createElement("h1",null,"Dine your way through every era."),r.createElement("p",null,"Filter by land, browse signature bites, and plan your tasting tour before you even scan your ticket."))),r.createElement("div",{className:"dining-tools"},r.createElement("input",{className:"input input--compact",placeholder:"Search menu items...",value:o,onChange:E=>c(E.target.value)}),r.createElement("div",{className:"dining-filters"},v.map(E=>r.createElement("button",{key:E,className:`dining-filter ${m===E?"dining-filter--active":""}`,onClick:()=>p(E)},E==="all"?"All Lands":E)))),r.createElement("div",{className:"dining-sort-bar"},r.createElement("span",null,"Sort by name:"),r.createElement("div",{className:"dining-sort-buttons"},r.createElement("button",{type:"button",className:`dining-sort-btn ${d==="asc"?"active":""}`,onClick:()=>h("asc")},"A-Z"),r.createElement("button",{type:"button",className:`dining-sort-btn ${d==="desc"?"active":""}`,onClick:()=>h("desc")},"Z-A"))),a&&r.createElement("div",{className:"text-sm text-gray-600"},"Loading..."),s&&!a&&r.createElement("div",{className:"alert error"},s),!a&&!s&&b.length===0&&r.createElement("div",{className:"text-sm text-gray-600"},"No menu items match that filter."),!a&&!s&&b.length>0&&r.createElement("div",{className:"items-grid"},b.map(E=>r.createElement("article",{key:E.id,className:"item-card"},E.image_url?r.createElement("div",{className:"item-card__image"},r.createElement("img",{src:E.image_url,alt:E.name,loading:"lazy"})):r.createElement("div",{className:"item-card__image item-card__image--placeholder"},"Menu preview"),r.createElement("div",{className:"item-name"},E.name),r.createElement("div",{className:"item-card__footer"},r.createElement("span",{className:"item-card__price"},"$",Number(E.price||0).toFixed(2)),r.createElement("button",{className:"btn item-card__add",onClick:()=>e({kind:"food",id:E.id,name:E.name,price:E.price})},"Add to Cart")))))))}const py={owner:"Owner",admin:"Admin",manager:"Manager",employee:"Employee",customer:"Customer"};function Ic(e){return e?py[e]||e.charAt(0).toUpperCase()+e.slice(1):"Unknown"}function vr({children:e}){return r.createElement("div",{className:"container",style:{display:"grid",gap:12}},e)}function ve({children:e,className:t=""}){return r.createElement("div",{className:`panel ${t}`.trim()},e)}function hy(e){return(e||[]).map(t=>{if(typeof t=="string"){const a=t.replace(/_/g," ").replace(/\b\w/g,l=>l.toUpperCase());return{key:t,label:a}}const n=t.label?t.label:t.key.replace(/_/g," ").replace(/\b\w/g,a=>a.toUpperCase());return{...t,label:n}})}function yy({column:e,sortableKeys:t,sortKey:n,sortDir:a,onSort:l,style:s}){const i=t.includes(e.key),o=i&&n===e.key,c=o&&a==="asc"?"desc":"asc",m=i?"sortable-header":void 0;return r.createElement("th",{style:s,className:m},i?r.createElement("button",{type:"button",className:"table-sort-button",onClick:()=>{o?l(e.key,c):l(e.key,"asc")}},r.createElement("span",null,e.label),r.createElement("span",{className:`sort-indicator ${o?a:"none"}`,"aria-hidden":"true"})):e.label)}function kt({title:e,description:t,rows:n,columns:a,loading:l,error:s,emptyMessage:i,searchPlaceholder:o="Search...",sortableKeys:c=[]}){const[m,p]=u.useState(""),[d,h]=u.useState(c[0]??null),[v,S]=u.useState("asc"),b=u.useMemo(()=>hy(a),[a]),E=u.useMemo(()=>{const g=m.trim().toLowerCase();return g?(n||[]).filter(k=>b.some(T=>{const x=k==null?void 0:k[T.key];return x==null?!1:String(x).toLowerCase().includes(g)})):n||[]},[n,b,m]);u.useEffect(()=>{if(!c.length){d!==null&&h(null);return}c.includes(d)||(h(c[0]??null),S("asc"))},[c,d]);const y=u.useMemo(()=>{if(!d)return E;const g=[...E];return g.sort((k,T)=>{const x=k==null?void 0:k[d],_=T==null?void 0:T[d];if(x==null)return 1;if(_==null)return-1;if(typeof x=="number"&&typeof _=="number")return v==="asc"?x-_:_-x;const C=Number(x),F=Number(_);return!Number.isNaN(C)&&!Number.isNaN(F)?v==="asc"?C-F:F-C:v==="asc"?String(x).localeCompare(String(_)):String(_).localeCompare(String(x))}),g},[E,d,v]),f=(g,k)=>{h(g),S(k)};return r.createElement(ve,null,r.createElement("div",{className:"dataset-header"},r.createElement("div",null,r.createElement("h3",null,e),t&&r.createElement("p",null,t))),r.createElement("div",{className:"admin-search-bar",style:{maxWidth:320}},r.createElement("input",{className:"input",type:"search",value:m,onChange:g=>p(g.target.value),placeholder:o,style:{width:"100%"}})),l&&r.createElement("div",{className:"text-sm text-gray-600"},"Loading..."),!l&&s&&r.createElement("div",{className:"alert error"},s),!l&&!s&&(y.length===0?r.createElement("div",{className:"text-sm text-gray-600"},i):r.createElement("div",{style:{overflowX:"auto"}},r.createElement("table",{style:{width:"100%",borderCollapse:"collapse"}},r.createElement("thead",null,r.createElement("tr",null,b.map(g=>r.createElement(yy,{key:g.key,column:g,sortableKeys:c,sortKey:d,sortDir:v,onSort:f,style:{textAlign:"left",padding:"6px",borderBottom:"1px solid #ececec"}})))),r.createElement("tbody",null,y.map((g,k)=>r.createElement("tr",{key:(g==null?void 0:g.id)??(g==null?void 0:g.slug)??(g==null?void 0:g.lot)??(g==null?void 0:g.lotId)??k},b.map(T=>{const x=g==null?void 0:g[T.key],_=T.render?T.render(x,g):x;return r.createElement("td",{key:T.key,style:{padding:"6px",borderBottom:"1px solid #f5f5f5"}},_||_===0?_:"--")}))))))))}function gy({rows:e,columns:t,emptyMessage:n}){return!e||e.length===0?r.createElement("div",{className:"text-sm text-gray-600"},n):r.createElement("div",{style:{overflowX:"auto"}},r.createElement("table",{style:{width:"100%",borderCollapse:"collapse"}},r.createElement("thead",null,r.createElement("tr",null,t.map(a=>r.createElement("th",{key:a.key,style:{textAlign:"left",padding:"6px",borderBottom:"1px solid #ececec"}},a.label)))),r.createElement("tbody",null,e.map((a,l)=>r.createElement("tr",{key:a.id??a.slug??a.lot??a.lotId??l},t.map(s=>{const i=a[s.key],o=s.render?s.render(i,a):i;return r.createElement("td",{key:s.key,style:{padding:"6px",borderBottom:"1px solid #f5f5f5"}},o||o===0?o:"--")}))))))}const Yl={alerts:[],metrics:{},recentChanges:[]};let ma=null;function vy(e=6e4){const[t,n]=u.useState(()=>ma),[a,l]=u.useState(!ma),[s,i]=u.useState(""),o=u.useRef(!1),c=u.useRef(!!ma),m=u.useCallback(async({silent:d=!1}={})=>{d||(l(!0),i(""));try{const h=await Q("/admin/insights"),v=(h==null?void 0:h.data)||Yl;ma=v,n(v)}catch(h){d||i((h==null?void 0:h.message)||"Unable to load admin insights."),ma||n(Yl)}finally{d||l(!1)}},[]);u.useEffect(()=>{if(o.current||(c.current?(l(!1),m({silent:!0})):m(),o.current=!0),e===null)return;const d=setInterval(()=>m({silent:!0}),e);return()=>clearInterval(d)},[m,e]);const p=u.useCallback(()=>m({silent:!1}),[m]);return{insights:t||Yl,loading:a,error:s,refresh:p}}function Ey(e){return[{key:"catalog",label:"Catalog",items:[{key:"tickets",label:"Ticket Types",to:"/admin/tickets"},{key:"parking",label:"Parking Lots",to:"/admin/parking"},{key:"gift",label:"Gift Shop",to:"/admin/gift"},{key:"food",label:"Dining Menu",to:"/admin/food"},{key:"themes",label:"Themes",to:"/admin/themes"},{key:"attractions",label:"Attractions",to:"/admin/attractions"}]},{key:"operations",label:"Operations",items:[{key:"employees",label:"Employees",to:"/admin/employees"},{key:"maintenance",label:"Maintenance",to:"/admin/maintenance"}]}].map(n=>({...n,items:n.items.filter(a=>!a.roles||a.roles.includes(e))})).filter(n=>n.items.length>0)}function Sy({children:e}){var x,_,C,F,A,M;const{user:t,actualRole:n,loading:a}=Me(),l=wt(),s=bt(),{insights:i,loading:o,error:c,refresh:m}=vy(),[p,d]=u.useState("");if(a&&!t)return r.createElement(vr,null,r.createElement(ve,null,"Loading..."));if(!t)return r.createElement(vr,null,r.createElement(ve,null,"Please login."));const h=n??t.role;if(!["admin","owner"].includes(h))return r.createElement(vr,null,r.createElement(ve,null,"Admin/Owner only."));const v=t.role,S=v!==h,b=u.useMemo(()=>Ey(h),[h]),E=u.useMemo(()=>b.flatMap(I=>I.items.map(V=>({...V,group:I.label}))),[b]),y=p?E.filter(I=>I.label.toLowerCase().includes(p.toLowerCase())):E;function f(I){return!!(l.pathname===I||l.pathname.startsWith(`${I}/`))}function g(I){I.preventDefault(),y.length>0&&(s(y[0].to),d(""))}function k(I,V="--"){return i?I??V:V}function T(I){if(!I)return"";const V=new Date(I);return Number.isNaN(V.getTime())?I:V.toLocaleString()}return r.createElement(vr,null,r.createElement("div",{style:{display:"grid",gridTemplateColumns:"280px 1fr",gap:20,padding:"2rem 3rem 3rem",alignItems:"flex-start"}},r.createElement("aside",{style:{display:"grid",gap:12,alignSelf:"start",position:"sticky",top:24,maxHeight:"calc(100vh - 48px)",overflowY:"auto",paddingRight:4}},r.createElement(ve,null,r.createElement("div",{style:{fontWeight:700,fontSize:"1.1rem"}},"Admin Console"),r.createElement("div",{className:"muted"},t.email,"  ",Ic(h)),S&&r.createElement("div",{className:"alert warning",style:{marginTop:8,fontSize:"0.8rem"}},"Viewing as ",Ic(v),". Switch back via View As to regain full access.")),r.createElement(ve,null,r.createElement("form",{onSubmit:g,className:"admin-search-bar"},r.createElement("input",{className:"input",value:p,onChange:I=>d(I.target.value),placeholder:"Jump to page..."})),r.createElement("p",{className:"muted",style:{fontSize:12,marginTop:6}},"Type a page name and press enter to jump straight there.")),r.createElement(ve,null,r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},r.createElement("strong",null,"Quick Stats"),r.createElement("button",{className:"btn subtle",type:"button",onClick:m,disabled:o},o?"Refreshing...":"Refresh")),c&&r.createElement("div",{className:"alert error",style:{marginTop:8}},c),r.createElement("ul",{style:{listStyle:"none",padding:0,margin:"8px 0 0 0",display:"grid",gap:6}},r.createElement("li",null,"Open incidents: ",r.createElement("strong",null,k((x=i==null?void 0:i.metrics)==null?void 0:x.openIncidents))),r.createElement("li",null,"Maintenance queue: ",r.createElement("strong",null,k((_=i==null?void 0:i.metrics)==null?void 0:_.openMaintenance))),r.createElement("li",null,"Active rides: ",r.createElement("strong",null,k((C=i==null?void 0:i.metrics)==null?void 0:C.activeRides))),r.createElement("li",null,"Inactive assets: ",r.createElement("strong",null,k((F=i==null?void 0:i.metrics)==null?void 0:F.inactiveAssets))))),r.createElement(ve,null,r.createElement("strong",null,"Alerts"),r.createElement("div",{style:{marginTop:8,display:"grid",gap:6}},((A=i==null?void 0:i.alerts)!=null&&A.length?i.alerts:[{level:"info",message:"No active alerts."}]).map((I,V)=>r.createElement("div",{key:V,className:`alert ${I.level}`,style:{margin:0}},I.message)))),r.createElement(ve,null,r.createElement("strong",null,"Recent Changes"),r.createElement("div",{style:{marginTop:8,display:"grid",gap:6}},((i==null?void 0:i.recentChanges)||[]).map(I=>r.createElement("div",{key:`${I.resourceType}-${I.resourceId}`,style:{fontSize:12}},r.createElement("div",{style:{fontWeight:600,textTransform:"capitalize"}},I.resourceType),r.createElement("div",null,"ID: ",I.resourceId),r.createElement("div",null,"Status: ",I.status||"unknown"),r.createElement("div",{className:"muted"},T(I.updatedAt)))),!((M=i==null?void 0:i.recentChanges)!=null&&M.length)&&r.createElement("div",{className:"muted"},"No recent updates tracked.")))),r.createElement("section",{style:{display:"grid",gap:16}},S&&v==="customer"&&r.createElement(ve,null,r.createElement("div",{className:"text-sm text-gray-700"},'You are currently viewing the site as a customer. Switch back using "View As" in the header to access admin and owner tools.')),r.createElement(ve,null,r.createElement("h3",{style:{marginTop:0}},"Quick navigation"),r.createElement("div",{style:{display:"grid",gap:12}},b.map(I=>r.createElement("div",{key:I.key},r.createElement("div",{style:{fontWeight:600,marginBottom:6}},I.label),r.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:8}},I.items.map(V=>r.createElement("button",{key:V.key,type:"button",className:`btn ${f(V.to)?"primary":""}`,onClick:()=>{f(V.to)||s(V.to)}},V.label))))))),e)))}function Ny(){const[e,t]=u.useState([]),[n,a]=u.useState(!0),[l,s]=u.useState(""),[i,o]=u.useState({name:"",price:""}),[c,m]=u.useState(!1),[p,d]=u.useState(""),[h,v]=u.useState(""),[S,b]=u.useState(null),[E,y]=u.useState({name:"",price:""}),[f,g]=u.useState(!1),[k,T]=u.useState(null),[x,_]=u.useState(!1),C=u.useCallback(async()=>{a(!0),s("");try{const P=await Q("/ticket-types"),z=((P==null?void 0:P.data)||[]).map(Y=>{const ne=Y.name??Y.ticket_type??Y.id??"";return{id:ne,key:ne,name:Y.name??Y.ticket_type??"Ticket",price:Number(Y.price??0)}});t(z)}catch(P){s((P==null?void 0:P.message)||"Unable to load ticket types."),t([])}finally{a(!1)}},[]);u.useEffect(()=>{C()},[C]);async function F(P){if(P.preventDefault(),!c){if(!i.name.trim()){v("Ticket name is required.");return}m(!0),d(""),v("");try{await Q("/ticket-types",{method:"POST",body:JSON.stringify({name:i.name.trim(),price:Number(i.price||0)})}),d("Ticket type saved."),o({name:"",price:""}),C()}catch(z){v((z==null?void 0:z.message)||"Request failed.")}finally{m(!1)}}}function A(P){b(P),y({name:P.name||"",price:P.price??""}),g(!1)}async function M(P){if(P.preventDefault(),!(!S||f)){if(!E.name.trim()){v("Ticket name is required.");return}g(!0),v("");try{await Q(`/ticket-types/${encodeURIComponent(S.key)}`,{method:"PUT",body:JSON.stringify({name:E.name.trim(),price:Number(E.price||0)})}),b(null),C()}catch(z){v((z==null?void 0:z.message)||"Unable to update ticket type.")}finally{g(!1)}}}function I(P){T(P),_(!1)}async function V(){if(!(!k||x)){_(!0),v("");try{await Q(`/ticket-types/${encodeURIComponent(k.key)}`,{method:"DELETE"}),T(null),C()}catch(P){v((P==null?void 0:P.message)||"Unable to delete ticket type.")}finally{_(!1)}}}return r.createElement(r.Fragment,null,r.createElement(ve,null,r.createElement("h3",{style:{marginTop:0}},"Add Ticket Type"),r.createElement("p",{className:"muted"},"Create passes that appear in checkout for guests."),r.createElement("form",{className:"admin-form-grid",onSubmit:F},r.createElement("label",{className:"field"},r.createElement("span",null,"Ticket name"),r.createElement("input",{className:"input",value:i.name,onChange:P=>o(z=>({...z,name:P.target.value})),placeholder:"Adult, Child, VIP",disabled:c})),r.createElement("label",{className:"field"},r.createElement("span",null,"Price"),r.createElement("input",{className:"input",type:"number",min:"0",step:"0.01",value:i.price,onChange:P=>o(z=>({...z,price:P.target.value})),disabled:c})),r.createElement("button",{className:"btn primary",type:"submit",disabled:c,style:{justifySelf:"flex-start",width:"auto"}},c?"Saving...":"Add Ticket Type")),r.createElement("div",{style:{marginTop:12}},p&&r.createElement("div",{className:"alert success"},p),h&&r.createElement("div",{className:"alert error"},h))),r.createElement(kt,{title:"Ticket Types",description:"Passes available to customers in checkout.",rows:e,columns:[{key:"name",label:"Ticket"},{key:"price",label:"Price",render:P=>`$${Number(P||0).toFixed(2)}`},{key:"actions",label:"Actions",render:(P,z)=>r.createElement("div",{className:"table-actions"},r.createElement("button",{type:"button",className:"btn btn-text",onClick:()=>A(z)},"Edit"),r.createElement("button",{type:"button",className:"btn btn-text danger",onClick:()=>I(z)},"Delete"))}],loading:n,error:l,emptyMessage:"No tickets yet.",searchPlaceholder:"Search ticket types...",sortableKeys:["name","price"]}),S&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Edit Ticket Type"),r.createElement("form",{className:"admin-form-grid",onSubmit:M},r.createElement("label",{className:"field"},r.createElement("span",null,"Ticket name"),r.createElement("input",{className:"input",value:E.name,onChange:P=>y(z=>({...z,name:P.target.value})),disabled:f})),r.createElement("label",{className:"field"},r.createElement("span",null,"Price"),r.createElement("input",{className:"input",type:"number",min:"0",step:"0.01",value:E.price,onChange:P=>y(z=>({...z,price:P.target.value})),disabled:f})),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>b(null),disabled:f},"Cancel"),r.createElement("button",{type:"submit",className:"btn primary",disabled:f},f?"Saving...":"Save Changes"))))),k&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Delete Ticket Type"),r.createElement("p",null,"Are you sure you want to remove ",r.createElement("strong",null,k.name),"?"),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>T(null),disabled:x},"Cancel"),r.createElement("button",{type:"button",className:"btn danger",onClick:V,disabled:x},x?"Deleting...":"Delete")))))}function ky(){const[e,t]=u.useState([]),[n,a]=u.useState(!0),[l,s]=u.useState(""),[i,o]=u.useState({lot:"",price:""}),[c,m]=u.useState(!1),[p,d]=u.useState(""),[h,v]=u.useState(""),[S,b]=u.useState(null),[E,y]=u.useState({lot:"",price:""}),[f,g]=u.useState(!1),[k,T]=u.useState(null),[x,_]=u.useState(!1),C=u.useCallback(async()=>{a(!0),s("");try{const P=await Q("/parking-lots"),z=((P==null?void 0:P.data)||[]).map(Y=>({lotId:Y.lotId??Y.parking_lot_id??null,lot:Y.lot??Y.lot_name??"",price:Number(Y.price??Y.base_price??0)}));t(z)}catch(P){s((P==null?void 0:P.message)||"Unable to load parking lots."),t([])}finally{a(!1)}},[]);u.useEffect(()=>{C()},[C]);async function F(P){if(P.preventDefault(),c)return;if(!i.lot.trim()){v("Parking lot name is required.");return}const z=Number(i.price);if(!Number.isFinite(z)||z<0){v("Base price must be a non-negative number.");return}m(!0),d(""),v("");try{await Q("/parking-lots",{method:"POST",body:JSON.stringify({lot_name:i.lot.trim(),base_price:z})}),d("Parking lot saved."),o({lot:"",price:""}),C()}catch(Y){v((Y==null?void 0:Y.message)||"Request failed.")}finally{m(!1)}}function A(P){b(P),y({lot:P.lot||"",price:P.price??""}),g(!1)}async function M(P){if(P.preventDefault(),!S||f)return;if(!E.lot.trim()){v("Lot name is required.");return}const z=E.price===""?null:Number(E.price);if(z!==null&&(!Number.isFinite(z)||z<0)){v("Base price must be a non-negative number.");return}g(!0),v("");try{await Q(`/parking-lots/${S.lotId}`,{method:"PUT",body:JSON.stringify({lot_name:E.lot.trim(),base_price:z})}),b(null),C()}catch(Y){v((Y==null?void 0:Y.message)||"Unable to update parking lot.")}finally{g(!1)}}function I(P){T(P),_(!1)}async function V(){if(!(!k||x)){_(!0),v("");try{await Q(`/parking-lots/${k.lotId}`,{method:"DELETE"}),T(null),C()}catch(P){v((P==null?void 0:P.message)||"Unable to delete parking lot.")}finally{_(!1)}}}return r.createElement(r.Fragment,null,r.createElement(ve,null,r.createElement("h3",{style:{marginTop:0}},"Add Parking Lot"),r.createElement("p",{className:"muted"},"Maintain parking options that guests can add to their cart."),r.createElement("form",{className:"admin-form-grid",onSubmit:F},r.createElement("label",{className:"field"},r.createElement("span",null,"Lot name"),r.createElement("input",{className:"input",value:i.lot,onChange:P=>o(z=>({...z,lot:P.target.value})),placeholder:"Lot F",disabled:c})),r.createElement("label",{className:"field"},r.createElement("span",null,"Base price"),r.createElement("input",{className:"input",type:"number",min:"0",step:"0.01",value:i.price,onChange:P=>o(z=>({...z,price:P.target.value})),disabled:c})),r.createElement("button",{className:"btn primary",type:"submit",disabled:c,style:{justifySelf:"flex-start",width:"auto"}},c?"Saving...":"Add Parking Lot")),r.createElement("div",{style:{marginTop:12}},p&&r.createElement("div",{className:"alert success"},p),h&&r.createElement("div",{className:"alert error"},h))),r.createElement(kt,{title:"Parking Lots",description:"Parking inventory and pricing.",rows:e,columns:[{key:"lot",label:"Lot"},{key:"price",label:"Base Price",render:P=>`$${Number(P||0).toFixed(2)}`},{key:"actions",label:"Actions",render:(P,z)=>r.createElement("div",{className:"table-actions"},r.createElement("button",{type:"button",className:"btn btn-text",onClick:()=>A(z)},"Edit"),r.createElement("button",{type:"button",className:"btn btn-text danger",onClick:()=>I(z)},"Delete"))}],loading:n,error:l,emptyMessage:"No parking lots yet.",searchPlaceholder:"Search parking lots...",sortableKeys:["lot","price"]}),S&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Edit Parking Lot"),r.createElement("form",{className:"admin-form-grid",onSubmit:M},r.createElement("label",{className:"field"},r.createElement("span",null,"Lot name"),r.createElement("input",{className:"input",value:E.lot,onChange:P=>y(z=>({...z,lot:P.target.value})),disabled:f})),r.createElement("label",{className:"field"},r.createElement("span",null,"Base price"),r.createElement("input",{className:"input",type:"number",min:"0",step:"0.01",value:E.price,onChange:P=>y(z=>({...z,price:P.target.value})),disabled:f})),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>b(null),disabled:f},"Cancel"),r.createElement("button",{type:"submit",className:"btn primary",disabled:f},f?"Saving...":"Save Changes"))))),k&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Delete Parking Lot"),r.createElement("p",null,"Are you sure you want to remove ",r.createElement("strong",null,k.lot),"?"),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>T(null),disabled:x},"Cancel"),r.createElement("button",{type:"button",className:"btn danger",onClick:V,disabled:x},x?"Deleting...":"Delete")))))}const wy=()=>new Date().toISOString().slice(0,10);function by(){const[e,t]=u.useState([]),[n,a]=u.useState(!0),[l,s]=u.useState(""),[i,o]=u.useState({name:"",price:"",imageUrl:"",shopId:""}),[c,m]=u.useState(!1),[p,d]=u.useState(""),[h,v]=u.useState(""),[S,b]=u.useState([]),[E,y]=u.useState([]),[f,g]=u.useState({name:"",themeId:""}),[k,T]=u.useState(!1),[x,_]=u.useState(""),[C,F]=u.useState(""),[A,M]=u.useState(null),[I,V]=u.useState({name:"",price:"",imageUrl:"",shopId:""}),[P,z]=u.useState(!1),[Y,ne]=u.useState(null),[B,q]=u.useState(!1),[J,D]=u.useState(null),[O,ee]=u.useState({name:"",themeId:"",closeDate:""}),[G,oe]=u.useState(!1),[le,se]=u.useState(null),[L,R]=u.useState(!1),X=u.useCallback(async()=>{a(!0),s("");try{const N=await Q("/gift-items");t(((N==null?void 0:N.data)||[]).map(U=>({...U,image_url:U.image_url??U.imageUrl??""})))}catch(N){s((N==null?void 0:N.message)||"Unable to load gift items."),t([])}finally{a(!1)}},[]),w=u.useCallback(async()=>{try{const N=await Q("/gift-shops");b((N==null?void 0:N.data)||[])}catch{b([])}},[]),H=u.useCallback(async()=>{try{const N=await Q("/themes");y(((N==null?void 0:N.data)||[]).map(U=>({id:U.themeID??U.id,name:U.name??U.themeName})))}catch{y([])}},[]);u.useEffect(()=>{X(),w(),H()},[X,w,H]);async function W(N){if(N.preventDefault(),!c){if(!i.name.trim()){v("Item name is required.");return}if(!i.shopId){v("Select a gift shop.");return}m(!0),d(""),v("");try{await Q("/gift-items",{method:"POST",body:JSON.stringify({name:i.name.trim(),price:Number(i.price||0),imageUrl:i.imageUrl.trim(),shopId:Number(i.shopId)})}),d("Gift shop item saved."),o({name:"",price:"",imageUrl:"",shopId:""}),X()}catch(U){v((U==null?void 0:U.message)||"Request failed.")}finally{m(!1)}}}function ae(N){M(N),V({name:N.name||"",price:N.price??"",imageUrl:N.image_url||"",shopId:N.shop_id||""}),z(!1)}function ce(N){ne(N),q(!1)}async function fe(N){if(N.preventDefault(),!(!A||P)){if(!I.name.trim()){v("Item name is required.");return}if(!I.shopId){v("Select a gift shop.");return}z(!0),v("");try{await Q(`/gift-items/${A.item_id}`,{method:"PUT",body:JSON.stringify({name:I.name.trim(),price:Number(I.price||0),imageUrl:I.imageUrl.trim(),shopId:Number(I.shopId)})}),M(null),X()}catch(U){v((U==null?void 0:U.message)||"Unable to update item.")}finally{z(!1)}}}async function be(){if(!(!Y||B)){q(!0),v("");try{await Q(`/gift-items/${Y.item_id}`,{method:"DELETE"}),ne(null),X()}catch(N){v((N==null?void 0:N.message)||"Unable to delete item.")}finally{q(!1)}}}async function We(N){if(N.preventDefault(),!k){if(!f.name.trim()){F("Shop name is required.");return}if(!f.themeId){F("Theme is required.");return}T(!0),_(""),F("");try{await Q("/gift-shops",{method:"POST",body:JSON.stringify({name:f.name.trim(),themeId:Number(f.themeId),openDate:wy()})}),_("Gift shop saved."),g({name:"",themeId:""}),w()}catch(U){F((U==null?void 0:U.message)||"Unable to save gift shop.")}finally{T(!1)}}}function Ge(N){D(N),ee({name:N.name||"",themeId:N.theme_id||"",closeDate:N.close_date||""}),oe(!1)}function ke(N){se(N),R(!1)}async function re(N){if(N.preventDefault(),!(!J||G)){if(!O.name.trim()){F("Shop name is required.");return}if(!O.themeId){F("Theme is required.");return}oe(!0),F("");try{await Q(`/gift-shops/${J.shop_id}`,{method:"PUT",body:JSON.stringify({name:O.name.trim(),themeId:Number(O.themeId),closeDate:O.closeDate||null})}),D(null),w()}catch(U){F((U==null?void 0:U.message)||"Unable to update gift shop.")}finally{oe(!1)}}}async function He(){if(!(!le||L)){R(!0),F("");try{await Q(`/gift-shops/${le.shop_id}`,{method:"DELETE"}),se(null),w()}catch(N){F((N==null?void 0:N.message)||"Unable to delete gift shop.")}finally{R(!1)}}}return r.createElement(r.Fragment,null,r.createElement(ve,null,r.createElement("h3",{style:{marginTop:0}},"Add Gift Shop Item"),r.createElement("p",{className:"muted"},"Highlight souvenirs that appear on the shopping page."),r.createElement("form",{className:"admin-form-grid",onSubmit:W},r.createElement("label",{className:"field"},r.createElement("span",null,"Item name"),r.createElement("input",{className:"input",value:i.name,onChange:N=>o(U=>({...U,name:N.target.value})),placeholder:"Time Beacon Snow Globe",disabled:c})),r.createElement("label",{className:"field"},r.createElement("span",null,"Price"),r.createElement("input",{className:"input",type:"number",min:"0",step:"0.01",value:i.price,onChange:N=>o(U=>({...U,price:N.target.value})),disabled:c})),r.createElement("label",{className:"field"},r.createElement("span",null,"Gift shop"),r.createElement("select",{className:"input",value:i.shopId,onChange:N=>o(U=>({...U,shopId:N.target.value})),disabled:c},r.createElement("option",{value:""},"Select shop..."),S.map(N=>r.createElement("option",{key:N.shop_id,value:N.shop_id},N.name)))),r.createElement("label",{className:"field"},r.createElement("span",null,"Image URL"),r.createElement("input",{className:"input",value:i.imageUrl,onChange:N=>o(U=>({...U,imageUrl:N.target.value})),placeholder:"https://example.com/gift.png",disabled:c})),r.createElement("button",{className:"btn primary",type:"submit",disabled:c,style:{justifySelf:"flex-start",width:"auto"}},c?"Saving...":"Add Gift Item")),r.createElement("div",{style:{marginTop:12}},p&&r.createElement("div",{className:"alert success"},p),h&&r.createElement("div",{className:"alert error"},h))),r.createElement(ve,null,r.createElement("h3",{style:{marginTop:0}},"Add Gift Shop"),r.createElement("p",{className:"muted"},"Create shops and link them to lands."),r.createElement("form",{className:"admin-form-grid",onSubmit:We},r.createElement("label",{className:"field"},r.createElement("span",null,"Shop name"),r.createElement("input",{className:"input",value:f.name,onChange:N=>g(U=>({...U,name:N.target.value})),placeholder:"Chrono Curios",disabled:k})),r.createElement("label",{className:"field"},r.createElement("span",null,"Theme"),r.createElement("select",{className:"input",value:f.themeId,onChange:N=>g(U=>({...U,themeId:N.target.value})),disabled:k},r.createElement("option",{value:""},"Select theme..."),E.map(N=>r.createElement("option",{key:N.id,value:N.id},N.name)))),r.createElement("button",{className:"btn",type:"submit",disabled:k,style:{justifySelf:"flex-start",width:"auto"}},k?"Saving...":"Add Gift Shop")),r.createElement("div",{style:{marginTop:12}},x&&r.createElement("div",{className:"alert success"},x),C&&r.createElement("div",{className:"alert error"},C))),r.createElement(kt,{title:"Gift Shop Items",description:"Souvenir lineup available to guests.",rows:e,columns:[{key:"name",label:"Item"},{key:"shop_name",label:"Shop"},{key:"theme_name",label:"Theme"},{key:"price",label:"Price",render:N=>`$${Number(N||0).toFixed(2)}`},{key:"actions",label:"Actions",render:(N,U)=>r.createElement("div",{className:"table-actions"},r.createElement("button",{type:"button",className:"btn btn-text",onClick:()=>ae(U)},"Edit"),r.createElement("button",{type:"button",className:"btn btn-text danger",onClick:()=>ce(U)},"Delete"))}],loading:n,error:l,emptyMessage:"No gift items tracked.",searchPlaceholder:"Search gift items...",sortableKeys:["name","price"]}),r.createElement(kt,{title:"Gift Shops",description:"Shops available across each theme.",rows:S,columns:[{key:"name",label:"Shop"},{key:"theme_name",label:"Theme"},{key:"actions",label:"Actions",render:(N,U)=>r.createElement("div",{className:"table-actions"},r.createElement("button",{type:"button",className:"btn btn-text",onClick:()=>Ge(U)},"Edit"),r.createElement("button",{type:"button",className:"btn btn-text danger",onClick:()=>ke(U)},"Delete"))}],loading:!1,error:"",emptyMessage:"No gift shops created.",searchPlaceholder:"Search gift shops...",sortableKeys:["name","theme_name"]}),A&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Edit Gift Item"),r.createElement("form",{className:"admin-form-grid",onSubmit:fe},r.createElement("label",{className:"field"},r.createElement("span",null,"Item name"),r.createElement("input",{className:"input",value:I.name,onChange:N=>V(U=>({...U,name:N.target.value})),disabled:P})),r.createElement("label",{className:"field"},r.createElement("span",null,"Price"),r.createElement("input",{className:"input",type:"number",min:"0",step:"0.01",value:I.price,onChange:N=>V(U=>({...U,price:N.target.value})),disabled:P})),r.createElement("label",{className:"field"},r.createElement("span",null,"Gift shop"),r.createElement("select",{className:"input",value:I.shopId,onChange:N=>V(U=>({...U,shopId:N.target.value})),disabled:P},r.createElement("option",{value:""},"Select shop..."),S.map(N=>r.createElement("option",{key:N.shop_id,value:N.shop_id},N.name)))),r.createElement("label",{className:"field"},r.createElement("span",null,"Image URL"),r.createElement("input",{className:"input",value:I.imageUrl,onChange:N=>V(U=>({...U,imageUrl:N.target.value})),disabled:P})),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>M(null),disabled:P},"Cancel"),r.createElement("button",{type:"submit",className:"btn primary",disabled:P},P?"Saving...":"Save Changes"))))),Y&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Delete Gift Item"),r.createElement("p",null,"Are you sure you want to remove ",r.createElement("strong",null,Y.name),"?"),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>ne(null),disabled:B},"Cancel"),r.createElement("button",{type:"button",className:"btn danger",onClick:be,disabled:B},B?"Deleting...":"Delete")))),J&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Edit Gift Shop"),r.createElement("form",{className:"admin-form-grid",onSubmit:re},r.createElement("label",{className:"field"},r.createElement("span",null,"Shop name"),r.createElement("input",{className:"input",value:O.name,onChange:N=>ee(U=>({...U,name:N.target.value})),disabled:G})),r.createElement("label",{className:"field"},r.createElement("span",null,"Theme"),r.createElement("select",{className:"input",value:O.themeId,onChange:N=>ee(U=>({...U,themeId:N.target.value})),disabled:G},r.createElement("option",{value:""},"Select theme..."),E.map(N=>r.createElement("option",{key:N.id,value:N.id},N.name)))),r.createElement("label",{className:"field"},r.createElement("span",null,"Close date (optional)"),r.createElement("input",{className:"input",type:"date",value:O.closeDate,onChange:N=>ee(U=>({...U,closeDate:N.target.value})),disabled:G})),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>D(null),disabled:G},"Cancel"),r.createElement("button",{type:"submit",className:"btn primary",disabled:G},G?"Saving...":"Save Changes"))))),le&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Delete Gift Shop"),r.createElement("p",null,"Are you sure you want to remove ",r.createElement("strong",null,le.name),"?"),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>se(null),disabled:L},"Cancel"),r.createElement("button",{type:"button",className:"btn danger",onClick:He,disabled:L},L?"Deleting...":"Delete")))))}function _y(){const[e,t]=u.useState([]),[n,a]=u.useState(!0),[l,s]=u.useState(""),[i,o]=u.useState({name:"",price:"",vendorId:"",imageUrl:""}),[c,m]=u.useState(!1),[p,d]=u.useState(""),[h,v]=u.useState(""),[S,b]=u.useState([]),[E,y]=u.useState([]),[f,g]=u.useState({name:"",themeId:""}),[k,T]=u.useState(!1),[x,_]=u.useState(""),[C,F]=u.useState(""),[A,M]=u.useState(null),[I,V]=u.useState({name:"",themeId:""}),[P,z]=u.useState(!1),[Y,ne]=u.useState(null),[B,q]=u.useState(!1),[J,D]=u.useState(null),[O,ee]=u.useState({name:"",price:"",vendorId:"",imageUrl:""}),[G,oe]=u.useState(!1),[le,se]=u.useState(null),[L,R]=u.useState(!1),X=u.useCallback(async()=>{a(!0),s("");try{const N=await Q("/food-items"),U=((N==null?void 0:N.data)||[]).map(sn=>({...sn,image_url:sn.image_url??sn.imageUrl??""}));t(U)}catch(N){s((N==null?void 0:N.message)||"Unable to load menu items."),t([])}finally{a(!1)}},[]),w=u.useCallback(async()=>{try{const N=await Q("/food-vendors");b((N==null?void 0:N.data)||[])}catch{b([])}},[]),H=u.useCallback(async()=>{try{const N=await Q("/themes");y(((N==null?void 0:N.data)||[]).map(U=>({id:U.themeID??U.id,name:U.name??U.themeName})))}catch{y([])}},[]);u.useEffect(()=>{X()},[X]),u.useEffect(()=>{w(),H()},[w,H]);async function W(N){if(N.preventDefault(),!c){if(!i.name.trim()){v("Menu item name is required.");return}if(!i.vendorId){v("Select a food vendor.");return}m(!0),d(""),v("");try{await Q("/food-items",{method:"POST",body:JSON.stringify({name:i.name.trim(),price:Number(i.price||0),vendorId:Number(i.vendorId),imageUrl:i.imageUrl.trim()})}),d("Menu item saved."),o({name:"",price:"",vendorId:"",imageUrl:""}),X()}catch(U){v((U==null?void 0:U.message)||"Request failed.")}finally{m(!1)}}}async function ae(N){if(N.preventDefault(),!k){if(!f.name.trim()){F("Vendor name is required.");return}if(!f.themeId){F("Theme is required.");return}T(!0),_(""),F("");try{await Q("/food-vendors",{method:"POST",body:JSON.stringify({name:f.name.trim(),themeId:Number(f.themeId)})}),_("Vendor saved."),g({name:"",themeId:""}),w()}catch(U){F((U==null?void 0:U.message)||"Unable to save vendor.")}finally{T(!1)}}}function ce(N){D(N),ee({name:N.name||"",price:N.price??"",vendorId:N.vendor_id??"",imageUrl:N.image_url||""}),oe(!1)}function fe(N){se(N),R(!1)}async function be(N){if(N.preventDefault(),!(!J||G)){if(!O.name.trim()){v("Menu item name is required.");return}if(!O.vendorId){v("Vendor must be selected.");return}oe(!0),v("");try{await Q(`/food-items/${J.item_id}`,{method:"PUT",body:JSON.stringify({name:O.name.trim(),price:Number(O.price||0),vendorId:Number(O.vendorId),imageUrl:O.imageUrl.trim()})}),D(null),X()}catch(U){v((U==null?void 0:U.message)||"Unable to update item.")}finally{oe(!1)}}}async function We(){if(!(!le||L)){R(!0),v("");try{await Q(`/food-items/${le.item_id}`,{method:"DELETE"}),se(null),X()}catch(N){v((N==null?void 0:N.message)||"Unable to delete item.")}finally{R(!1)}}}function Ge(N){M(N),V({name:N.name||"",themeId:N.theme_id||""}),z(!1)}function ke(N){ne(N),q(!1)}async function re(N){if(N.preventDefault(),!(!A||P)){if(!I.name.trim()){F("Vendor name is required.");return}if(!I.themeId){F("Theme is required.");return}z(!0),F("");try{await Q(`/food-vendors/${A.vendor_id}`,{method:"PUT",body:JSON.stringify({name:I.name.trim(),themeId:Number(I.themeId)})}),M(null),w()}catch(U){F((U==null?void 0:U.message)||"Unable to update vendor.")}finally{z(!1)}}}async function He(){if(!(!Y||B)){q(!0),F("");try{await Q(`/food-vendors/${Y.vendor_id}`,{method:"DELETE"}),ne(null),w()}catch(N){F((N==null?void 0:N.message)||"Unable to delete vendor.")}finally{q(!1)}}}return r.createElement(r.Fragment,null,r.createElement(ve,null,r.createElement("h3",{style:{marginTop:0}},"Add Menu Item"),r.createElement("p",{className:"muted"},"Showcase dining options from across the park."),r.createElement("form",{className:"admin-form-grid",onSubmit:W},r.createElement("label",{className:"field"},r.createElement("span",null,"Menu item"),r.createElement("input",{className:"input",name:"food-name",value:i.name,onChange:N=>o(U=>({...U,name:N.target.value})),placeholder:"Astro Funnel Cake",disabled:c})),r.createElement("label",{className:"field"},r.createElement("span",null,"Price"),r.createElement("input",{className:"input",name:"food-price",type:"number",min:"0",step:"0.01",value:i.price,onChange:N=>o(U=>({...U,price:N.target.value})),disabled:c})),r.createElement("label",{className:"field"},r.createElement("span",null,"Vendor"),r.createElement("select",{className:"input",name:"food-vendor",value:i.vendorId,onChange:N=>o(U=>({...U,vendorId:N.target.value})),disabled:c},r.createElement("option",{value:""},"Select vendor..."),S.map(N=>r.createElement("option",{key:N.vendor_id,value:N.vendor_id},N.name)))),r.createElement("label",{className:"field"},r.createElement("span",null,"Image URL"),r.createElement("input",{className:"input",name:"food-image",value:i.imageUrl,onChange:N=>o(U=>({...U,imageUrl:N.target.value})),placeholder:"https://example.com/dish.jpg",disabled:c})),r.createElement("button",{className:"btn primary",type:"submit",disabled:c,style:{justifySelf:"flex-start",width:"auto"}},c?"Saving...":"Add Menu Item")),r.createElement("div",{style:{marginTop:12}},p&&r.createElement("div",{className:"alert success"},p),h&&r.createElement("div",{className:"alert error"},h))),r.createElement(ve,null,r.createElement("h3",{style:{marginTop:0}},"Add Food Vendor"),r.createElement("p",{className:"muted"},"Vendors link dining items to specific themes."),r.createElement("form",{className:"admin-form-grid",onSubmit:ae},r.createElement("label",{className:"field"},r.createElement("span",null,"Vendor name"),r.createElement("input",{className:"input",name:"vendor-name",value:f.name,onChange:N=>g(U=>({...U,name:N.target.value})),placeholder:"Nova Street Eats",disabled:k})),r.createElement("label",{className:"field"},r.createElement("span",null,"Theme"),r.createElement("select",{className:"input",name:"vendor-theme",value:f.themeId,onChange:N=>g(U=>({...U,themeId:N.target.value})),disabled:k},r.createElement("option",{value:""},"Select theme..."),E.map(N=>r.createElement("option",{key:N.id,value:N.id},N.name)))),r.createElement("button",{className:"btn",type:"submit",disabled:k,style:{justifySelf:"flex-start",width:"auto"}},k?"Saving...":"Add Vendor")),r.createElement("div",{style:{marginTop:12}},x&&r.createElement("div",{className:"alert success"},x),C&&r.createElement("div",{className:"alert error"},C))),r.createElement(kt,{title:"Food Menu Items",description:"Dining choices pulled into the guest experience.",rows:e,columns:[{key:"name",label:"Item"},{key:"vendor_name",label:"Vendor"},{key:"theme_name",label:"Theme"},{key:"price",label:"Price",render:N=>`$${Number(N||0).toFixed(2)}`},{key:"actions",label:"Actions",render:(N,U)=>r.createElement("div",{className:"table-actions"},r.createElement("button",{type:"button",className:"btn btn-text",onClick:()=>ce(U)},"Edit"),r.createElement("button",{type:"button",className:"btn btn-text danger",onClick:()=>fe(U)},"Delete"))}],loading:n,error:l,emptyMessage:"No food items tracked.",searchPlaceholder:"Search menu items...",sortableKeys:["name","vendor_name","theme_name","price"]}),r.createElement(kt,{title:"Food Vendors",description:"Vendors assigned to each theme.",rows:S,columns:[{key:"name",label:"Vendor"},{key:"theme_name",label:"Theme"},{key:"actions",label:"Actions",render:(N,U)=>r.createElement("div",{className:"table-actions"},r.createElement("button",{type:"button",className:"btn btn-text",onClick:()=>Ge(U)},"Edit"),r.createElement("button",{type:"button",className:"btn btn-text danger",onClick:()=>ke(U)},"Delete"))}],loading:!1,error:"",emptyMessage:"No vendors created yet.",searchPlaceholder:"Search vendors...",sortableKeys:["name","theme_name"]}),J&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Edit Menu Item"),r.createElement("form",{className:"admin-form-grid",onSubmit:be},r.createElement("label",{className:"field"},r.createElement("span",null,"Menu item"),r.createElement("input",{className:"input",value:O.name,onChange:N=>ee(U=>({...U,name:N.target.value})),disabled:G})),r.createElement("label",{className:"field"},r.createElement("span",null,"Price"),r.createElement("input",{className:"input",type:"number",min:"0",step:"0.01",value:O.price,onChange:N=>ee(U=>({...U,price:N.target.value})),disabled:G})),r.createElement("label",{className:"field"},r.createElement("span",null,"Vendor"),r.createElement("select",{className:"input",value:O.vendorId,onChange:N=>ee(U=>({...U,vendorId:N.target.value})),disabled:G},r.createElement("option",{value:""},"Select vendor..."),S.map(N=>r.createElement("option",{key:N.vendor_id,value:N.vendor_id},N.name)))),r.createElement("label",{className:"field"},r.createElement("span",null,"Image URL"),r.createElement("input",{className:"input",value:O.imageUrl,onChange:N=>ee(U=>({...U,imageUrl:N.target.value})),disabled:G})),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>D(null),disabled:G},"Cancel"),r.createElement("button",{type:"submit",className:"btn primary",disabled:G},G?"Saving...":"Save Changes"))))),le&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Delete Menu Item"),r.createElement("p",null,"Are you sure you want to remove ",r.createElement("strong",null,le.name),"?"),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>se(null),disabled:L},"Cancel"),r.createElement("button",{type:"button",className:"btn danger",onClick:We,disabled:L},L?"Deleting...":"Delete")))),A&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Edit Vendor"),r.createElement("form",{className:"admin-form-grid",onSubmit:re},r.createElement("label",{className:"field"},r.createElement("span",null,"Vendor name"),r.createElement("input",{className:"input",value:I.name,onChange:N=>V(U=>({...U,name:N.target.value})),disabled:P})),r.createElement("label",{className:"field"},r.createElement("span",null,"Theme"),r.createElement("select",{className:"input",value:I.themeId,onChange:N=>V(U=>({...U,themeId:N.target.value})),disabled:P},r.createElement("option",{value:""},"Select theme..."),E.map(N=>r.createElement("option",{key:N.id,value:N.id},N.name)))),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>M(null),disabled:P},"Cancel"),r.createElement("button",{type:"submit",className:"btn primary",disabled:P},P?"Saving...":"Save Changes"))))),Y&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Delete Vendor"),r.createElement("p",null,"Are you sure you want to remove ",r.createElement("strong",null,Y.name),"?"),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>ne(null),disabled:B},"Cancel"),r.createElement("button",{type:"button",className:"btn danger",onClick:He,disabled:B},B?"Deleting...":"Delete")))))}function Cy(){const[e,t]=u.useState([]),[n,a]=u.useState(!0),[l,s]=u.useState(""),[i,o]=u.useState({name:"",description:"",imageUrl:""}),[c,m]=u.useState(!1),[p,d]=u.useState(""),[h,v]=u.useState(""),[S,b]=u.useState(null),[E,y]=u.useState({name:"",description:"",imageUrl:""}),[f,g]=u.useState(!1),[k,T]=u.useState(null),[x,_]=u.useState(!1),C=u.useCallback(async()=>{a(!0),s("");try{const A=await Q("/themes"),M=((A==null?void 0:A.data)||[]).map(I=>({id:I.themeID??I.id,name:I.name??I.themeName,description:I.description??I.Description??"",attraction_count:I.attraction_count??0,image_url:I.image_url??I.imageUrl??""}));t(M)}catch(A){s((A==null?void 0:A.message)||"Unable to load themes."),t([])}finally{a(!1)}},[]);u.useEffect(()=>{C()},[C]);async function F(A){if(A.preventDefault(),!c){if(!i.name.trim()){v("Theme name is required.");return}if(!i.description.trim()){v("Description is required.");return}m(!0),d(""),v("");try{await Q("/themes",{method:"POST",body:JSON.stringify({name:i.name.trim(),description:i.description.trim(),imageUrl:i.imageUrl.trim()})}),d("Theme saved."),o({name:"",description:"",imageUrl:""}),C()}catch(M){v((M==null?void 0:M.message)||"Request failed.")}finally{m(!1)}}}return r.createElement(r.Fragment,null,r.createElement(ve,null,r.createElement("h3",{style:{marginTop:0}},"Create Theme"),r.createElement("p",{className:"muted"},"Group attractions into lands that curate the experience."),r.createElement("form",{className:"admin-form-grid",onSubmit:F},r.createElement("label",{className:"field"},r.createElement("span",null,"Theme name"),r.createElement("input",{className:"input",value:i.name,onChange:A=>o(M=>({...M,name:A.target.value})),placeholder:"Chrono Harbor",disabled:c})),r.createElement("label",{className:"field"},r.createElement("span",null,"Description"),r.createElement("textarea",{className:"input",value:i.description,onChange:A=>o(M=>({...M,description:A.target.value})),placeholder:"A waterfront district where time bends.",rows:4,disabled:c})),r.createElement("label",{className:"field"},r.createElement("span",null,"Image URL"),r.createElement("input",{className:"input",value:i.imageUrl,onChange:A=>o(M=>({...M,imageUrl:A.target.value})),placeholder:"https://example.com/theme.jpg",disabled:c})),r.createElement("button",{className:"btn primary",type:"submit",disabled:c,style:{justifySelf:"flex-start",width:"auto"}},c?"Saving...":"Add Theme")),r.createElement("div",{style:{marginTop:12}},p&&r.createElement("div",{className:"alert success"},p),h&&r.createElement("div",{className:"alert error"},h))),r.createElement(kt,{title:"Themes",description:"Lands that organize attractions.",rows:e,columns:[{key:"name",label:"Theme"},{key:"description",label:"Description"},{key:"attraction_count",label:"# Attractions"},{key:"actions",label:"Actions",render:(A,M)=>r.createElement("div",{className:"table-actions"},r.createElement("button",{type:"button",className:"btn btn-text",onClick:()=>{b(M),y({name:M.name||"",description:M.description||"",imageUrl:M.image_url||""}),g(!1)}},"Edit"),r.createElement("button",{type:"button",className:"btn btn-text danger",onClick:()=>{T(M),_(!1)}},"Delete"))}],loading:n,error:l,emptyMessage:"No themes created yet.",searchPlaceholder:"Search themes...",sortableKeys:["name","attraction_count"]}),S&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Edit Theme"),r.createElement("form",{className:"admin-form-grid",onSubmit:async A=>{if(A.preventDefault(),!f){if(!E.name.trim()){v("Theme name is required.");return}if(!E.description.trim()){v("Description is required.");return}g(!0),v("");try{await Q(`/themes/${S.id}`,{method:"PUT",body:JSON.stringify({name:E.name.trim(),description:E.description.trim(),imageUrl:E.imageUrl.trim()})}),b(null),C()}catch(M){v((M==null?void 0:M.message)||"Unable to update theme.")}finally{g(!1)}}}},r.createElement("label",{className:"field"},r.createElement("span",null,"Theme name"),r.createElement("input",{className:"input",value:E.name,onChange:A=>y(M=>({...M,name:A.target.value})),disabled:f})),r.createElement("label",{className:"field"},r.createElement("span",null,"Description"),r.createElement("textarea",{className:"input",rows:4,value:E.description,onChange:A=>y(M=>({...M,description:A.target.value})),disabled:f})),r.createElement("label",{className:"field"},r.createElement("span",null,"Image URL"),r.createElement("input",{className:"input",value:E.imageUrl,onChange:A=>y(M=>({...M,imageUrl:A.target.value})),disabled:f})),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>b(null),disabled:f},"Cancel"),r.createElement("button",{type:"submit",className:"btn primary",disabled:f},f?"Saving...":"Save Changes"))))),k&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Delete Theme"),r.createElement("p",null,"Are you sure you want to remove ",r.createElement("strong",null,k.name),"?"),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>T(null),disabled:x},"Cancel"),r.createElement("button",{type:"button",className:"btn danger",disabled:x,onClick:async()=>{if(!x){_(!0),v("");try{await Q(`/themes/${k.id}`,{method:"DELETE"}),T(null),C()}catch(A){v((A==null?void 0:A.message)||"Unable to delete theme.")}finally{_(!1)}}}},x?"Deleting...":"Delete")))))}function xy(){const[e,t]=u.useState([]),[n,a]=u.useState(!0),[l,s]=u.useState(""),[i,o]=u.useState({name:"",themeId:"",typeId:"",capacity:"",imageUrl:"",experienceLevel:"",audience:""}),[c,m]=u.useState(!1),[p,d]=u.useState(""),[h,v]=u.useState(""),[S,b]=u.useState([]),[E,y]=u.useState([]),[f,g]=u.useState(null),[k,T]=u.useState({name:"",themeId:"",typeId:"",capacity:"",imageUrl:"",experienceLevel:"",audience:""}),[x,_]=u.useState(!1),[C,F]=u.useState(null),[A,M]=u.useState(!1),[I,V]=u.useState({name:"",description:""}),[P,z]=u.useState(!1),[Y,ne]=u.useState(""),[B,q]=u.useState(""),[J,D]=u.useState(null),[O,ee]=u.useState({name:"",description:""}),[G,oe]=u.useState(!1),[le,se]=u.useState(""),[L,R]=u.useState(null),[X,w]=u.useState(!1),[H,W]=u.useState(""),ae=u.useCallback(async()=>{a(!0),s("");try{const $=await Q("/attractions"),Z=(($==null?void 0:$.data)||[]).map(te=>{const _t=te.ThemeID??te.themeId??te.theme_id??"",Nd=te.AttractionTypeID??te.typeId??te.type_id??"";return{id:te.AttractionID??te.id,name:te.Name??te.name,theme:te.theme_name??"",type:te.attraction_type_name??te.TypeName??te.type??"",capacity:te.Capacity??te.capacity??te.RidersPerVehicle??te.riders_per_vehicle??null,image_url:te.image_url??te.imageUrl??"",themeId:_t,typeId:Nd,experienceLevel:te.experience_level??te.experienceLevel??"",audience:te.target_audience??te.targetAudience??""}});t(Z)}catch($){s(($==null?void 0:$.message)||"Unable to load attractions."),t([])}finally{a(!1)}},[]),ce=u.useCallback(async()=>{try{const[$,Z]=await Promise.all([Q("/themes").catch(()=>({data:[]})),Q("/attraction-types").catch(()=>({data:[]}))]);b(($.data||[]).map(te=>({id:te.themeID??te.id,name:te.name??te.themeName}))),y((Z.data||[]).map(te=>({id:te.id??te.AttractionType??te.AttractionTypeID,name:te.name??te.TypeName,description:te.description??te.Description??""})))}catch{b([]),y([])}},[]);u.useEffect(()=>{ae()},[ae]),u.useEffect(()=>{ce()},[ce]);async function fe($){if($.preventDefault(),c)return;if(!i.name.trim()){v("Attraction name is required.");return}if(!i.themeId){v("Theme must be selected.");return}if(!i.typeId){v("Attraction type must be selected.");return}const Z=Number(i.capacity);if(!Number.isFinite(Z)||Z<=0){v("Capacity must be greater than zero.");return}m(!0),d(""),v("");try{await Q("/attractions",{method:"POST",body:JSON.stringify({name:i.name.trim(),themeId:i.themeId,typeId:i.typeId,capacity:Z,imageUrl:i.imageUrl.trim(),experienceLevel:i.experienceLevel.trim(),targetAudience:i.audience.trim()})}),d("Attraction saved."),o({name:"",themeId:"",typeId:"",capacity:"",imageUrl:"",experienceLevel:"",audience:""}),ae()}catch(te){v((te==null?void 0:te.message)||"Request failed.")}finally{m(!1)}}async function be($){if($.preventDefault(),P)return;const Z=I.name.trim(),te=I.description.trim();if(!Z){q("Type name is required.");return}z(!0),q(""),ne("");try{await Q("/attraction-types",{method:"POST",body:JSON.stringify({name:Z,description:te})}),ne("Attraction type added."),V({name:"",description:""}),ce()}catch(_t){q((_t==null?void 0:_t.message)||"Unable to add type.")}finally{z(!1)}}function We($){D($),ee({name:($==null?void 0:$.name)||"",description:($==null?void 0:$.description)||""}),se("")}function Ge(){D(null),ee({name:"",description:""}),se("")}async function ke($){if($.preventDefault(),!J||G)return;const Z=O.name.trim(),te=O.description.trim();if(!Z){se("Type name is required.");return}oe(!0),se(""),ne("");try{await Q(`/attraction-types/${J.id}`,{method:"PUT",body:JSON.stringify({name:Z,description:te})}),ne("Attraction type updated."),Ge(),ce()}catch(_t){se((_t==null?void 0:_t.message)||"Unable to update type.")}finally{oe(!1)}}function re($){R($),W("")}function He(){R(null),W("")}async function N(){if(!(!L||X)){w(!0),W(""),ne("");try{await Q(`/attraction-types/${L.id}`,{method:"DELETE"}),ne("Attraction type deleted."),He(),ce()}catch($){W(($==null?void 0:$.message)||"Unable to delete type.")}finally{w(!1)}}}function U($){g($),T({name:$.name||"",themeId:$.themeId||$.ThemeID||"",typeId:$.typeId||$.type_id||"",capacity:$.capacity??"",imageUrl:$.image_url||"",experienceLevel:$.experienceLevel||$.experience_level||"",audience:$.audience||$.target_audience||""}),_(!1)}function sn($){F($),M(!1)}async function er($){if($.preventDefault(),!f||x)return;if(!k.name.trim()){v("Attraction name is required.");return}if(!k.themeId){v("Theme must be selected.");return}if(!k.typeId){v("Attraction type must be selected.");return}const Z=Number(k.capacity);if(!Number.isFinite(Z)||Z<=0){v("Capacity must be greater than zero.");return}_(!0),v("");try{await Q(`/attractions/${f.id}`,{method:"PUT",body:JSON.stringify({name:k.name.trim(),themeId:Number(k.themeId),typeId:Number(k.typeId),capacity:Z,imageUrl:k.imageUrl.trim(),experienceLevel:k.experienceLevel.trim(),targetAudience:k.audience.trim()})}),g(null),ae()}catch(te){v((te==null?void 0:te.message)||"Unable to update attraction.")}finally{_(!1)}}async function Sl(){if(!(!C||A)){M(!0),v("");try{await Q(`/attractions/${C.id}`,{method:"DELETE"}),F(null),ae()}catch($){v(($==null?void 0:$.message)||"Unable to delete attraction.")}finally{M(!1)}}}return r.createElement(r.Fragment,null,r.createElement(ve,null,r.createElement("h3",{style:{marginTop:0}},"Add Attraction"),r.createElement("p",{className:"muted"},"Publish rides and experiences for guests and operations."),r.createElement("form",{className:"admin-form-grid",onSubmit:fe},r.createElement("label",{className:"field"},r.createElement("span",null,"Attraction name"),r.createElement("input",{className:"input",value:i.name,onChange:$=>o(Z=>({...Z,name:$.target.value})),placeholder:"Chrono Coaster",disabled:c})),r.createElement("label",{className:"field"},r.createElement("span",null,"Theme"),r.createElement("select",{className:"input",value:i.themeId,onChange:$=>o(Z=>({...Z,themeId:$.target.value})),disabled:c},r.createElement("option",{value:""},"Select theme..."),S.map($=>r.createElement("option",{key:$.id,value:$.id},$.name)))),r.createElement("label",{className:"field"},r.createElement("span",null,"Attraction type"),r.createElement("select",{className:"input",value:i.typeId,onChange:$=>o(Z=>({...Z,typeId:$.target.value})),disabled:c},r.createElement("option",{value:""},"Select type..."),E.map($=>r.createElement("option",{key:$.id,value:$.id},$.name)))),r.createElement("label",{className:"field"},r.createElement("span",null,"Capacity per dispatch/event"),r.createElement("input",{className:"input",type:"number",min:"1",value:i.capacity,onChange:$=>o(Z=>({...Z,capacity:$.target.value})),disabled:c})),r.createElement("label",{className:"field"},r.createElement("span",null,"Experience level"),r.createElement("input",{className:"input",value:i.experienceLevel,onChange:$=>o(Z=>({...Z,experienceLevel:$.target.value})),placeholder:"High thrill, family-friendly, etc.",disabled:c})),r.createElement("label",{className:"field"},r.createElement("span",null,"Who's it for?"),r.createElement("input",{className:"input",value:i.audience,onChange:$=>o(Z=>({...Z,audience:$.target.value})),placeholder:"Families, thrill-seekers, ages 8+",disabled:c})),r.createElement("label",{className:"field"},r.createElement("span",null,"Image URL"),r.createElement("input",{className:"input",value:i.imageUrl,onChange:$=>o(Z=>({...Z,imageUrl:$.target.value})),placeholder:"https://example.com/attraction.jpg",disabled:c})),r.createElement("button",{className:"btn primary",type:"submit",disabled:c,style:{justifySelf:"flex-start",width:"auto"}},c?"Saving...":"Add Attraction")),r.createElement("div",{style:{marginTop:12}},p&&r.createElement("div",{className:"alert success"},p),h&&r.createElement("div",{className:"alert error"},h))),r.createElement(ve,null,r.createElement("h3",{style:{marginTop:0}},"Add Attraction Type"),r.createElement("form",{className:"admin-form-grid",onSubmit:be},r.createElement("label",{className:"field"},r.createElement("span",null,"Type name"),r.createElement("input",{className:"input",value:I.name,onChange:$=>V(Z=>({...Z,name:$.target.value})),placeholder:"Dark Ride",disabled:P})),r.createElement("label",{className:"field"},r.createElement("span",null,"Description"),r.createElement("textarea",{className:"input",value:I.description,onChange:$=>V(Z=>({...Z,description:$.target.value})),placeholder:"Describe the ride experience.",rows:3,disabled:P})),r.createElement("button",{className:"btn",type:"submit",disabled:P,style:{justifySelf:"flex-start",width:"auto"}},P?"Saving...":"Add Type")),r.createElement("div",{style:{marginTop:8}},Y&&r.createElement("div",{className:"alert success"},Y),B&&r.createElement("div",{className:"alert error"},B))),r.createElement(kt,{title:"Attraction Types",description:"Manage the categories available for attractions.",rows:E,columns:[{key:"name",label:"Type"},{key:"description",label:"Description",render:$=>$||""},{key:"actions",label:"Actions",render:($,Z)=>r.createElement("div",{className:"table-actions"},r.createElement("button",{type:"button",className:"btn btn-text",onClick:()=>We(Z)},"Edit"),r.createElement("button",{type:"button",className:"btn btn-text danger",onClick:()=>re(Z)},"Delete"))}],loading:!1,error:"",emptyMessage:"No attraction types found.",searchPlaceholder:"Search attraction types...",sortableKeys:["name"]}),r.createElement(kt,{title:"Attractions",description:"Rides and experiences available throughout the park.",rows:e,columns:[{key:"name",label:"Attraction"},{key:"theme",label:"Theme"},{key:"type",label:"Type"},{key:"experienceLevel",label:"Experience Level",render:$=>$||"N/A"},{key:"audience",label:"Who It's For",render:$=>$||"N/A"},{key:"capacity",label:"Capacity"},{key:"actions",label:"Actions",render:($,Z)=>r.createElement("div",{className:"table-actions"},r.createElement("button",{type:"button",className:"btn btn-text",onClick:()=>U(Z)},"Edit"),r.createElement("button",{type:"button",className:"btn btn-text danger",onClick:()=>sn(Z)},"Delete"))}],loading:n,error:l,emptyMessage:"No attractions recorded.",searchPlaceholder:"Search attractions...",sortableKeys:["name","theme","type"]}),f&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Edit Attraction"),r.createElement("form",{className:"admin-form-grid",onSubmit:er},r.createElement("label",{className:"field"},r.createElement("span",null,"Attraction name"),r.createElement("input",{className:"input",value:k.name,onChange:$=>T(Z=>({...Z,name:$.target.value})),disabled:x})),r.createElement("label",{className:"field"},r.createElement("span",null,"Theme"),r.createElement("select",{className:"input",value:k.themeId,onChange:$=>T(Z=>({...Z,themeId:$.target.value})),disabled:x},r.createElement("option",{value:""},"Select theme..."),S.map($=>r.createElement("option",{key:$.id,value:$.id},$.name)))),r.createElement("label",{className:"field"},r.createElement("span",null,"Attraction type"),r.createElement("select",{className:"input",value:k.typeId,onChange:$=>T(Z=>({...Z,typeId:$.target.value})),disabled:x},r.createElement("option",{value:""},"Select type..."),E.map($=>r.createElement("option",{key:$.id,value:$.id},$.name)))),r.createElement("label",{className:"field"},r.createElement("span",null,"Capacity"),r.createElement("input",{className:"input",type:"number",min:"1",value:k.capacity,onChange:$=>T(Z=>({...Z,capacity:$.target.value})),disabled:x})),r.createElement("label",{className:"field"},r.createElement("span",null,"Experience level"),r.createElement("input",{className:"input",value:k.experienceLevel,onChange:$=>T(Z=>({...Z,experienceLevel:$.target.value})),disabled:x})),r.createElement("label",{className:"field"},r.createElement("span",null,"Who's it for?"),r.createElement("input",{className:"input",value:k.audience,onChange:$=>T(Z=>({...Z,audience:$.target.value})),disabled:x})),r.createElement("label",{className:"field"},r.createElement("span",null,"Image URL"),r.createElement("input",{className:"input",value:k.imageUrl,onChange:$=>T(Z=>({...Z,imageUrl:$.target.value})),disabled:x})),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>g(null),disabled:x},"Cancel"),r.createElement("button",{type:"submit",className:"btn primary",disabled:x},x?"Saving...":"Save Changes"))))),J&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Edit Attraction Type"),r.createElement("form",{className:"admin-form-grid",onSubmit:ke},r.createElement("label",{className:"field"},r.createElement("span",null,"Type name"),r.createElement("input",{className:"input",value:O.name,onChange:$=>ee(Z=>({...Z,name:$.target.value})),disabled:G})),r.createElement("label",{className:"field"},r.createElement("span",null,"Description"),r.createElement("textarea",{className:"input",rows:3,value:O.description,onChange:$=>ee(Z=>({...Z,description:$.target.value})),disabled:G})),le&&r.createElement("div",{className:"alert error"},le),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:Ge,disabled:G},"Cancel"),r.createElement("button",{type:"submit",className:"btn primary",disabled:G},G?"Saving...":"Save Changes"))))),L&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Delete Attraction Type"),r.createElement("p",null,"Are you sure you want to remove ",r.createElement("strong",null,L.name),"? This action cannot be undone."),H&&r.createElement("div",{className:"alert error"},H),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:He,disabled:X},"Cancel"),r.createElement("button",{type:"button",className:"btn danger",onClick:N,disabled:X},X?"Removing...":"Delete")))),C&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Delete Attraction"),r.createElement("p",null,"Are you sure you want to remove ",r.createElement("strong",null,C.name),"?"),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>F(null),disabled:A},"Cancel"),r.createElement("button",{type:"button",className:"btn danger",onClick:Sl,disabled:A},A?"Deleting...":"Delete")))))}const Ty=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2});function Dy(e){if(e==null||e==="")return"--";const t=Number(e);return Number.isFinite(t)?Ty.format(t):e}function Iy(e){if(!e)return"--";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString()}function Pc(){return new Date().toISOString().slice(0,10)}function Py(){const{user:e,actualRole:t}=Me(),n=t??(e==null?void 0:e.role)??"customer",a=["admin","owner"].includes(n),[l,s]=u.useState([]),[i,o]=u.useState(!0),[c,m]=u.useState(""),[p,d]=u.useState([]),[h,v]=u.useState(!0),[S,b]=u.useState(""),[E,y]=u.useState({name:"",email:"",salary:"",startDate:Pc(),password:"",positionId:""}),[f,g]=u.useState(!1),[k,T]=u.useState(""),[x,_]=u.useState(""),[C,F]=u.useState(null),[A,M]=u.useState(!1),[I,V]=u.useState(""),[P,z]=u.useState(""),[Y,ne]=u.useState(null),[B,q]=u.useState({name:"",salary:"",positionId:""}),[J,D]=u.useState(!1),O=u.useCallback(async()=>{o(!0),m("");try{const w=await Q("/employees");s(Array.isArray(w==null?void 0:w.data)?w.data:[])}catch(w){m((w==null?void 0:w.message)||"Unable to load employees."),s([])}finally{o(!1)}},[]);u.useEffect(()=>{O()},[O]);const ee=u.useCallback(async()=>{v(!0),b("");try{const w=await Q("/positions");d(Array.isArray(w==null?void 0:w.data)?w.data:[])}catch(w){d([]),b((w==null?void 0:w.message)||"Unable to load positions.")}finally{v(!1)}},[]);u.useEffect(()=>{ee()},[ee]),u.useEffect(()=>{p.length&&y(w=>w.positionId?w:{...w,positionId:String(p[0].id)})},[p]);const G=u.useCallback(w=>{a&&(F(w),V(""),z(""),M(!1))},[a]),oe=u.useCallback(async()=>{if(!(!C||A)){M(!0),V(""),z("");try{await Q(`/employees/${C.employeeID}`,{method:"DELETE"}),z("Employee deleted."),F(null),O()}catch(w){V((w==null?void 0:w.message)||"Unable to delete employee.")}finally{M(!1)}}},[C,A,O]),le=u.useCallback(w=>{ne(w),q({name:w.name||"",salary:w.salary??"",positionId:w.role?String(w.role):p[0]?String(p[0].id):""}),T(""),_(""),D(!1)},[p]),se=async w=>{if(w.preventDefault(),!Y||J)return;if(!B.name.trim()){T("Employee name is required.");return}const H=B.salary===""?null:Number(B.salary);if(H!==null&&(!Number.isFinite(H)||H<=0)){T("Salary must be greater than zero.");return}if(H!==null&&H>2e5){T("Salary must be $200,000 or less.");return}if(!B.positionId){T("Role must be selected.");return}D(!0),T("");try{await Q(`/employees/${Y.employeeID}`,{method:"PUT",body:JSON.stringify({name:B.name.trim(),salary:H,positionId:Number(B.positionId)})}),ne(null),O()}catch(W){T((W==null?void 0:W.message)||"Unable to update employee.")}finally{D(!1)}},L=u.useMemo(()=>{const w=[{key:"name",label:"Name"},{key:"role_name",label:"Role"},{key:"email",label:"Email"},{key:"salary",label:"Salary",render:Dy},{key:"start_date",label:"Start Date",render:Iy}];return a&&w.push({key:"actions",label:"Actions",render:(H,W)=>r.createElement("div",{className:"table-actions"},r.createElement("button",{type:"button",className:"btn btn-text",onClick:()=>le(W)},"Edit"),r.createElement("button",{type:"button",className:"btn btn-text danger",onClick:()=>G(W)},"Delete"))}),w},[a,G,le]),R=(w,H)=>{y(W=>({...W,[w]:H}))};async function X(w){if(w.preventDefault(),!a||f)return;const H=E.name.trim(),W=E.email.trim().toLowerCase(),ae=E.password.trim(),ce=E.startDate.trim(),fe=Number(E.salary);if(!H){T("Employee name is required.");return}if(!W){T("Employee email is required.");return}if(!ae||ae.length<8){T("Password must be at least 8 characters.");return}if(!ce||!/^\d{4}-\d{2}-\d{2}$/.test(ce)){T("Start date must be provided in YYYY-MM-DD format.");return}if(!E.salary||Number.isNaN(fe)||fe<=0){T("Salary must be greater than zero.");return}if(fe>2e5){T("Salary must be $200,000 or less.");return}if(!E.positionId){T("Role must be selected.");return}g(!0),T(""),_("");try{await Q("/employees",{method:"POST",body:JSON.stringify({name:H,email:W,password:ae,salary:fe,startDate:ce,positionId:Number(E.positionId)})}),_("Employee created successfully."),y({name:"",email:"",salary:"",startDate:Pc(),password:"",positionId:p[0]?String(p[0].id):""}),O()}catch(be){T((be==null?void 0:be.message)||"Unable to create employee.")}finally{g(!1)}}return r.createElement("div",{className:"admin-employees"},a&&r.createElement(ve,{className:"admin-employees__form"},r.createElement("div",{className:"admin-panel-header"},r.createElement("div",null,r.createElement("h3",{style:{margin:0}},"Add Employee"),r.createElement("p",{className:"muted",style:{margin:"4px 0 0"}},"Creates both the employee record and linked user credentials."))),r.createElement("form",{className:"admin-form-grid admin-form-grid--cols",onSubmit:X},r.createElement("label",{className:"field"},r.createElement("span",null,"Full Name"),r.createElement("input",{className:"input",type:"text",value:E.name,onChange:w=>R("name",w.target.value),disabled:f})),r.createElement("label",{className:"field"},r.createElement("span",null,"Work Email"),r.createElement("input",{className:"input",type:"email",value:E.email,onChange:w=>R("email",w.target.value),disabled:f})),r.createElement("label",{className:"field"},r.createElement("span",null,"Salary (USD)"),r.createElement("input",{className:"input",type:"number",min:"0",step:"100",value:E.salary,onChange:w=>R("salary",w.target.value),disabled:f})),r.createElement("label",{className:"field"},r.createElement("span",null,"Start Date"),r.createElement("input",{className:"input",type:"date",value:E.startDate,onChange:w=>R("startDate",w.target.value),disabled:f})),r.createElement("label",{className:"field"},r.createElement("span",null,"Role"),r.createElement("select",{className:"input",value:E.positionId||"",onChange:w=>R("positionId",w.target.value),disabled:f||h||!p.length},!p.length&&r.createElement("option",{value:""},"No roles available"),p.map(w=>r.createElement("option",{key:w.id,value:w.id},w.name)))),S&&r.createElement("div",{className:"alert error",style:{gridColumn:"1 / -1"}},S),r.createElement("label",{className:"field field--full"},r.createElement("span",null,"Temporary Password"),r.createElement("input",{className:"input",type:"password",value:E.password,onChange:w=>R("password",w.target.value),disabled:f})),r.createElement("button",{className:"btn primary",type:"submit",disabled:f,style:{justifySelf:"flex-start",width:"auto"}},f?"Creating...":"Create Employee")),r.createElement("div",{style:{marginTop:12}},x&&r.createElement("div",{className:"alert success"},x),k&&r.createElement("div",{className:"alert error"},k))),r.createElement(kt,{title:"Employees",description:"Search and sort the full roster.",rows:l,columns:L,loading:i,error:c,emptyMessage:"No employees found.",searchPlaceholder:"Search employees...",sortableKeys:["name","role_name","salary","start_date"]}),(P||I)&&r.createElement("div",null,P&&r.createElement("div",{className:"alert success"},P),I&&r.createElement("div",{className:"alert error"},I)),Y&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Edit Employee"),r.createElement("form",{className:"admin-form-grid admin-form-grid--cols",onSubmit:se},r.createElement("label",{className:"field"},r.createElement("span",null,"Full name"),r.createElement("input",{className:"input",value:B.name,onChange:w=>q(H=>({...H,name:w.target.value})),disabled:J})),r.createElement("label",{className:"field"},r.createElement("span",null,"Salary (USD)"),r.createElement("input",{className:"input",type:"number",min:"0",step:"100",value:B.salary,onChange:w=>q(H=>({...H,salary:w.target.value})),disabled:J})),r.createElement("label",{className:"field"},r.createElement("span",null,"Role"),r.createElement("select",{className:"input",value:B.positionId||"",onChange:w=>q(H=>({...H,positionId:w.target.value})),disabled:J||h||!p.length},!p.length&&r.createElement("option",{value:""},"No roles available"),p.map(w=>r.createElement("option",{key:w.id,value:w.id},w.name)))),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>ne(null),disabled:J},"Cancel"),r.createElement("button",{type:"submit",className:"btn primary",disabled:J},J?"Saving...":"Save Changes"))))),C&&r.createElement("div",{className:"table-modal"},r.createElement("div",{className:"table-modal__card"},r.createElement("h4",null,"Delete Employee"),r.createElement("p",null,"Are you sure you want to remove ",r.createElement("strong",null,C.name),"?"),r.createElement("div",{className:"table-modal__actions"},r.createElement("button",{type:"button",className:"btn",onClick:()=>F(null),disabled:A},"Cancel"),r.createElement("button",{type:"button",className:"btn danger",onClick:oe,disabled:A},A?"Deleting...":"Delete")))))}const Kl=["low","medium","high","critical"];function Gl(){return{attractionId:"",dateBroken:"",dateFixed:"",type:"",severity:"",description:""}}function Lc(e){if(!e)return"--";const t=new Date(`${e}T00:00:00`);return Number.isNaN(t.getTime())?e:t.toLocaleDateString()}function gd(){const{user:e}=Me(),[t,n]=u.useState([]),[a,l]=u.useState(!0),[s,i]=u.useState(""),[o,c]=u.useState(!1),[m,p]=u.useState(""),[d,h]=u.useState(""),[v,S]=u.useState(""),[b,E]=u.useState(""),[y,f]=u.useState(""),[g,k]=u.useState(null),[T,x]=u.useState(null),[_,C]=u.useState(()=>Gl()),[F,A]=u.useState(null),[M,I]=u.useState([]),[V,P]=u.useState([]),[z,Y]=u.useState(Kl),ne=["manager","admin","owner"].includes(e==null?void 0:e.role),B=ne,q=ne,J=!!F,D=u.useCallback(async()=>{l(!0),i("");try{const L=await Q("/maintenance");n((L==null?void 0:L.data)||[])}catch(L){i((L==null?void 0:L.message)||"Unable to load maintenance records."),n([])}finally{l(!1)}},[]),O=u.useCallback(async()=>{try{const[L,R]=await Promise.all([Q("/attractions").catch(()=>({data:[]})),Q("/maintenance/meta").catch(()=>({data:{}}))]);I((L.data||[]).map(W=>({id:W.AttractionID??W.id??W.attractionID,name:W.Name??W.name})));const X=R.data||{},w=(X.types||[]).map(W=>{const ae=typeof W=="string"?W.replace(/_/g," ").replace(/\b\w/g,ce=>ce.toUpperCase()):String(W);return{id:W,name:ae}});P(w);const H=(X.severities||[]).length?(X.severities||[]).map(W=>String(W).toLowerCase()):Kl;Y(H)}catch{I([]),setEmployees([]),P([]),Y(Kl)}},[]),ee=u.useCallback(async L=>{if(!(!B||!L)){S(""),E(""),k(L);try{await Q(`/maintenance/${L}/confirm`,{method:"POST"}),S("Maintenance record approved."),await D()}catch(R){E((R==null?void 0:R.message)||"Unable to confirm maintenance record.")}finally{k(null)}}},[B,D]),G=u.useCallback(async L=>{if(!(L!=null&&L.RecordID))return;f("");const R=(L==null?void 0:L.Date_fixed)||new Date().toISOString().slice(0,10),X=typeof window<"u"?window.prompt("Enter resolved date (YYYY-MM-DD)",R):R;if(!X)return;const w=X.trim();if(!/^\d{4}-\d{2}-\d{2}$/.test(w)){f("Resolved date must be in YYYY-MM-DD format.");return}x(L.RecordID);try{await Q(`/maintenance/${L.RecordID}`,{method:"PUT",body:JSON.stringify({dateFixed:w})}),S("Maintenance marked resolved."),await D()}catch(H){f((H==null?void 0:H.message)||"Unable to mark maintenance resolved.")}finally{x(null)}},[D]);u.useEffect(()=>{D()},[D]),u.useEffect(()=>{O()},[O]);function oe(L){L&&(A(L),C({attractionId:String(L.AttractionID??L.attraction_id??L.attractionId??""),dateBroken:L.Date_broken_down||"",dateFixed:L.Date_fixed||"",type:L.type_of_maintenance||"",severity:String(L.Severity_of_report||"").toLowerCase(),description:L.Description_of_work||""}),p(""),h(""))}function le(){A(null),C(Gl()),p(""),h("")}async function se(L){if(L.preventDefault(),!o){if(!_.attractionId){h("Attraction is required.");return}if(!_.dateBroken){h("Date reported is required.");return}if(!_.type){h("Repair type must be selected.");return}if(!_.severity){h("Severity must be selected.");return}if(!_.description.trim()){h("Description is required.");return}c(!0),p(""),h("");try{const R=_.attractionId?Number(_.attractionId):null,X=_.dateBroken||null,w=_.description.trim(),H={attractionId:R,dateBroken:X,dateBrokenDown:X,dateFixed:_.dateFixed||null,typeOfMaintenance:_.type||null,type_of_maintenance:_.type||null,severityOfReport:_.severity||null,Severity_of_report:_.severity||null,descriptionOfWork:w,Description_of_work:w};J&&(F!=null&&F.RecordID)?(await Q(`/maintenance/${F.RecordID}`,{method:"PUT",body:JSON.stringify(H)}),p("Maintenance record updated.")):(await Q("/maintenance",{method:"POST",body:JSON.stringify(H)}),p("Maintenance record logged.")),C(Gl()),A(null),await D()}catch(R){h((R==null?void 0:R.message)||(J?"Failed to update maintenance record.":"Failed to save maintenance record."))}finally{c(!1)}}}return r.createElement("div",{className:"admin-maintenance"},r.createElement("div",{className:"admin-maintenance__layout"},r.createElement(ve,{className:"admin-maintenance__panel"},r.createElement("h3",{style:{marginTop:0}},"Log Maintenance"),J&&r.createElement("div",{className:"alert",style:{marginBottom:12}},"Editing record #",F==null?void 0:F.RecordID," for ",(F==null?void 0:F.attraction_name)||"selected attraction",".",r.createElement("button",{type:"button",className:"btn",style:{marginLeft:12,padding:"2px 10px",fontSize:12},onClick:le},"Cancel edit")),r.createElement("form",{className:"admin-form-grid",onSubmit:se},r.createElement("label",{className:"field"},r.createElement("span",null,"Attraction"),r.createElement("select",{className:"input",value:_.attractionId,onChange:L=>C(R=>({...R,attractionId:L.target.value})),disabled:o},r.createElement("option",{value:""},"Select attraction..."),M.map(L=>r.createElement("option",{key:L.id,value:L.id},L.name)))),r.createElement("label",{className:"field"},r.createElement("span",null,"Date reported"),r.createElement("input",{className:"input",type:"date",value:_.dateBroken,onChange:L=>C(R=>({...R,dateBroken:L.target.value})),disabled:o})),r.createElement("label",{className:"field"},r.createElement("span",null,"Date resolved"),r.createElement("input",{className:"input",type:"date",value:_.dateFixed,onChange:L=>C(R=>({...R,dateFixed:L.target.value})),disabled:o})),r.createElement("label",{className:"field"},r.createElement("span",null,"Maintenance type"),r.createElement("select",{className:"input",value:_.type,onChange:L=>C(R=>({...R,type:L.target.value})),disabled:o},r.createElement("option",{value:""},"Select type..."),V.map(L=>r.createElement("option",{key:L.id,value:L.id},L.name)))),r.createElement("label",{className:"field"},r.createElement("span",null,"Severity"),r.createElement("select",{className:"input",value:_.severity,onChange:L=>C(R=>({...R,severity:L.target.value})),disabled:o},r.createElement("option",{value:""},"Select severity..."),z.map(L=>r.createElement("option",{key:L,value:L},L.replace(/\b\w/g,R=>R.toUpperCase()))))),r.createElement("label",{className:"field",style:{gridColumn:"1 / -1"}},r.createElement("span",null,"Description"),r.createElement("textarea",{className:"input",rows:4,value:_.description,onChange:L=>C(R=>({...R,description:L.target.value})),placeholder:"Describe the maintenance issue and any context.",disabled:o})),r.createElement("button",{className:"btn primary",type:"submit",disabled:o,style:{justifySelf:"flex-start",width:"auto"}},o?"Saving...":J?"Update Maintenance":"Log Maintenance"),J&&r.createElement("button",{type:"button",className:"btn",style:{justifySelf:"flex-start",width:"auto"},onClick:le,disabled:o},"Cancel")),r.createElement("div",{style:{marginTop:12}},m&&r.createElement("div",{className:"alert success"},m),d&&r.createElement("div",{className:"alert error"},d))),r.createElement(ve,{className:"admin-maintenance__panel"},r.createElement("h3",{style:{marginTop:0}},"Recent Maintenance Records"),a&&r.createElement("div",{className:"text-sm text-gray-600"},"Loading records..."),!a&&s&&r.createElement("div",{className:"alert error"},s),!a&&y&&r.createElement("div",{className:"alert error"},y),!a&&!s&&r.createElement(gy,{rows:t,columns:[{key:"attraction_name",label:"Attraction"},{key:"type_of_maintenance",label:"Type"},{key:"Severity_of_report",label:"Severity"},{key:"Date_broken_down",label:"Reported",render:L=>Lc(L)},{key:"Date_fixed",label:"Resolved",render:L=>Lc(L)},{key:"status_label",label:"Status",render:(L,R)=>r.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:6,alignItems:"center"}},r.createElement("span",{style:{display:"inline-flex",alignItems:"center",padding:"2px 8px",borderRadius:999,background:"#eef2ff",fontSize:12,fontWeight:500,textTransform:"capitalize",width:"fit-content"}},L||"Unknown"),R.status_code==="reported"&&r.createElement("button",{type:"button",className:"btn",style:{padding:"2px 8px",fontSize:12},onClick:()=>G(R),disabled:T===R.RecordID},T===R.RecordID?"Saving...":"Mark Resolved"),B&&R.can_confirm&&r.createElement("button",{type:"button",className:"btn",style:{padding:"2px 8px",fontSize:12},onClick:()=>ee(R.RecordID),disabled:g===R.RecordID},g===R.RecordID?"Confirming...":"Confirm"),q&&r.createElement("button",{type:"button",className:"btn",style:{padding:"2px 8px",fontSize:12},onClick:()=>oe(R),disabled:(F==null?void 0:F.RecordID)===R.RecordID},(F==null?void 0:F.RecordID)===R.RecordID?"Editing...":"Edit"))},{key:"approved_by_supervisor_name",label:"Approved By",render:(L,R)=>L||R.Approved_by_supervisor||"Pending"}],emptyMessage:"No maintenance records yet."}),(v||b)&&r.createElement("div",{style:{marginTop:12}},v&&r.createElement("div",{className:"alert success"},v),b&&r.createElement("div",{className:"alert error"},b)))))}function Ly(){return r.createElement(Sy,null,r.createElement(no,null,r.createElement(me,{index:!0,element:r.createElement(gn,{to:"tickets",replace:!0})}),r.createElement(me,{path:"tickets",element:r.createElement(Ny,null)}),r.createElement(me,{path:"parking",element:r.createElement(ky,null)}),r.createElement(me,{path:"gift",element:r.createElement(by,null)}),r.createElement(me,{path:"food",element:r.createElement(_y,null)}),r.createElement(me,{path:"themes",element:r.createElement(Cy,null)}),r.createElement(me,{path:"attractions",element:r.createElement(xy,null)}),r.createElement(me,{path:"employees",element:r.createElement(Py,null)}),r.createElement(me,{path:"maintenance",element:r.createElement(gd,null)}),r.createElement(me,{path:"*",element:r.createElement(gn,{to:"tickets",replace:!0})})))}function qa({roles:e=[],fallback:t=null,children:n}){const{user:a}=Me();return!!a&&e.includes(a.role)?r.createElement(r.Fragment,null,n):t}const un=[{key:"cancellations",title:"Ride Cancellations",description:"Audit rainouts and other closures; filter by reason, attraction, or notes.",endpoint:"/reports/cancellations",emptyMessage:"Run the report to see cancellation activity.",columns:["attraction","cancel_date","reason_label"],badge:"Operations",fields:[{key:"start",label:"Start Date",type:"date",default:()=>$y(14)},{key:"end",label:"End Date",type:"date",default:()=>Fy()},{key:"reasons",label:"Reasons",type:"multiselect",optionsKey:"reasons",size:5,placeholder:"All reasons",helper:"Toggle the reasons you want included."},{key:"search",label:"Search (ride or notes)",type:"text",placeholder:"Keywords..."}],buildParams:e=>{const t=new URLSearchParams;return e.start&&t.set("start",e.start),e.end&&t.set("end",e.end),Array.isArray(e.reasons)&&e.reasons.length&&t.set("reasons",e.reasons.join(",")),e.search&&t.set("search",e.search),t}},{key:"riders",title:"Ride Demand Trends",description:"See rider counts for a given day or roll aggregate metrics by month and attraction.",endpoint:"/reports/riders-per-day",emptyMessage:"Choose filters to see rider counts.",badge:"Guest Flow",columns:["Name","log_date","period_start","riders_count","avg_riders","entry_count"],fields:[{key:"group",label:"Group By",type:"select",options:[{value:"day",label:"Day"},{value:"month",label:"Month"}],default:"month",allowAll:!1,helper:"Switch to Day to focus on a single dates rider counts."},{key:"month",label:"Month (monthly mode)",type:"month",default:"",helper:"Pick a calendar month to auto-fill the range when grouping by month."},{key:"date",label:"Ride Date (daily)",type:"date",default:"",helper:"Leave blank to see all recent log dates."},{key:"ride",label:"Filter by Attraction",type:"text",placeholder:"Name or ID",helper:"Type part of the ride name or use an ID."},{key:"top",label:"Top Results",type:"number",default:"50",helper:"Limit the number of rows returned (1-500)."}],buildParams:e=>{const t=new URLSearchParams,n=e.group||"month";if(t.set("group",n),n==="day")e.date&&t.set("date",e.date);else if(e.month){const a=zy(e.month);a&&(t.set("start",a.start),t.set("end",a.end))}return e.ride&&t.set("ride",e.ride),e.top&&t.set("top",e.top),t}},{key:"maintenance",title:"Maintenance Incidents",description:"Filter maintenance tickets by severity, type, attraction, or keyword.",endpoint:"/maintenance",emptyMessage:"Run the report to review maintenance history.",badge:"Maintenance",columns:["attraction_name","Date_broken_down","Date_fixed","Severity_of_report","type_of_maintenance","Description_of_work","status_label","approved_by_supervisor_name"],fields:[{key:"start",label:"Start Date",type:"date",default:""},{key:"end",label:"End Date",type:"date",default:""},{key:"severity",label:"Severity",type:"select",optionsKey:"maintenanceSeverities",allowAll:!0,placeholder:"All severities"},{key:"type",label:"Maintenance Type",type:"select",optionsKey:"maintenanceTypes",allowAll:!0,placeholder:"All types"},{key:"status",label:"Status",type:"select",options:[{value:"",label:"All statuses"},{value:"reported",label:"Reported"},{value:"awaiting_approval",label:"Awaiting Approval"},{value:"approved",label:"Approved"}],allowAll:!1},{key:"approvedBy",label:"Approved By (name or ID)",type:"text",placeholder:"e.g. 10000014 or Helena"},{key:"attraction",label:"Attraction (ID or name)",type:"text",placeholder:"All attractions"},{key:"search",label:"Keyword search",type:"text",placeholder:"notes contain..."}],buildParams:e=>{const t=new URLSearchParams;return e.start&&t.set("start",e.start),e.end&&t.set("end",e.end),e.severity&&t.set("severity",e.severity),e.type&&t.set("type",e.type),e.status&&t.set("status",e.status),e.approvedBy&&t.set("approvedBy",e.approvedBy),e.attraction&&t.set("attraction",e.attraction),e.search&&t.set("q",e.search),t}},{key:"revenue",title:"Revenue Overview",description:"Combine ticket, dining, and gift sales into one report.",endpoint:"/reports/revenue",emptyMessage:"Run the report to see revenue totals.",badge:"Finance",columns:["period_label","category","item_name","quantity","total_amount"],fields:[{key:"start",label:"Start Date",type:"date",default:""},{key:"end",label:"End Date",type:"date",default:""},{key:"category",label:"Category",type:"select",options:[{value:"",label:"All categories"},{value:"ticket",label:"Tickets"},{value:"food",label:"Food"},{value:"gift",label:"Gifts"}],allowAll:!1},{key:"search",label:"Search item name",type:"text",placeholder:"e.g. VIP or Funnel Cake"}],buildParams:e=>{const t=new URLSearchParams;return e.start&&t.set("start",e.start),e.end&&t.set("end",e.end),e.category&&t.set("category",e.category),e.search&&t.set("search",e.search),t}}];function Ry(){const{user:e,loading:t,refresh:n}=Me(),[a,l]=u.useState(un[0].key),[s,i]=u.useState(()=>Uy()),[o,c]=u.useState({}),[m,p]=u.useState({}),[d,h]=u.useState({}),[v,S]=u.useState(""),[b,E]=u.useState({}),[y,f]=u.useState({}),[g,k]=u.useState([]),[T,x]=u.useState({types:[],severities:[]});if(u.useEffect(()=>{!e&&!t&&n()},[e,t,n]),u.useEffect(()=>{Q("/cancellation-reasons").then(w=>{const W=(Array.isArray(w.data)?w.data:[]).map(ae=>({value:ae.code,label:ae.label||ae.reason||ae.code}));k(W)}).catch(()=>{})},[]),u.useEffect(()=>{Q("/maintenance/meta").then(w=>{var H,W;x({types:Array.isArray((H=w.data)==null?void 0:H.types)?w.data.types:[],severities:Array.isArray((W=w.data)==null?void 0:W.severities)?w.data.severities:[]})}).catch(()=>{})},[]),u.useEffect(()=>{se(a,{silent:!0})},[a]),t)return r.createElement(Xl,null,r.createElement(Zl,null,"Loading..."));if(!e)return r.createElement(Xl,null,r.createElement(Zl,null,"Please login."));if(!["employee","manager","admin","owner"].includes(e.role))return r.createElement(Xl,null,r.createElement(Zl,null,"Employees, managers, admins, or owners only."));const _=un.find(w=>w.key===a)??un[0],C=o[a]||[],F=Object.prototype.hasOwnProperty.call(o,a),A=m[a]||"",M=d[a]||"",I=v===a,V=a==="maintenance",P=b[a],z=a==="revenue"?P==null?void 0:P.summary:null,Y=u.useMemo(()=>a!=="revenue"||!(z!=null&&z.by_category)?[]:Object.entries(z.by_category).map(([w,H])=>({key:w,amount:Number(H??0)})).filter(w=>Number.isFinite(w.amount)),[a,z]),ne=y[a]||{search:"",sortKey:"",sortDir:"asc"},B=u.useMemo(()=>({reasons:g,maintenanceTypes:T.types.map(w=>({value:w,label:Lr(w)})),maintenanceSeverities:T.severities.map(w=>({value:w,label:Lr(w)}))}),[g,T]);function q(w,H){f(W=>{const ae=W[w]||{};return{...W,[w]:{search:"",sortKey:"",sortDir:"asc",...ae,...H}}})}function J(w,H){f(W=>{const ae=W[w]||{};let ce="asc";return ae.sortKey===H&&(ce=ae.sortDir==="asc"?"desc":"asc"),{...W,[w]:{...ae,sortKey:H,sortDir:ce}}})}const D=s.riders||{},O=String(D.group||"month").toLowerCase()==="day"?"day":"month",ee=u.useMemo(()=>a!=="riders"?_.columns:O==="day"?["Name","log_date","riders_count"]:["Name","period_label","riders_count","avg_riders","entry_count"],[a,_.columns,O]),G=u.useMemo(()=>{if(!Array.isArray(C))return[];const w=(ne.search||"").trim().toLowerCase(),H=w?C.filter(ce=>ee.some(fe=>{const be=mn(ce)[fe]??mn(ce)[fe==null?void 0:fe.toLowerCase()];return be!=null&&String(be).toLowerCase().includes(w)})):C,W=ne.sortKey;if(!W)return H;const ae=ne.sortDir==="desc"?-1:1;return[...H].sort((ce,fe)=>{const be=mn(ce)[W]??mn(ce)[W==null?void 0:W.toLowerCase()],We=mn(fe)[W]??mn(fe)[W==null?void 0:W.toLowerCase()];return Hy(be,We)*ae})},[C,ne,ee]),oe=u.useRef(s);u.useEffect(()=>{oe.current=s},[s]);function le(w,H,W){i(ae=>({...ae,[w]:{...ae[w],[H]:W}}))}const se=u.useCallback(async(w,H={})=>{var We,Ge;const W=un.find(ke=>ke.key===w);if(!W)return;const ae=((We=oe.current)==null?void 0:We[w])||{},fe=W.buildParams(ae).toString(),be=fe?`${W.endpoint}?${fe}`:W.endpoint;S(w),H.silent||(p(ke=>({...ke,[w]:""})),h(ke=>({...ke,[w]:""})));try{const ke=await Q(be),re=Array.isArray(ke.data)?ke.data:ke.rows||[],He=ke.summary||((Ge=ke.meta)==null?void 0:Ge.summary)||null;c(N=>({...N,[w]:re})),E(N=>({...N,[w]:{count:re.length,at:new Date().toISOString(),summary:He}})),re.length?h(N=>({...N,[w]:""})):h(N=>({...N,[w]:"No data matched those filters."}))}catch(ke){p(re=>({...re,[w]:(ke==null?void 0:ke.message)||"Unable to run report."})),c(re=>({...re,[w]:[]}))}finally{S("")}},[]),L=u.useRef(new Set);u.useEffect(()=>{a&&(L.current.has(a)||(L.current.add(a),se(a,{silent:!0})))},[a,se]);function R(w){w.preventDefault(),se(a)}function X(w){const H=un.find(W=>W.key===w);H&&(i(W=>({...W,[w]:vd(H)})),setTimeout(()=>se(w),0))}return r.createElement("div",{className:"reports-grid"},r.createElement("aside",{className:"panel panel--stretch",style:{padding:0,overflow:"hidden"}},r.createElement("div",{style:{display:"flex",flexDirection:"column"}},un.map(w=>r.createElement("button",{key:w.key,type:"button",className:`report-select-card ${w.key===a?"report-select-card--active":""}`,onClick:()=>l(w.key)},r.createElement("div",{className:"report-select-card__title"},w.title))))),r.createElement("section",{style:{display:"grid",gap:16}},r.createElement("div",{className:"panel panel--stretch",style:{display:"grid",gap:16}},r.createElement("header",null,r.createElement("h3",{style:{marginTop:0}},_.title),r.createElement("p",{className:"muted",style:{marginBottom:0}},_.description)),r.createElement("form",{onSubmit:R,className:"report-form",style:{display:"grid",gap:12}},r.createElement("div",{className:"report-fields"},_.fields.map(w=>{var H;return Ay(a,w.key,s[a])?r.createElement(My,{key:w.key,field:w,value:(H=s[a])==null?void 0:H[w.key],onChange:W=>le(a,w.key,W),options:Oy(w,B)}):null})),r.createElement("div",{style:{display:"flex",gap:8,flexWrap:"wrap"}},r.createElement("button",{className:"btn primary",type:"submit",disabled:I},I?"Running...":"Refresh Data"),r.createElement("button",{className:"btn",type:"button",onClick:()=>X(a),disabled:I},"Reset Filters")),A&&r.createElement("div",{className:"alert error"},A),!A&&M&&F&&r.createElement("div",{className:"alert info"},M))),r.createElement("div",{className:"panel panel--stretch"},r.createElement("h3",{style:{marginTop:0}},"Results"),I&&r.createElement("div",null,"Loading data..."),!I&&A&&r.createElement("div",{className:"alert error"},A),!I&&!A&&!F&&r.createElement("div",{className:"report-empty"},"Choose a report on the left to load data."),!I&&!A&&F&&r.createElement(r.Fragment,null,a==="revenue"&&z&&r.createElement("div",{className:"report-summary-card",style:{border:"1px solid #e5e7eb",borderRadius:12,padding:16,marginBottom:12,display:"flex",flexDirection:"column",gap:12}},r.createElement("div",{style:{display:"flex",flexDirection:"column",gap:4}},r.createElement("span",{className:"muted",style:{fontSize:12}},"Total Revenue"),r.createElement("strong",{style:{fontSize:28}},Rc(z.total_revenue??0)),(P==null?void 0:P.at)&&r.createElement("small",{className:"muted"},"Updated ",Qy(P.at))),!!Y.length&&r.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:12}},Y.map(w=>r.createElement("div",{key:w.key,style:{flex:"1 1 140px",minWidth:140,padding:12,border:"1px solid #f1f5f9",borderRadius:12,background:"#f8fafc"}},r.createElement("span",{className:"muted",style:{fontSize:12}},Lr(w.key)),r.createElement("div",{style:{fontWeight:600}},Rc(w.amount)))))),r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12,gap:12,flexWrap:"wrap"}},r.createElement("input",{className:"input",type:"text",style:{minWidth:220,flex:"1 1 220px"},placeholder:"Search rows...",value:ne.search||"",onChange:w=>q(a,{search:w.target.value})}),!!C.length&&r.createElement("span",{className:"muted",style:{fontSize:12}},"Showing ",G.length," of ",C.length," rows")),V?r.createElement(jy,{rows:G,emptyMessage:_.emptyMessage}):r.createElement(By,{rows:G,columns:ee,emptyMessage:_.emptyMessage,sortKey:ne.sortKey,sortDir:ne.sortDir,onSort:w=>J(a,w)})))))}function Xl({children:e}){return r.createElement("div",{className:"container",style:{display:"grid",gap:12}},e)}function Zl({children:e}){return r.createElement("div",{className:"panel"},e)}function Ay(e,t,n={}){if(e!=="riders")return!0;const a=String((n==null?void 0:n.group)||"month").toLowerCase()==="day"?"day":"month";return t==="date"?a==="day":t==="month"?a==="month":!0}function My({field:e,value:t,onChange:n,options:a=[]}){const{type:l,label:s,placeholder:i,size:o,allowAll:c=!0}=e,m=e.helper;if(l==="multiselect"){const p=Array.isArray(t)?t:[];return r.createElement("div",{className:"field field--stack"},r.createElement("span",null,s),r.createElement("div",{className:"multiselect-grid",style:{maxHeight:o?`${o*36}px`:"160px"}},a.map(d=>{const h=d.value??d.label,v=p.includes(h);return r.createElement("label",{key:h,className:`multiselect-chip ${v?"multiselect-chip--active":""}`},r.createElement("input",{type:"checkbox",checked:v,onChange:()=>{n(v?p.filter(S=>S!==h):[...p,h])}}),r.createElement("span",null,d.label))})),m&&r.createElement("small",{className:"field-helper"},m))}return l==="select"?r.createElement("label",{className:"field",style:{display:"flex",flexDirection:"column",gap:4}},r.createElement("span",null,s),r.createElement("select",{className:"select",value:t??"",onChange:p=>n(p.target.value)},c&&r.createElement("option",{value:""},i||"All options"),a.map(p=>r.createElement("option",{key:p.value||p.label,value:p.value},p.label))),m&&r.createElement("small",{className:"field-helper"},m)):r.createElement("label",{className:"field",style:{display:"flex",flexDirection:"column",gap:4}},r.createElement("span",null,s),r.createElement("input",{className:"input",type:l==="date"?"date":l==="number"?"number":l==="month"?"month":"text",placeholder:i,value:t??"",onChange:p=>n(p.target.value),min:l==="number"?1:void 0}),m&&r.createElement("small",{className:"field-helper"},m))}function Oy(e,t){return e.options?e.options:e.optionsKey&&t[e.optionsKey]?t[e.optionsKey]:[]}function Uy(){const e={};return un.forEach(t=>{e[t.key]=vd(t)}),e}function vd(e){const t={};return e.fields.forEach(n=>{const a=typeof n.default=="function"?n.default():n.default;n.type==="multiselect"?t[n.key]=Array.isArray(a)?a:a?[a]:[]:t[n.key]=a??""}),t}function Fy(){return Ed(new Date)}function $y(e){const t=new Date;return t.setDate(t.getDate()-e),Ed(t)}function Ed(e){const t=e.getTimezoneOffset()*6e4;return new Date(e.getTime()-t).toISOString().slice(0,10)}function zy(e){if(!e||!/^\d{4}-\d{2}$/.test(e))return null;const[t,n]=e.split("-"),a=Number(t),l=Number(n);if(!Number.isInteger(a)||!Number.isInteger(l)||l<1||l>12)return null;const s=`${t}-${n}-01`,i=new Date(a,l,0).getDate(),o=`${t}-${n}-${String(i).padStart(2,"0")}`;return{start:s,end:o}}function By({rows:e,columns:t,emptyMessage:n,sortKey:a,sortDir:l,onSort:s}){const i=Array.isArray(e)?e:[];return i.length?r.createElement("div",{className:"workspace-table"},r.createElement("table",null,r.createElement("thead",null,r.createElement("tr",null,t.map(o=>{const m=a===o?l==="desc"?"":"":"";return r.createElement("th",{key:o},r.createElement("button",{type:"button",className:"table-sort-btn",onClick:()=>s(o)},Lr(o)," ",m))}))),r.createElement("tbody",null,i.map((o,c)=>{const m=mn(o);return r.createElement("tr",{key:c},t.map(p=>{const d=m[p]??m[Vy(p)];return r.createElement("td",{key:p},Wy(d,p))}))})))):r.createElement("div",{className:"report-empty"},n)}function jy({rows:e,emptyMessage:t}){const n=Array.isArray(e)?e:[];return n.length?r.createElement("div",{className:"workspace-table"},r.createElement("table",null,r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Attraction"),r.createElement("th",null,"Type"),r.createElement("th",null,"Severity"),r.createElement("th",null,"Reported"),r.createElement("th",null,"Resolved"),r.createElement("th",null,"Status"),r.createElement("th",null,"Approved By"),r.createElement("th",null,"Description"))),r.createElement("tbody",null,n.map(a=>r.createElement("tr",{key:a.RecordID??`${a.attraction_name}-${a.Date_broken_down}`},r.createElement("td",null,a.attraction_name||a.AttractionID||"--"),r.createElement("td",null,a.type_of_maintenance||"--"),r.createElement("td",null,a.Severity_of_report||"--"),r.createElement("td",null,Mc(a.Date_broken_down)),r.createElement("td",null,Mc(a.Date_fixed)),r.createElement("td",null,a.status_label||a.Status||"Unknown"),r.createElement("td",null,a.approved_by_supervisor_name||a.Approved_by_supervisor||"Pending"),r.createElement("td",null,a.Description_of_work||"--")))))):r.createElement("div",{className:"report-empty"},t)}function mn(e){return!e||typeof e!="object"?{}:e}function Vy(e){return typeof e=="string"?e.toLowerCase():e}function Lr(e){return e?e.replace(/_/g," ").replace(/\b\w/g,n=>n.toUpperCase()):""}function Rc(e){const t=Number(e??0);return Number.isFinite(t)?t.toLocaleString(void 0,{style:"currency",currency:"USD"}):"$0.00"}function Wy(e,t){if(e==null)return"";if(typeof e=="number"){if(!Number.isFinite(e))return"";const n=Math.abs(e);return t&&/amount|price|revenue/i.test(t)?`$${e.toFixed(2)}`:Number.isInteger(e)?n>=1e3?e.toLocaleString():e:e.toFixed(2).replace(/\.00$/,"")}if(typeof e=="string"){const n=e.trim();if(/^\d{4}-\d{2}-\d{2}T/.test(n)){const a=new Date(n);if(!Number.isNaN(a.getTime()))return a.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}if(/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}$/.test(n)){const a=new Date(n.replace(" ","T"));if(!Number.isNaN(a.getTime()))return a.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}if(/^\d{4}-\d{2}-\d{2}$/.test(n)){const a=new Date(`${n}T00:00:00`);if(!Number.isNaN(a.getTime()))return a.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}return/^\d{2}:\d{2}:\d{2}$/.test(n)?n.slice(0,5):n}return e instanceof Date&&!Number.isNaN(e.getTime())?e.toLocaleString():String(e)}function Hy(e,t){const n=Ac(e),a=Ac(t);return n<a?-1:n>a?1:0}function Ac(e){if(e==null)return"";if(typeof e=="number")return e;if(e instanceof Date)return e.getTime();const t=String(e).trim();if(!t)return"";const n=Number(t);if(!Number.isNaN(n))return n;if(/^\d{4}-\d{2}-\d{2}T/.test(t)||/^\d{4}-\d{2}-\d{2}$/.test(t)){const a=new Date(/T/.test(t)?t:`${t}T00:00:00`);if(!Number.isNaN(a.getTime()))return a.getTime()}if(/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}$/.test(t)){const a=new Date(t.replace(" ","T"));if(!Number.isNaN(a.getTime()))return a.getTime()}return/^\d{2}:\d{2}:\d{2}$/.test(t)?t.slice(0,5):t.toLowerCase()}function Qy(e){const t=new Date(e);if(Number.isNaN(t.getTime()))return"";const n=Date.now()-t.getTime();if(n<6e4)return"just now";if(n<36e5){const a=Math.round(n/6e4);return`${a} min${a===1?"":"s"} ago`}if(n<864e5){const a=Math.round(n/36e5);return`${a} hr${a===1?"":"s"} ago`}return t.toLocaleDateString(void 0,{month:"short",day:"numeric"})}function Mc(e){if(!e)return"--";const t=new Date(`${e}T00:00:00`);return Number.isNaN(t.getTime())?e:t.toLocaleDateString()}function qy(){return r.createElement(qa,{roles:["admin","owner"],fallback:r.createElement("div",{className:"container"},r.createElement("div",{className:"panel"},"Reports are restricted to admins or owners."))},r.createElement(Jy,null))}function Jy(){return r.createElement("div",{className:"workspace-stack"},r.createElement("section",{id:"operations",className:"workspace-section"},r.createElement(Yy,{title:"Reports",description:"Select the report you need and adjust filters to focus the dataset."}),r.createElement(Ry,null)))}function Yy({title:e,description:t}){return r.createElement("header",{className:"workspace-section__header"},r.createElement("h2",null,e),r.createElement("p",null,t))}function es(){return new Date().toISOString().slice(0,10)}function Oc(e){if(!e)return"--";const t=String(e),n=t.includes("T")?t.split("T")[0]:t;if(/^\d{4}-\d{2}-\d{2}$/.test(n)){const l=new Date(`${n}T00:00:00`);if(!Number.isNaN(l.getTime()))return l.toLocaleDateString()}const a=new Date(t);return Number.isNaN(a.getTime())?t:a.toLocaleDateString()}function Ky(){return r.createElement(qa,{roles:["manager","admin","owner"],fallback:r.createElement("div",{className:"container"},r.createElement("div",{className:"panel"},"Managers/Admins/Owners only."))},r.createElement(Gy,null))}function Gy(){const[e,t]=u.useState([]),[n,a]=u.useState([]),[l,s]=u.useState([]),[i,o]=u.useState(!0),[c,m]=u.useState(""),[p,d]=u.useState({attraction:"",date:""}),[h,v]=u.useState([]),[S,b]=u.useState({employeeId:"",attractionId:"",shiftDate:"",startTime:"10:00",endTime:"17:00"}),[E,y]=u.useState(!1),[f,g]=u.useState(""),[k,T]=u.useState({attractionId:"",cancelDate:es(),reason:""}),[x,_]=u.useState(!1),[C,F]=u.useState(""),[A,M]=u.useState(""),[I,V]=u.useState("info"),[P,z]=u.useState({employee:!1,attraction:!1,shiftDate:!1,startTime:!1,endTime:!1});u.useEffect(()=>{let D=!0;async function O(){o(!0),m("");try{const[ee,G,oe,le]=await Promise.all([Q("/employees").catch(R=>{if((R==null?void 0:R.status)===403)return{data:[]};throw R}),Q("/attractions").catch(R=>{if((R==null?void 0:R.status)===403)return{data:[]};throw R}),Q("/schedules").catch(R=>{if((R==null?void 0:R.status)===403)return{data:[]};throw R}),Q("/ride-cancellations?limit=25").catch(R=>{if((R==null?void 0:R.status)===403)return{data:[]};throw R})]);if(!D)return;const se=Array.isArray(ee==null?void 0:ee.data)?ee.data:(ee==null?void 0:ee.employees)||[];t(se.filter(R=>(R.role_name??R.role??"").toLowerCase()==="employee")),a(Array.isArray(G==null?void 0:G.data)?G.data:(G==null?void 0:G.attractions)||[]);const L=Array.isArray(oe==null?void 0:oe.data)?oe.data:(oe==null?void 0:oe.schedules)||[];s(L.filter(R=>!(R.is_completed??R.isCompleted??!1))),v(Array.isArray(le==null?void 0:le.data)?le.data:[])}catch(ee){if(!D)return;m((ee==null?void 0:ee.message)||"Failed to load scheduling data.")}finally{D&&o(!1)}}return O(),()=>{D=!1}},[]);const Y=u.useMemo(()=>n.map(D=>({id:(D==null?void 0:D.AttractionID)??(D==null?void 0:D.id)??(D==null?void 0:D.attraction_id),name:(D==null?void 0:D.Name)??(D==null?void 0:D.name)??"Attraction"})).filter(D=>D.id),[n]),ne=u.useMemo(()=>e.map(D=>{const ee=`${(D==null?void 0:D.first_name)??""} ${(D==null?void 0:D.last_name)??""}`.trim()||(D==null?void 0:D.email)||"Employee";return{id:(D==null?void 0:D.employeeID)??(D==null?void 0:D.id)??(D==null?void 0:D.EmployeeID),name:(D==null?void 0:D.name)??ee}}).filter(D=>D.id),[e]),B=u.useMemo(()=>l.filter(D=>{const O=p.attraction?String(D.attractionId??D.AttractionID??"")===p.attraction:!0,ee=p.date?(D.shiftDate??D.date??"").startsWith(p.date):!0;return O&&ee}),[l,p]);async function q(D){if(D.preventDefault(),E)return;const O={employee:!S.employeeId,attraction:!S.attractionId,shiftDate:!S.shiftDate,startTime:!S.startTime,endTime:!S.endTime};if(O.employee||O.attraction||O.shiftDate||O.startTime||O.endTime){z(O),V("error");const re=[],He={employee:"Employee",attraction:"Attraction",shiftDate:"Shift Date",startTime:"Start Time",endTime:"End Time"};Object.keys(O).forEach(N=>{O[N]&&re.push(He[N])}),g(`Please provide: ${re.join(", ")}`);return}new Date(S.shiftDate);const ee=new Date,G=new Date(ee);G.setHours(0,0,0,0);const[oe,le,se]=String(S.shiftDate||"").split("-"),L=Number(oe||0),R=Number(le||1)-1,X=Number(se||1),w=new Date(L,R,X);if(w.setHours(0,0,0,0),w<G){V("error"),g("Unable to assign shift on a previous date"),z({employee:!1,attraction:!1,shiftDate:!0,startTime:!1,endTime:!1});return}const H=String(S.startTime||"").split(":"),W=Number(H[0]||0),ae=Number(H[1]||0),ce=String(S.endTime||"").split(":"),fe=Number(ce[0]||0),be=Number(ce[1]||0),We=new Date(L,R,X,W,ae,0,0),Ge=new Date(L,R,X,fe,be,0,0);if(Ge<=We){V("error"),g('"End Time" cannot be before the "Start Time"'),z({employee:!1,attraction:!1,shiftDate:!1,startTime:!1,endTime:!0});return}if(w.getTime()===G.getTime()){const re=new Date;if(We<re){V("error"),g('Unable to assign shift "Start Time" at selected time.'),z({employee:!1,attraction:!1,shiftDate:!1,startTime:!0,endTime:!1});return}if(Ge<re){V("error"),g('Unable to assign shift "End Time" at selected time.'),z({employee:!1,attraction:!1,shiftDate:!1,startTime:!1,endTime:!0});return}}if(l.find(re=>{const He=re.shiftDate??re.date??"";if(re.employeeId!==S.employeeId&&String(re.EmployeeID??"")!==String(S.employeeId)||He!==S.shiftDate)return!1;const N=String(re.startTime??re.StartTime??"").split(":"),U=Number(N[0]||0),sn=Number(N[1]||0),er=String(re.endTime??re.EndTime??"").split(":"),Sl=Number(er[0]||0),$=Number(er[1]||0),Z=new Date(L,R,X,U,sn,0,0),te=new Date(L,R,X,Sl,$,0,0);return We<te&&Ge>Z})){V("error"),g("Employee has an overlapping shift at the selected time."),z({employee:!0,attraction:!1,shiftDate:!1,startTime:!1,endTime:!1});return}y(!0),g(""),V("info"),z({employee:!1,attraction:!1,shiftDate:!1,startTime:!1,endTime:!1});try{console.log("Here in manager page"),await Q("/schedules",{method:"POST",body:JSON.stringify({employeeId:S.employeeId,attractionId:S.attractionId,shiftDate:S.shiftDate,startTime:S.startTime,endTime:S.endTime})}),V("success"),g("Shift assigned."),b(N=>({...N,shiftDate:""})),z({employee:!1,attraction:!1,shiftDate:!1,startTime:!1,endTime:!1});const re=await Q("/schedules").catch(N=>{if((N==null?void 0:N.status)===403)return{data:[]};throw N}),He=Array.isArray(re==null?void 0:re.data)?re.data:(re==null?void 0:re.schedules)||[];s(He.filter(N=>!(N.is_completed??N.isCompleted??!1)))}catch(re){V("error"),g((re==null?void 0:re.message)||"Unable to save schedule.")}finally{y(!1)}}async function J(D){if(D.preventDefault(),!x){if(!k.attractionId||!k.reason.trim()){M("Select an attraction and provide a reason.");return}_(!0),M(""),F("");try{await Q("/ride-cancellations",{method:"POST",body:JSON.stringify({attractionId:Number(k.attractionId),cancelDate:k.cancelDate||es(),reason:k.reason.trim()})}),F("Ride cancellation recorded."),T({attractionId:"",cancelDate:es(),reason:""});const O=await Q("/ride-cancellations?limit=25").catch(ee=>{if((ee==null?void 0:ee.status)===403)return{data:[]};throw ee});v(Array.isArray(O==null?void 0:O.data)?O.data:[])}catch(O){M((O==null?void 0:O.message)||"Unable to log cancellation.")}finally{_(!1)}}}return r.createElement("div",{className:"manager-shell"},r.createElement("section",{className:"manager-hero"},r.createElement("div",{className:"manager-hero__content"},r.createElement("h1",null,"Scheduling Command Center"),r.createElement("p",null,"Assign the right people to the right attractions and keep every era fully staffed."),r.createElement("div",{className:"manager-stats"},r.createElement("div",{className:"manager-stat"},r.createElement("div",{className:"manager-stat__value"},ne.length),r.createElement("div",{className:"manager-stat__label"},"Employees")),r.createElement("div",{className:"manager-stat"},r.createElement("div",{className:"manager-stat__value"},Y.length),r.createElement("div",{className:"manager-stat__label"},"Attractions")),r.createElement("div",{className:"manager-stat"},r.createElement("div",{className:"manager-stat__value"},B.length),r.createElement("div",{className:"manager-stat__label"},"Upcoming shifts"))))),r.createElement("section",{className:"manager-grid"},r.createElement("div",{className:"manager-panel",style:{alignSelf:"start"}},r.createElement("h3",null,"Assign a Shift"),r.createElement("p",{className:"manager-panel__intro"},"Choose an employee, pick their attraction, and capture shift details in one streamlined form."),r.createElement("form",{onSubmit:q,className:"manager-form"},r.createElement("div",{className:"field"},r.createElement("span",null,"Employee",P.employee&&r.createElement("span",{className:"missing-asterisk"},"*")),r.createElement("select",{className:"border rounded-xl p-2",value:S.employeeId,onChange:D=>{b(O=>({...O,employeeId:D.target.value})),z(O=>({...O,employee:!1}))}},r.createElement("option",{value:""},"Select employee..."),ne.map(D=>r.createElement("option",{key:D.id,value:D.id},D.name)))),r.createElement("div",{className:"field"},r.createElement("span",null,"Attraction",P.attraction&&r.createElement("span",{className:"missing-asterisk"},"*")),r.createElement("select",{className:"border rounded-xl p-2",value:S.attractionId,onChange:D=>{b(O=>({...O,attractionId:D.target.value})),z(O=>({...O,attraction:!1}))}},r.createElement("option",{value:""},"Select attraction..."),Y.map(D=>r.createElement("option",{key:D.id,value:D.id},D.name)))),r.createElement("div",{className:"manager-form__row"},r.createElement("label",{className:"field",style:{flex:1,minWidth:140}},r.createElement("span",null,"Shift Date",P.shiftDate&&r.createElement("span",{className:"missing-asterisk"},"*")),r.createElement("input",{className:"input",type:"date",value:S.shiftDate,onChange:D=>{b(O=>({...O,shiftDate:D.target.value})),z(O=>({...O,shiftDate:!1}))}})),r.createElement("label",{className:"field",style:{flex:1,minWidth:140}},r.createElement("span",null,"Start Time",P.startTime&&r.createElement("span",{className:"missing-asterisk"},"*")),r.createElement("input",{className:"input",type:"time",value:S.startTime,onChange:D=>{b(O=>({...O,startTime:D.target.value})),z(O=>({...O,startTime:!1}))}})),r.createElement("label",{className:"field",style:{flex:1,minWidth:140}},r.createElement("span",null,"End Time",P.endTime&&r.createElement("span",{className:"missing-asterisk"},"*")),r.createElement("input",{className:"input",type:"time",value:S.endTime,onChange:D=>{b(O=>({...O,endTime:D.target.value})),z(O=>({...O,endTime:!1}))}}))),r.createElement("div",{className:"manager-form__actions"},r.createElement("button",{className:"btn primary",type:"submit",disabled:E},E?"Saving...":"Assign Shift"),f&&(I==="error"?r.createElement("div",{className:"alert error",style:{marginLeft:6}},f):I==="success"?r.createElement("div",{className:"alert success",style:{marginLeft:6}},f):r.createElement("div",{className:"text-sm text-gray-700",style:{marginLeft:6}},f))))),r.createElement("div",{className:"manager-panel manager-panel--wide"},r.createElement("div",{className:"manager-panel__header"},r.createElement("div",null,r.createElement("h3",null,"Upcoming Shifts"),r.createElement("p",null,"Review who is covering each attraction and refine staffing by attraction or date.")),r.createElement("div",{className:"manager-filters"},r.createElement("select",{className:"border rounded-xl p-2",value:p.attraction,onChange:D=>d(O=>({...O,attraction:D.target.value}))},r.createElement("option",{value:""},"All attractions"),Y.map(D=>r.createElement("option",{key:D.id,value:String(D.id)},D.name))),r.createElement("input",{className:"input",type:"date",value:p.date,onChange:D=>d(O=>({...O,date:D.target.value}))}))),i&&r.createElement("div",{className:"text-sm text-gray-700"},"Loading schedules..."),!i&&c&&r.createElement("div",{className:"alert error"},c),!i&&!c&&B.length===0&&r.createElement("div",{className:"text-sm text-gray-700"},"No scheduled shifts yet."),!i&&!c&&B.length>0&&r.createElement("div",{className:"manager-shift-grid"},B.map((D,O)=>{const ee=ne.find(se=>String(se.id)===String(D.employeeId??D.EmployeeID)),G=Y.find(se=>String(se.id)===String(D.attractionId??D.AttractionID)),oe=D.startTime??D.StartTime??Fc(D.start_time),le=D.endTime??D.EndTime??Fc(D.end_time);return r.createElement("div",{key:D.scheduleId??D.ScheduleID??O,className:"manager-shift-card"},r.createElement("div",{className:"manager-shift-card__header"},r.createElement("h4",null,(G==null?void 0:G.name)||"Attraction TBD"),r.createElement("span",null,Oc(D.shiftDate??D.date))),r.createElement("div",{className:"manager-shift-card__body"},r.createElement("div",null,r.createElement("label",null,"Team Member"),r.createElement("strong",null,(ee==null?void 0:ee.name)||"Unassigned")),r.createElement("div",null,r.createElement("label",null,"Shift"),r.createElement("strong",null,Uc(oe),"  ",Uc(le)))))}))),r.createElement("div",{className:"manager-panel manager-panel--wide",id:"ride-cancellations"},r.createElement("div",{className:"manager-panel__header"},r.createElement("div",null,r.createElement("h3",null,"Ride Cancellations"),r.createElement("p",null,"Log weather or operational closures to keep teams informed."))),r.createElement("form",{className:"manager-form",onSubmit:J,style:{marginBottom:16}},r.createElement("div",{className:"field"},r.createElement("span",null,"Attraction"),r.createElement("select",{className:"border rounded-xl p-2",value:k.attractionId,onChange:D=>T(O=>({...O,attractionId:D.target.value}))},r.createElement("option",{value:""},"Select attraction..."),Y.map(D=>r.createElement("option",{key:D.id,value:D.id},D.name)))),r.createElement("div",{className:"manager-form__row"},r.createElement("label",{className:"field",style:{flex:1,minWidth:160}},r.createElement("span",null,"Date"),r.createElement("input",{className:"input",type:"date",value:k.cancelDate,onChange:D=>T(O=>({...O,cancelDate:D.target.value}))})),r.createElement("label",{className:"field",style:{flex:2}},r.createElement("span",null,"Reason"),r.createElement("input",{className:"input",type:"text",placeholder:"e.g. Thunderstorm, lightning advisory...",value:k.reason,onChange:D=>T(O=>({...O,reason:D.target.value}))}))),r.createElement("div",{className:"manager-form__actions"},r.createElement("button",{className:"btn primary",type:"submit",disabled:x},x?"Saving...":"Log Cancellation"),C&&r.createElement("div",{className:"text-sm text-green-700"},C),A&&r.createElement("div",{className:"text-sm text-red-700"},A))),r.createElement("div",{className:"manager-cancel-list"},!h.length&&r.createElement("div",{className:"text-sm text-gray-700"},"No cancellations logged yet."),!!h.length&&r.createElement("table",{className:"manager-table"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Attraction"),r.createElement("th",null,"Date"),r.createElement("th",null,"Reason"))),r.createElement("tbody",null,h.map(D=>r.createElement("tr",{key:D.cancel_id},r.createElement("td",null,D.attraction_name||`#${D.attraction_id}`),r.createElement("td",null,Oc(D.cancel_date)),r.createElement("td",null,D.reason||"--")))))))))}function Uc(e){if(!e)return"";if(typeof e=="string"&&e.includes(":")){const[t,n]=e.split(":"),a=new Date;return a.setHours(Number(t),Number(n||0)),a.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}return String(e)}function Fc(e){return e&&typeof e=="string"?e:""}const $c=["day","annual","birthday","other"];function zc(e=""){const t=e.toLowerCase();return t.includes("annual")||t.includes("season")||t.includes("year")?"annual":t.includes("birthday")?"birthday":"day"}function Xy(e){switch(e){case"day":return"Day Tickets";case"annual":return"Annual Passes";case"birthday":return"Birthday Packages";case"other":return"Special Offers";default:return e}}function da(e={}){const t=e.name||e.ticket_type||e.ticketType||e.id||e.ticketId||e.slug;return String(t??JSON.stringify(e))}function Bc(e){return`$${Number(e||0).toFixed(2)}`}function Zy(e){if(!e)return null;if(/^\d{4}-\d{2}-\d{2}$/.test(e)){const[n,a,l]=e.split("-").map(Number);return new Date(n,a-1,l)}const t=new Date(e);return Number.isNaN(t.getTime())?null:t}function jc(e){const t=Zy(e);return t?t.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric",year:"numeric"}):""}const eg=Array.from({length:10},(e,t)=>t+1);function Er({filter:e="all"}){const{user:t}=Me(),{add:n,items:a}=Za(),l=bt(),s=wt(),[i,o]=u.useState([]),[c,m]=u.useState([]),[p,d]=u.useState(!0),[h,v]=u.useState(""),[S,b]=u.useState(""),[E,y]=u.useState(""),[f,g]=u.useState("info"),k=u.useRef(null),[T,x]=u.useState({}),[_,C]=u.useState(""),[F,A]=u.useState(!1),[M,I]=u.useState(""),[V,P]=u.useState(null),z=u.useMemo(()=>new Date().toISOString().slice(0,10),[]);function Y(L,R="info",X=""){k.current&&window.clearTimeout(k.current),g(R),b(L),y(X),k.current=window.setTimeout(()=>{b(""),y(""),k.current=null},3500)}u.useEffect(()=>()=>{k.current&&window.clearTimeout(k.current)},[]),u.useEffect(()=>{if(!V)return;const L=window.setTimeout(()=>P(null),3e3);return()=>window.clearTimeout(L)},[V]),u.useEffect(()=>{let L=!0;return d(!0),Promise.all([fetch("http://localhost:5175/ticket-types"),fetch("http://localhost:5175/parking/options").catch(()=>null)]).then(async([R,X])=>{if(!L)return;if(!(R!=null&&R.ok))throw new Error("Failed to load tickets");const w=await R.json(),H=X&&X.ok?await X.json():{data:[]};o((w==null?void 0:w.data)||[]),m(((H==null?void 0:H.data)||[]).map(W=>{const ae=W.lotId??W.parking_lot_id??null,ce=W.lot??W.lot_name??"";return{id:ae!=null?String(ae):ce,lotId:ae,name:ce,price:Number(W.price??W.base_price??0)}})),v("")}).catch(R=>{L&&(v((R==null?void 0:R.message)||"Unable to load ticket options."),o([]),m([]))}).finally(()=>L&&d(!1)),()=>{L=!1}},[]);function ne(){console.log("RESETTING FORM in TicketCatalog.jsx"),C(""),A(!1),I(""),x(L=>{const R={};return i.forEach(X=>{const w=da(X);R[w]={selected:!1,qty:1}}),R})}const B=u.useMemo(()=>{const L={day:[],annual:[],birthday:[],other:[]};return i.forEach(R=>{const X=zc(R.name);L[X].push(R)}),L},[i]),q=e==="all"?$c:$c.filter(L=>L===e),J=u.useMemo(()=>q.flatMap(L=>B[L]||[]),[B,q]),D=u.useMemo(()=>c.find(L=>L.id===M)||null,[c,M]);u.useEffect(()=>{x(L=>{const R={};return i.forEach(X=>{const w=da(X),H=L[w]||{selected:!1,qty:1};R[w]={selected:H.selected,qty:Math.max(1,Number(H.qty)||1)}}),R})},[i]),u.useEffect(()=>{F&&c.length&&!M&&I(c[0].id),c.length||(A(!1),I(""))},[F,c,M]);const O=c.length>0;function ee(){if(!t){const L=`${s.pathname}${s.search||""}`;return l(`/login?redirect=${encodeURIComponent(L)}`),Y("Sign in as a customer to add tickets to cart.","warning"),!1}return t.role!=="customer"?(Y("Ticket purchases are limited to customer accounts.","warning"),!1):!0}const G=u.useMemo(()=>J.filter(L=>{var R;return(R=T[da(L)])==null?void 0:R.selected}),[J,T]);function oe(L,R){x(X=>{var w;return{...X,[L]:{selected:R,qty:Math.max(1,Number((w=X[L])==null?void 0:w.qty)||1)}}})}function le(L,R){const X=Math.max(1,Number(R)||1);x(w=>{var H;return{...w,[L]:{selected:((H=w[L])==null?void 0:H.selected)??!0,qty:X}}})}function se(L){L.preventDefault();const R=`${s.pathname}${s.search||""}`;if(!t){l(`/login?redirect=${encodeURIComponent(R)}`);return}if(!ee())return;const X=a.map(W=>{var ae;return(ae=W==null?void 0:W.meta)==null?void 0:ae.visitDate}).find(W=>typeof W=="string"&&W.trim());if(X&&X!==_){P({type:"date",message:`Your cart already includes tickets for ${jc(X)}. Remove them or select the same date.`});return}if(!_){P({type:"date",message:"Choose your visit date before adding to cart."});return}if(!G.length){P({type:"ticket",message:"Select at least one ticket to continue."});return}let w=[];if(G.forEach(W=>{const ae=da(W),ce=T[ae],fe=Number((ce==null?void 0:ce.qty)||1),be={category:zc(W.name),visitDate:_};n({id:`${ae}-${_}`,name:W.name,price:Number(W.price??0),kind:"ticket",qty:fe,meta:be}),w.push(`${fe}x ${W.name}`)}),F){if(!O){Y("Parking add-ons are not available right now.","warning");return}if(!D){Y("Select a parking lot to continue.","warning");return}n({id:`parking-${D.id}-${_}`,name:`Parking - ${D.name}`,price:D.price??0,kind:"parking",qty:1,meta:{lot:D.name,visitDate:_}}),w.push(`Parking: ${D.name}`)}const H=w.join(" - ");Y("Items added to your cart.","success",H),ne()}return r.createElement("div",{className:"page tickets-page"},r.createElement("div",{className:"tickets-banner"},r.createElement("nav",{className:"tickets-breadcrumbs","aria-label":"Breadcrumb"},r.createElement(Wn,{to:"/"},"Home"),r.createElement("span",{"aria-hidden":"true"},""),r.createElement("span",null,"Tickets")),r.createElement("h1",{className:"tickets-banner__title"},"Park Tickets")),r.createElement("div",{className:"page-box page-box--tickets"},r.createElement("header",{className:"ticket-catalog__intro"},r.createElement("h2",null,"Plan Your Visit"),r.createElement("p",null,"Select your date, passes, and optional parking below.")),t&&t.role!=="customer"&&r.createElement("div",{className:"alert warning"},"Ticket purchases are available to customer accounts only."),S&&r.createElement("div",{className:`status-banner status-banner--${f}`,role:"status","aria-live":"polite"},r.createElement("div",{className:"status-banner__title"},S),E&&r.createElement("div",{className:"status-banner__detail"},E)),r.createElement("div",{className:"ticket-date-focus"},r.createElement("label",{className:"ticket-date-control"},r.createElement("span",{className:"ticket-date-control__label"},"Visit date"),r.createElement("input",{className:"ticket-date-control__input",type:"date",min:z,value:_,onChange:L=>C(L.target.value),required:!0}))),p&&r.createElement("p",{className:"text-sm"},"Loading ticket options..."),h&&r.createElement("p",{className:"alert error"},h),!p&&!h&&q.every(L=>B[L].length===0)&&r.createElement("p",{className:"text-sm"},"No tickets found for this category."),r.createElement("div",{className:"ticket-stack"},!p&&!h&&q.map(L=>B[L].length>0&&r.createElement("section",{key:L,className:"ticket-section"},r.createElement("div",{className:"ticket-table","aria-label":`${Xy(L)} tickets`},r.createElement("div",{className:"ticket-table__head ticket-table__head--multiselect"},r.createElement("span",null,"Choose"),r.createElement("span",null,"Details"),r.createElement("span",null,"Qty"),r.createElement("span",null,"Price")),B[L].map(R=>{const X=da(R),w=T[X]||{selected:!1,qty:1};return r.createElement("label",{key:X,className:`ticket-row ticket-row--multiselect ${w.selected?"ticket-row--active":""}`},r.createElement("span",{className:"ticket-row__control"},r.createElement("input",{type:"checkbox",checked:w.selected,onChange:H=>oe(X,H.target.checked)})),r.createElement("div",{className:"ticket-row__info"},r.createElement("div",{className:"ticket-row__name"},R.name)),r.createElement("div",{className:"ticket-row__qty"},r.createElement("select",{className:"input",value:w.qty,onChange:H=>le(X,H.target.value),disabled:!w.selected},eg.map(H=>r.createElement("option",{key:H,value:H},H)))),r.createElement("div",{className:"ticket-row__price"},Bc(R.price)))}))))),r.createElement("form",{className:"ticket-planner",onSubmit:se},r.createElement("div",{className:"ticket-planner__card"},r.createElement("div",null,r.createElement("h3",null,"Your Selection"),r.createElement("div",{style:{fontSize:"0.9rem",color:"#0f172a"}},G.length?`${G.length} ticket type${G.length===1?"":"s"} selected`:"Select one or more ticket types from the list."),r.createElement("div",{style:{fontSize:"0.9rem",color:"#0f172a"}},_?`Visit date locked to ${jc(_)}`:"Pick your visit date above to enable checkout.")),r.createElement("label",{className:"ticket-checkbox"},r.createElement("input",{type:"checkbox",checked:F,disabled:!O,onChange:L=>A(L.target.checked)}),r.createElement("span",null,"Reserve parking (optional)")),F&&O&&r.createElement("label",{className:"ticket-field"},"Parking lot",r.createElement("select",{className:"input",value:M,onChange:L=>I(L.target.value),required:!0},c.map(L=>r.createElement("option",{key:L.id,value:L.id},L.name,"  ",Bc(L.price))))),r.createElement("button",{type:"submit",className:"btn primary"},"Add to cart"))),V&&r.createElement("div",{className:"ticket-alert",role:"alert"},r.createElement("div",{className:"ticket-alert__card"},r.createElement("strong",null,V.type==="date"?"Pick a date":"Choose a ticket"),r.createElement("p",null,V.message),r.createElement("button",{className:"btn primary",onClick:()=>P(null)},"Got it")))),r.createElement("section",{className:"tickets-support-card","aria-labelledby":"ticket-catalog-support-title"},r.createElement("div",{className:"tickets-support-card__content"},r.createElement("p",{className:"tickets-support-card__eyebrow"},"Need assistance?"),r.createElement("h2",{id:"ticket-catalog-support-title"},"Guest Services Can Help"),r.createElement("p",null,"Planning for large groups or special celebrations? Connect with our Guest Services team for personalized help selecting tickets, parking, and add-ons."),r.createElement("div",{className:"tickets-support-card__actions"},r.createElement("a",{className:"support-chip",href:"tel:1-800-555-1299"},"Call 1-800-555-1299"),r.createElement("a",{className:"support-chip",href:"mailto:guestservices@timejumppark.com"},"guestservices@timejumppark.com")))))}function tg({library:e,loading:t,error:n}){const a=bt(),l=(e==null?void 0:e.themes)||[],s=u.useMemo(()=>{const c=new Set,m=[];return l.forEach(p=>{(p.rides||[]).forEach(d=>{const h=d.slug||d.Name||d.name;!h||c.has(h)||(c.add(h),m.push({...d,themeName:p.name,capacity:d.capacity_per_experience??d.capacity??d.riders_per_vehicle??null}))})}),m},[l]),i=u.useMemo(()=>s.filter(c=>(c.type||c.TypeName||"").toLowerCase().includes("show")),[s]);u.useMemo(()=>{const c=new Map;return i.forEach(m=>{const p=(m.type||m.TypeName||"Shows").trim();c.has(p)||c.set(p,[]),c.get(p).push(m)}),Array.from(c.entries()).sort(([m],[p])=>m.localeCompare(p))},[i]);const o=u.useMemo(()=>i.slice(0,12),[i]);return r.createElement("div",{className:"page rides-page"},r.createElement("div",{className:"rides-shell"},r.createElement("section",{className:"rides-hero"},r.createElement("div",{className:"rides-hero__content"},r.createElement("p",{className:"rides-eyebrow"},"Rides & Attractions"),r.createElement("h1",null,"Jump through eras, one thrill at a time."),r.createElement("p",{className:"rides-hero__copy"},"Browse every land, queue up the cant-miss coasters, and plan a full day of shows, dark rides, and immersive walkthroughs before you arrive."),r.createElement("div",{className:"rides-hero__cta"},r.createElement("button",{className:"btn primary",onClick:()=>a("/ticket-passes")},"Buy Tickets"),r.createElement("button",{className:"btn",onClick:()=>a("/things-to-do/dining")},"Visit Marketplace")))),t&&r.createElement("p",{className:"text-sm text-gray-600"},"Loading attractions"),n&&r.createElement("p",{className:"alert error"},n),!t&&!n&&l.length>0&&r.createElement(r.Fragment,null,r.createElement("section",{className:"rides-themes"},r.createElement("div",{className:"section-header rides-section-header"},r.createElement("div",null,r.createElement("h2",null,"Choose a realm"),r.createElement("p",null,"Hop between eras. Tap a land to see the full lineup of rides, dining, and live entertainment."))),r.createElement("div",{className:"rides-themes__grid"},l.map(c=>r.createElement("article",{key:c.slug,className:"theme-card"},c.image_url&&r.createElement("div",{className:"theme-card__image",style:{backgroundImage:`url(${c.image_url})`}}),r.createElement("div",{className:"theme-card__header"},r.createElement("h3",null,c.name),r.createElement("span",null,(c.rides||[]).length," attractions")),c.description&&r.createElement("p",{className:"theme-card__body"},c.description),r.createElement("div",{className:"theme-card__actions"},r.createElement("button",{className:"btn",onClick:()=>a(`/theme/${c.slug}`)},"Explore")))))),r.createElement("section",{className:"rides-highlight"},r.createElement("div",{className:"section-header rides-section-header"},r.createElement("div",null,r.createElement("h2",null,"Featured entertainment"))),o.length?r.createElement("div",{className:"rides-highlight__grid"},o.map(c=>{const m=c.experience_level??c.experienceLevel??c.thrill_level??c.type_description??null,p=c.target_audience??c.targetAudience??c.audience??null,d=c.description||c.type_description||"",h=d&&d.trim().toLowerCase()==="seated or street performance with scheduled times."?"":d,v=(c.status_name||"").toLowerCase(),S=c.is_closed??(v&&v!=="active"),b=c.status_label||(S?"Temporarily Closed":"Open"),E=c.status_note||c.closure_note||null;return r.createElement("article",{key:c.slug||c.name,className:"ride-feature-card ride-feature-card--show"},c.image_url&&r.createElement("div",{className:"ride-feature-card__image",style:{backgroundImage:`url(${c.image_url})`}}),r.createElement("div",{className:"ride-feature-card__meta"},r.createElement("span",null,c.themeName),r.createElement("span",{className:`ride-status ${S?"ride-status--closed":"ride-status--open"}`},b)),r.createElement("h3",null,c.name),S&&E&&r.createElement("p",{className:"ride-status__note"},E),h&&r.createElement("p",null,h),r.createElement("div",{className:"ride-feature-card__stats"},c.capacity&&r.createElement("div",null,r.createElement("strong",null,c.capacity.toLocaleString()),r.createElement("span",{className:"ride-feature-card__stat-label"},"Capacity")),m&&r.createElement("div",null,r.createElement("strong",null,m),r.createElement("span",{className:"ride-feature-card__stat-label"},"Experience")),p&&r.createElement("div",null,r.createElement("strong",null,p),r.createElement("span",{className:"ride-feature-card__stat-label"},"Audience"))),r.createElement("div",{className:"ride-feature-card__cta"},r.createElement("span",null,"Included in ",c.themeName)))})):r.createElement("p",{className:"text-sm text-gray-600"},"Add live entertainment in the admin console to populate this section."))),!t&&!n&&l.length===0&&r.createElement("p",{className:"text-sm text-gray-600"},"No attractions are ready yet. Add themes and rides in the admin console to populate this page.")))}function ng(){const{slug:e}=Nh(),[t,n]=u.useState(null),[a,l]=u.useState(!0),[s,i]=u.useState("");return u.useEffect(()=>{if(!e)return;let o=!0;return l(!0),fetch(`http://localhost:5175/ride-library/themes/${e}`).then(c=>c.ok?c.json():Promise.reject(new Error("Theme not found"))).then(c=>{o&&(n((c==null?void 0:c.data)||null),i(""))}).catch(c=>{o&&(i((c==null?void 0:c.message)||"Unable to load theme."),n(null))}).finally(()=>o&&l(!1)),()=>{o=!1}},[e]),r.createElement("div",{className:"page"},r.createElement("div",{className:"page-box page-box--wide"},a&&r.createElement("p",{className:"text-sm text-gray-600"},"Loading attractions..."),s&&r.createElement("p",{className:"alert error"},s),!a&&!s&&t&&r.createElement(r.Fragment,null,r.createElement("div",{className:"theme-detail__hero"},r.createElement("div",{className:"theme-detail__copy"},r.createElement("p",{className:"theme-detail__eyebrow"},"Featured realm"),r.createElement("h1",null,t.name),t.description&&r.createElement("p",{className:"text-sm text-gray-700"},t.description),r.createElement("p",{className:"text-sm text-gray-600",style:{marginTop:8}},(t.rides||[]).length," attractions in this land.")),t.image_url&&r.createElement("div",{className:"theme-detail__image",style:{backgroundImage:`url(${t.image_url})`}})),r.createElement("div",{className:"ride-grid ride-grid--detail"},(t.rides||[]).map(o=>{var f;const c=o.capacity_per_experience??o.capacity??o.riders_per_vehicle??o.RidersPerVehicle??((f=o.details)==null?void 0:f.RidersPerVehicle)??null,m=o.type||o.TypeName||"Attraction",p=o.target_audience??o.audience??null,d=o.experience_level??o.thrill_level??o.type_description??o.type,h=o.duration_minutes??o.duration??null,v=(o.status_name||"").toLowerCase(),S=o.is_closed??(v&&v!=="active"),b=o.status_label||(S?"Temporarily Closed":"Open"),E=o.status_note||o.closure_note||null,y=o.description&&o.description.trim().toLowerCase()==="seated or street performance with scheduled times."?"":o.description;return r.createElement("article",{key:o.slug||o.id,className:"ride-card ride-card--theme"},r.createElement("header",{className:"ride-card__header"},r.createElement("h2",null,o.name),r.createElement("span",{className:`ride-status ${S?"ride-status--closed":"ride-status--open"}`},b)),S&&E&&r.createElement("p",{className:"ride-status__note"},E),r.createElement("div",{className:"ride-card__meta"},r.createElement("span",{className:"ride-card__chip"},m),d&&r.createElement("span",{className:"ride-card__chip ride-card__chip--accent"},d)),o.image_url&&r.createElement("div",{className:"ride-card__media",style:{backgroundImage:`url(${o.image_url})`}}),y&&r.createElement("p",{className:"ride-card__body"},y),r.createElement("div",{className:"ride-card__stats"},c!=null&&r.createElement("div",null,r.createElement("strong",null,c.toLocaleString()),r.createElement("span",{className:"ride-card__stat-label"},"Capacity")),p&&r.createElement("div",null,r.createElement("strong",null,p),r.createElement("span",{className:"ride-card__stat-label"},"Audience")),h&&r.createElement("div",null,r.createElement("strong",null,h," min"),r.createElement("span",{className:"ride-card__stat-label"},"Duration"))))}))),!a&&!s&&!t&&r.createElement("p",{className:"text-sm text-gray-600"},"Theme not found.")))}const ts={first_name:"",last_name:"",date_of_birth:"",phone:""};function ns(e){const t=String(e||"").replace(/\D/g,"").slice(0,10);return t?t.length<4?`(${t}`:t.length<7?`(${t.slice(0,3)}) ${t.slice(3)}`:`(${t.slice(0,3)}) ${t.slice(3,6)}-${t.slice(6)}`:""}function ag(e){const t=String(e||"").replace(/\D/g,"");return t.length!==10?null:`(${t.slice(0,3)}) ${t.slice(3,6)}-${t.slice(6)}`}function rg(){const{user:e}=Me(),[t,n]=u.useState(!0),[a,l]=u.useState(ts),[s,i]=u.useState(ts),[o,c]=u.useState(!1),[m,p]=u.useState(""),[d,h]=u.useState("info"),[v,S]=u.useState([]),[b,E]=u.useState(!1),y=(e==null?void 0:e.role)==="customer",[f,g]=u.useState(!1);function k(x=!1){i({first_name:a.first_name||"",last_name:a.last_name||"",phone:ns(a.phone)||"",date_of_birth:a.date_of_birth||""}),p(""),h("info"),g(x)}u.useEffect(()=>{if(!e)return;let x=!1;return n(!0),Q("/profile/me").then(_=>{if(x)return;const C=(_==null?void 0:_.profile)||ts;l(C),i({first_name:C.first_name||"",last_name:C.last_name||"",phone:ns(C.phone||""),date_of_birth:C.date_of_birth||""})}).catch(_=>{x||(p((_==null?void 0:_.message)||"Unable to load your profile right now."),h("error"))}).finally(()=>{x||n(!1)}),()=>{x=!0}},[e]),u.useEffect(()=>{if(!e||!y)return;let x=!1;return E(!0),Q("/orders/me").then(_=>{x||S(Array.isArray(_==null?void 0:_.data)?_.data:[])}).catch(()=>{x||S([])}).finally(()=>{x||E(!1)}),()=>{x=!0}},[e,y]);async function T(x){if(x.preventDefault(),!(!e||!f)){c(!0),p("");try{const _=ag(s.phone);if(!_){h("error"),p("Phone number must include 10 digits (e.g., (555) 123-4567)."),c(!1);return}const C={first_name:s.first_name.trim(),last_name:s.last_name.trim(),phone:_,date_of_birth:s.date_of_birth||""},F=await Q("/profile/me",{method:"PUT",body:JSON.stringify(C)}),A=(F==null?void 0:F.profile)||C;l({first_name:A.first_name||"",last_name:A.last_name||"",phone:A.phone||"",date_of_birth:A.date_of_birth||""}),h("success"),p("Profile updated."),g(!1)}catch(_){h("error"),p((_==null?void 0:_.message)||"Unable to save profile.")}finally{c(!1)}}}return e?r.createElement("div",{className:"page"},r.createElement("div",{className:"page-box page-box--wide",style:{display:"grid",gap:24}},r.createElement("section",{className:"panel"},r.createElement("h1",{style:{marginTop:0}},"Account Overview"),r.createElement("div",{className:"muted",style:{fontSize:14}},"Signed in as ",r.createElement("strong",null,e.email||"")," (",e.role,")")),r.createElement("section",{className:"panel"},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12}},r.createElement("h2",{style:{marginTop:0}},"Profile Details"),!t&&r.createElement("div",{className:"account-actions",style:{display:"flex",gap:8}},f?r.createElement("button",{className:"btn",type:"button",onClick:()=>k(!1)},"Cancel"):r.createElement("button",{className:"btn",type:"button",onClick:()=>k(!0)},"Modify"))),t&&r.createElement("div",{className:"muted"},"Loading profile"),!t&&r.createElement("form",{className:"account-form",id:"profile-form",onSubmit:T},r.createElement("label",{className:"field"},r.createElement("span",null,"First name"),r.createElement("input",{className:"input",value:s.first_name,onChange:x=>i(_=>({..._,first_name:x.target.value})),disabled:!f,placeholder:"First name"})),r.createElement("label",{className:"field"},r.createElement("span",null,"Last name"),r.createElement("input",{className:"input",value:s.last_name,onChange:x=>i(_=>({..._,last_name:x.target.value})),disabled:!f,placeholder:"Last name"})),r.createElement("label",{className:"field"},r.createElement("span",null,"Phone"),r.createElement("input",{className:"input",value:s.phone,onChange:x=>i(_=>({..._,phone:ns(x.target.value)})),disabled:!f,placeholder:"(555) 123-4567"})),r.createElement("label",{className:"field"},r.createElement("span",null,"Date of birth"),r.createElement("input",{className:"input",type:"date",value:s.date_of_birth||"",onChange:x=>i(_=>({..._,date_of_birth:x.target.value})),disabled:!f})),f&&r.createElement("div",{className:"account-form__actions",style:{display:"flex",gap:12,flexWrap:"wrap"}},r.createElement("button",{className:"btn primary",type:"submit",disabled:o},o?"Saving":"Confirm"),r.createElement("button",{className:"btn",type:"button",onClick:()=>k(!1),disabled:o},"Cancel")),m&&r.createElement("div",{className:`alert ${d==="success"?"success":d==="error"?"error":"info"}`},m))),r.createElement("section",{className:"panel"},r.createElement("h2",{style:{marginTop:0}},"Password"),r.createElement("p",{className:"muted",style:{marginBottom:16}},"Update your password to keep your account secure."),r.createElement(lg,null)),y&&r.createElement("section",{className:"panel"},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline",flexWrap:"wrap",gap:12}},r.createElement("h2",{style:{margin:0}},"Purchase History"),r.createElement("span",{className:"muted",style:{fontSize:12}},"Latest 200 orders (tickets, parking, dining, gifts)")),b&&r.createElement("div",{className:"muted"},"Loading history"),!b&&v.length===0&&r.createElement("div",{className:"muted",style:{fontSize:14}},"You have not completed any purchases yet."),!b&&v.length>0&&r.createElement("div",{className:"table-responsive"},r.createElement("table",{className:"table"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Item"),r.createElement("th",null,"Type"),r.createElement("th",null,"Visit Date"),r.createElement("th",null,"Quantity"),r.createElement("th",null,"Price"),r.createElement("th",null,"Purchased"))),r.createElement("tbody",null,v.map(x=>{var C;const _=x.visit_date||((C=x.details)==null?void 0:C.visitDate);return r.createElement("tr",{key:x.purchase_id},r.createElement("td",null,x.item_name),r.createElement("td",null,x.item_type),r.createElement("td",null,ig(_)),r.createElement("td",null,x.quantity),r.createElement("td",null,"$",Number(x.price||0).toFixed(2)),r.createElement("td",null,sg(x.created_at)))}))))))):r.createElement("div",{className:"page"},r.createElement("div",{className:"page-box"},r.createElement("h1",null,"Account"),r.createElement("p",null,"Please sign in to view your account and ticket history.")))}function lg(){const[e,t]=u.useState(""),[n,a]=u.useState(""),[l,s]=u.useState(""),[i,o]=u.useState(!1),[c,m]=u.useState(""),[p,d]=u.useState("info");async function h(v){if(v.preventDefault(),!i){if(!e||!n){d("error"),m("Current and new password are required.");return}if(n!==l){d("error"),m("New password and confirmation do not match.");return}o(!0),m("");try{await Q("/profile/password",{method:"PUT",body:JSON.stringify({currentPassword:e,newPassword:n})}),d("success"),m("Password updated successfully."),t(""),a(""),s("")}catch(S){d("error"),m((S==null?void 0:S.message)||"Unable to update password.")}finally{o(!1)}}}return r.createElement("form",{onSubmit:h,className:"account-form"},r.createElement("label",{className:"field"},r.createElement("span",null,"Current password"),r.createElement("input",{className:"input",type:"password",value:e,onChange:v=>t(v.target.value),autoComplete:"current-password"})),r.createElement("label",{className:"field"},r.createElement("span",null,"New password"),r.createElement("input",{className:"input",type:"password",value:n,onChange:v=>a(v.target.value),autoComplete:"new-password",minLength:6})),r.createElement("label",{className:"field"},r.createElement("span",null,"Confirm password"),r.createElement("input",{className:"input",type:"password",value:l,onChange:v=>s(v.target.value),autoComplete:"new-password",minLength:6})),r.createElement("div",{style:{display:"flex",gap:12}},r.createElement("button",{className:"btn primary",type:"submit",disabled:i},i?"Saving":"Update Password"),r.createElement("button",{className:"btn",type:"button",onClick:()=>{t(""),a(""),s(""),m("")}},"Cancel")),c&&r.createElement("div",{className:`alert ${p==="success"?"success":p==="error"?"error":"info"}`},c))}function sg(e){if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?String(e):t.toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"})}function ig(e){if(!e)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(e)){const[n,a,l]=e.split("-").map(Number);return new Date(n,a-1,l).toLocaleDateString(void 0,{dateStyle:"medium"})}const t=new Date(e);return Number.isNaN(t.getTime())?"":t.toLocaleDateString(void 0,{dateStyle:"medium"})}const og="tj-auth-toast";function cg(){typeof window>"u"||!window.sessionStorage||window.sessionStorage.setItem(og,"welcome")}function ug(e){const t=String(e||"").replace(/\D/g,"").slice(0,10);return t?t.length<4?`(${t}`:t.length<7?`(${t.slice(0,3)}) ${t.slice(3)}`:`(${t.slice(0,3)}) ${t.slice(3,6)}-${t.slice(6)}`:""}function mg(e){const t=String(e||"").replace(/\D/g,"");return t.length!==10?null:`(${t.slice(0,3)}) ${t.slice(3,6)}-${t.slice(6)}`}function dg(){const{user:e,refresh:t}=Me(),[n,a]=Yh(),l=bt(),[s,i]=u.useState(""),[o,c]=u.useState("error"),[m,p]=u.useState(!1),[d,h]=u.useState(""),v=u.useMemo(()=>{const y=n.get("redirect");return y&&y.startsWith("/")?y:"/"},[n]),S=n.get("mode")==="signup"?"signup":"login";u.useEffect(()=>{S!=="signup"&&h("")},[S]),u.useEffect(()=>{e&&l(v,{replace:!0})},[e,v,l]);function b(y){a(f=>{const g=new URLSearchParams(f);return y==="signup"?g.set("mode","signup"):g.delete("mode"),v&&v!=="/"?g.set("redirect",v):g.delete("redirect"),g})}async function E(y){if(y.preventDefault(),m)return;const f=new FormData(y.currentTarget),g=String(f.get("email")||"").trim(),k=String(f.get("password")||"");if(!g||!k){c("error"),i("Please provide both email and password.");return}p(!0),i("");try{if(S==="signup"){const T=String(f.get("firstName")||"").trim(),x=String(f.get("lastName")||"").trim(),_=String(f.get("dateOfBirth")||"").trim(),C=mg(d);if(!T||!x||!_||!C){c("error"),i("First name, last name, date of birth, and a valid 10-digit phone are required."),p(!1);return}await Zh({email:g,password:k,firstName:T,lastName:x,dateOfBirth:_,phone:C}),cg()}else await Xh(g,k);so("in"),await t(),l(v,{replace:!0})}catch(T){c("error"),i((T==null?void 0:T.message)||"Unable to complete request.")}finally{p(!1)}}return r.createElement("div",{className:"page"},r.createElement("div",{className:"page-box page-box--narrow auth-page"},r.createElement("header",{className:"auth-page__header"},r.createElement("h1",null,S==="signup"?"Create your account":"Welcome back"),r.createElement("p",{className:"muted"},S==="signup"?"Register as a customer to purchase tickets and manage your visits.":"Sign in with the email and password you used when creating your account.")),r.createElement("form",{className:"auth-form",onSubmit:E},s&&r.createElement("div",{className:`alert ${o==="error"?"error":"info"}`},s),S==="signup"&&r.createElement(r.Fragment,null,r.createElement("label",{className:"field"},r.createElement("span",null,"First name"),r.createElement("input",{className:"input",name:"firstName",type:"text",autoComplete:"given-name",required:S==="signup",placeholder:"First name"})),r.createElement("label",{className:"field"},r.createElement("span",null,"Last name"),r.createElement("input",{className:"input",name:"lastName",type:"text",autoComplete:"family-name",required:S==="signup",placeholder:"Last name"})),r.createElement("label",{className:"field"},r.createElement("span",null,"Date of birth"),r.createElement("input",{className:"input",name:"dateOfBirth",type:"date",required:S==="signup"})),r.createElement("label",{className:"field"},r.createElement("span",null,"Phone number"),r.createElement("input",{className:"input",name:"phone",type:"tel",autoComplete:"tel",value:d,onChange:y=>h(ug(y.target.value)),required:S==="signup",placeholder:"(555) 123-4567"}))),r.createElement("label",{className:"field"},r.createElement("span",null,"Email"),r.createElement("input",{className:"input",name:"email",type:"email",autoComplete:"email",required:!0,placeholder:"you@example.com"})),r.createElement("label",{className:"field"},r.createElement("span",null,"Password"),r.createElement("input",{className:"input",name:"password",type:"password",autoComplete:S==="signup"?"new-password":"current-password",minLength:6,required:!0})),r.createElement("button",{className:"btn primary w-full",type:"submit",disabled:m},m?"Please wait...":S==="signup"?"Sign Up":"Sign In")),r.createElement("footer",{className:"auth-page__footer"},S==="signup"?r.createElement("p",null,"Already have an account?"," ",r.createElement("button",{type:"button",className:"link-button",onClick:()=>b("login")},"Sign in")):r.createElement("p",null,"New here?"," ",r.createElement("button",{type:"button",className:"link-button",onClick:()=>b("signup")},"Create an account")),r.createElement("p",{className:"auth-page__back"},r.createElement(Wn,{to:v&&v!=="/"?v:"/"},"<"," Back to site")))))}function fg(e){if(!e)return"";if(typeof e=="string"){if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;const[n]=e.split("T");if(n)return n}const t=new Date(e);return Number.isNaN(t.getTime())?String(e):t.toISOString().slice(0,10)}function pg(e){if(!e||typeof window>"u")return[];try{const t=window.localStorage.getItem(e);if(!t)return[];const n=JSON.parse(t);return Array.isArray(n)?n:[]}catch{return[]}}function Vc(e,t){if(!(!e||typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(t))}catch{}}const as={scheduled:"Scheduled",cancelled:"Cancelled",cancelled_for_maintenance:"Closed for Maintenance"},ai={scheduled:{bg:"#ecfdf5",fg:"#065f46"},cancelled:{bg:"#fef3c7",fg:"#92400e"},cancelled_for_maintenance:{bg:"#fee2e2",fg:"#9f1239"}};function hg(e,t){let a=(t||"").toLowerCase();a||(a=e===2?"cancelled_for_maintenance":e===1?"cancelled":"scheduled"),as[a]||(a=e!==0?"cancelled":"scheduled");const l=ai[a]||ai.scheduled;return{key:a,label:as[a]||as.scheduled,isMaintenance:a==="cancelled_for_maintenance",isCancelled:a!=="scheduled",colors:l}}function yg(){const{user:e}=Me();e==null||e.role;const[t,n]=u.useState([]),[a,l]=u.useState(!0),[s,i]=u.useState("");u.useEffect(()=>{let d=!0;async function h(){l(!0),i("");try{const v=await Q("/schedules");if(!d)return;n(Array.isArray(v==null?void 0:v.data)?v.data:(v==null?void 0:v.schedules)||[])}catch(v){if(!d)return;i((v==null?void 0:v.message)||"Unable to load schedule."),n([])}finally{d&&l(!1)}}return h(),()=>{d=!1}},[]);const o=u.useCallback(d=>{const h=(d==null?void 0:d.scheduleId)??(d==null?void 0:d.id);h&&n(v=>v.filter(S=>((S==null?void 0:S.ScheduleID)??(S==null?void 0:S.id))!==h))},[]),c=u.useMemo(()=>t.map(d=>{const h=`${d.AttractionID??d.attractionId??"attr"}-${d.Start_time??d.startTime??"start"}-${d.Shift_date??d.shiftDate??"date"}`,v=d.ScheduleID??d.id??null,S=d.ShiftStatus??d.shiftStatus??d.shift_status??0,b=Number(S),E=Number.isFinite(b)?b:0,y=d.shift_status_name??d.shiftStatusName??d.statusName??"",f=hg(E,y),g=d.maintenanceNote??d.maintenance_note??null;return{id:v??h,scheduleId:v,date:fg(d.Shift_date??d.shiftDate??""),start:d.Start_time??d.startTime??"",end:d.End_time??d.endTime??"",attraction:d.attraction_name??d.attractionName??"",attractionId:d.AttractionID??d.attractionId??d.attractionID??null,statusCode:E,statusName:f.key,statusLabel:f.label,statusColors:f.colors,isCancelled:f.isCancelled,isMaintenance:f.isMaintenance,maintenanceNote:g}}).sort((d,h)=>(d.date||"").localeCompare(h.date||"")||(d.start||"").localeCompare(h.start||"")),[t]),m=u.useMemo(()=>c.filter(d=>!d.isCancelled),[c]),p=u.useMemo(()=>m.length?"":c.length===0?"You have no scheduled shifts right now.":c.some(d=>d.isMaintenance)?"All upcoming shifts are closed for maintenance, so rider logging is temporarily disabled.":c.some(d=>d.isCancelled)?"All upcoming shifts are cancelled.":"You've logged all assigned shifts. New shifts will appear here automatically.",[m.length,c]);return r.createElement("div",{className:"page"},r.createElement("div",{className:"panel"},r.createElement("h2",{style:{marginTop:0}},"My Schedule"),r.createElement("p",{className:"muted"},"Review your upcoming shifts."),a&&r.createElement("div",{className:"text-sm text-gray-600"},"Loading schedule..."),!a&&s&&r.createElement("div",{className:"alert error"},s),!a&&!s&&c.length===0&&r.createElement("div",{className:"text-sm text-gray-600"},"No shifts have been assigned yet."),!a&&!s&&c.some(d=>d.isCancelled)&&r.createElement("div",{className:"text-sm text-amber-700",style:{marginBottom:12}},"Shifts highlighted below are unavailable. Maintenance cancellations will be marked in red."),!a&&!s&&c.length>0&&r.createElement("div",{className:"table-wrapper",style:{overflowX:"auto"}},r.createElement("table",{style:{width:"100%",borderCollapse:"collapse"}},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",{style:fa},"Date"),r.createElement("th",{style:fa},"Start"),r.createElement("th",{style:fa},"End"),r.createElement("th",{style:fa},"Attraction"),r.createElement("th",{style:fa},"Status"))),r.createElement("tbody",null,c.map(d=>{const h=d.isMaintenance?"#fff5f5":d.isCancelled?"#f8fafc":void 0,v=d.statusColors||ai.scheduled;return r.createElement("tr",{key:d.id||`${d.date}-${d.start}`,style:h?{backgroundColor:h}:void 0},r.createElement("td",{style:{...pa}},d.date||"--"),r.createElement("td",{style:pa},d.start||"--"),r.createElement("td",{style:pa},d.end||"--"),r.createElement("td",{style:pa},d.attraction||"Unassigned"),r.createElement("td",{style:pa},r.createElement("span",{style:{...vg,backgroundColor:v.bg,color:v.fg}},d.statusLabel),d.isMaintenance&&d.maintenanceNote&&r.createElement("div",{className:"text-xs",style:{marginTop:4,color:"#9f1239"}},"Maintenance note: ",d.maintenanceNote)))}))))),r.createElement(gg,{shifts:m,disabled:!m.length,disabledMessage:p,onShiftLogged:o}))}function gg({shifts:e,disabled:t,disabledMessage:n,onShiftLogged:a}){const{user:l}=Me(),s=10,i=u.useMemo(()=>l!=null&&l.employeeId?`ride-log-${l.employeeId}`:l!=null&&l.id?`ride-log-user-${l.id}`:"ride-log-staff",[l==null?void 0:l.employeeId,l==null?void 0:l.id]),o=u.useMemo(()=>(e||[]).filter(I=>I.attractionId&&I.date&&(!I.statusCode||I.statusCode===0)).map(I=>({id:I.id||`${I.attractionId}-${I.date}-${I.start}`,label:`${I.date} - ${I.attraction||"Attraction"}`,date:I.date,attractionId:I.attractionId,attractionName:I.attraction||"Attraction",scheduleId:I.scheduleId??I.id??null})),[e]),[c,m]=u.useState(()=>{var I;return((I=o[0])==null?void 0:I.id)||""}),p=o.find(I=>I.id===c)||o[0]||null,[d,h]=u.useState(""),[v,S]=u.useState(!1),[b,E]=u.useState(""),y=u.useMemo(()=>pg(i),[i]),[f,g]=u.useState(y),[k,T]=u.useState(()=>!y.length),[x,_]=u.useState(""),[C,F]=u.useState(0);u.useEffect(()=>{var I;m(((I=o[0])==null?void 0:I.id)||"")},[o]),u.useEffect(()=>{g(y),T(!y.length)},[y]),u.useEffect(()=>{let I=!0;async function V(){T(!0),_("");try{const P=new URLSearchParams;P.set("limit",String(s));const z=await Q(`/ride-log?${P.toString()}`);if(!I)return;const Y=(Array.isArray(z==null?void 0:z.data)?z.data:[]).slice(0,s);Y.length&&(g(Y),Vc(i,Y))}catch(P){if(!I)return;_((P==null?void 0:P.message)||"Unable to load recent logs.")}finally{I&&T(!1)}}return V(),()=>{I=!1}},[C,i]);const A=t||o.length===0;async function M(I){if(I.preventDefault(),A||!p){E("No scheduled shifts are available to log right now.");return}const V=Number(d);if(!Number.isFinite(V)||V<0){E("Enter a non-negative rider count.");return}S(!0),E("");try{await Q("/ride-log",{method:"POST",body:JSON.stringify({attractionId:p.attractionId,logDate:p.date,ridersCount:V,scheduleId:p.scheduleId||null})}),E("Rider count saved."),h(""),g(P=>{const z=[{AttractionID:p.attractionId,attraction_name:p.attractionName,log_date:p.date,riders_count:V},...P].slice(0,s);return Vc(i,z),z}),T(!1),_(""),a==null||a(p),F(P=>P+1)}catch(P){E((P==null?void 0:P.message)||"Unable to log riders.")}finally{S(!1)}}return r.createElement("div",{className:"panel"},r.createElement("h3",{style:{marginTop:0}},"Log Riders"),r.createElement("p",{className:"muted"},"Record how many guests rode your assigned attraction for the selected shift."),r.createElement("form",{onSubmit:M,style:{display:"grid",gap:12}},A&&r.createElement("div",{className:"text-sm text-gray-600"},n||"You've logged all assigned shifts. New shifts will appear here automatically."),r.createElement("label",{className:"field"},r.createElement("span",null,"Shift"),r.createElement("select",{className:"select",value:c,onChange:I=>m(I.target.value),disabled:A},o.length===0?r.createElement("option",{value:""},"No scheduled shifts"):o.map(I=>r.createElement("option",{key:I.id,value:I.id},I.label)))),r.createElement("label",{className:"field"},r.createElement("span",null,"Riders"),r.createElement("input",{className:"input",type:"number",min:"0",step:"1",value:d,onChange:I=>h(I.target.value),placeholder:"e.g. 850"})),r.createElement("div",{style:{display:"flex",gap:8,alignItems:"center"}},r.createElement("button",{className:"btn primary",type:"submit",disabled:v||A},v?"Saving...":"Save Rider Count"),b&&r.createElement("span",{className:"text-sm text-gray-700"},b))),r.createElement("div",{style:{marginTop:16}},r.createElement("h4",{style:{marginBottom:8}},"Recent entries"),k&&r.createElement("div",{className:"text-sm text-gray-600"},"Loading history..."),!k&&x&&r.createElement("div",{className:"alert error"},x),!k&&!x&&f.length===0&&r.createElement("div",{className:"text-sm text-gray-600"},"No rider logs yet."),!k&&!x&&f.length>0&&r.createElement("ul",{style:{listStyle:"none",padding:0,margin:0,display:"grid",gap:6}},f.map(I=>{const V=Number(I.riders_count??I.ridersCount??0);return r.createElement("li",{key:`${I.AttractionID}-${I.log_date}`},r.createElement("div",{className:"text-sm font-medium"},I.log_date," - ",V.toLocaleString()," riders"),r.createElement("div",{className:"text-xs text-gray-500"},I.attraction_name))}))))}const fa={textAlign:"left",padding:"8px",borderBottom:"1px solid #e2e8f0",fontSize:"0.85rem",textTransform:"uppercase",letterSpacing:".08em"},pa={padding:"8px",borderBottom:"1px solid #f1f5f9",fontSize:"0.95rem"},vg={display:"inline-flex",alignItems:"center",padding:"2px 8px",borderRadius:"999px",fontSize:"0.8rem",fontWeight:600,textTransform:"capitalize"};function Eg(){return r.createElement(qa,{roles:["employee"],fallback:r.createElement("div",{className:"page"},r.createElement("div",{className:"panel"},"Only employees can view schedules."))},r.createElement(yg,null))}function Sg(){const{user:e}=Me(),t=!e||e.role==="customer",[n,a]=u.useState({themes:[],rides:[]}),[l,s]=u.useState(!0),[i,o]=u.useState("");return u.useEffect(()=>{if(!t){a({themes:[],rides:[]}),s(!1),o("");return}let c=!0;return s(!0),fetch("http://localhost:5175/ride-library").then(m=>m.ok?m.json():Promise.reject(new Error("Failed to load rides"))).then(m=>{c&&(a((m==null?void 0:m.data)||{themes:[],rides:[]}),o(""))}).catch(m=>{c&&(o((m==null?void 0:m.message)||"Unable to load ride data."),a({themes:[],rides:[]}))}).finally(()=>c&&s(!1)),()=>{c=!1}},[t]),r.createElement(sy,null,r.createElement("div",{className:"min-h-screen bg-gray-50"},t?r.createElement(r.Fragment,null,r.createElement(cy,{themes:n.themes}),r.createElement(Ng,{rideLibrary:n,libraryLoading:l,libraryError:i})):r.createElement(wg,null)))}function Ng({rideLibrary:e,libraryLoading:t,libraryError:n}){return r.createElement(no,null,r.createElement(me,{path:"/",element:r.createElement(kg,null)}),r.createElement(me,{path:"/ticket-passes",element:r.createElement(Er,{filter:"all"})}),r.createElement(me,{path:"/ticket-passes/day-tickets",element:r.createElement(Er,{filter:"day"})}),r.createElement(me,{path:"/ticket-passes/annual-passes",element:r.createElement(Er,{filter:"annual"})}),r.createElement(me,{path:"/ticket-passes/birthday-package",element:r.createElement(Er,{filter:"birthday"})}),r.createElement(me,{path:"/things-to-do/rides-attractions",element:r.createElement(tg,{library:e,loading:t,error:n})}),r.createElement(me,{path:"/things-to-do/dining",element:r.createElement(fy,null)}),r.createElement(me,{path:"/things-to-do/shopping",element:r.createElement(dy,null)}),r.createElement(me,{path:"/theme/:slug",element:r.createElement(ng,null)}),r.createElement(me,{path:"/login",element:r.createElement(dg,null)}),r.createElement(me,{path:"/account",element:r.createElement(rg,null)}),r.createElement(me,{path:"*",element:r.createElement(gn,{to:"/",replace:!0})}))}function kg(){const{user:e,loading:t}=Me();return t?r.createElement("div",{className:"page"},r.createElement("div",{className:"panel"},"Loading your experience...")):!e||e.role==="customer"?r.createElement(my,null):r.createElement(gn,{to:Sd(e.role),replace:!0})}function wg(){const{user:e,loading:t}=Me(),n=wt(),a=Sd(e==null?void 0:e.role);return t&&!e?r.createElement("div",{className:"page"},r.createElement("div",{className:"panel"},"Loading your experience...")):r.createElement(r.Fragment,null,r.createElement(_g,{currentPath:n.pathname}),r.createElement(no,null,r.createElement(me,{path:"/",element:r.createElement(gn,{to:a,replace:!0})}),r.createElement(me,{path:"/schedule",element:r.createElement(Eg,null)}),r.createElement(me,{path:"/reports",element:r.createElement(qa,{roles:["admin","owner"],fallback:r.createElement("div",{className:"page"},r.createElement("div",{className:"panel"},"Reports are limited to admins and owners."))},r.createElement(qy,null))}),r.createElement(me,{path:"/manager",element:r.createElement(Ky,null)}),r.createElement(me,{path:"/maintenance",element:r.createElement(qa,{roles:["manager","admin","owner"],fallback:r.createElement("div",{className:"page"},r.createElement("div",{className:"panel"},"Managers or higher only."))},r.createElement(gd,null))}),r.createElement(me,{path:"/admin/*",element:r.createElement(Ly,null)}),r.createElement(me,{path:"/login",element:r.createElement(gn,{to:a,replace:!0})}),r.createElement(me,{path:"*",element:r.createElement(gn,{to:a,replace:!0})})))}const bg=[{label:"Schedule",path:"/schedule",roles:["employee"]},{label:"Reports",path:"/reports",roles:["admin","owner"]},{label:"Manager",path:"/manager",roles:["manager"]},{label:"Maintenance",path:"/maintenance",roles:["manager"]},{label:"Admin",path:"/admin",roles:["admin","owner"]}];function _g({currentPath:e}){const{user:t,signOut:n}=Me(),a=bt(),l=(t==null?void 0:t.role)??"",{authToast:s,dismissToast:i}=fd(t),o=u.useMemo(()=>{const p=bg.filter(d=>!d.roles||d.roles.includes(l));return l==="admin"||l==="owner"?p.filter(d=>d.path==="/reports"||d.path.startsWith("/admin")):p},[l]),c=p=>e===p||e.startsWith(`${p}/`);function m(){so("out"),n(),a("/",{replace:!0})}return r.createElement(r.Fragment,null,r.createElement("header",{className:"nav-shell"},r.createElement("div",{className:"nav-bar"},r.createElement("div",{className:"nav-left"},r.createElement("button",{className:"nav-brand",type:"button",onClick:()=>a("/")},r.createElement("img",{className:"nav-brand__logo",src:yd,alt:`${ni} logo`,width:48,height:48}),r.createElement("span",{className:"nav-brand__text"},"Time Jump Staff")),r.createElement("span",{className:"nav-role-pill"},l?l.toUpperCase():"STAFF")),r.createElement("nav",{className:"nav-links"},r.createElement("div",{className:"nav-staff"},o.map(p=>r.createElement("button",{key:p.path,className:`nav-link nav-link--staff ${c(p.path)?"nav-link--active":""}`,onClick:()=>a(p.path)},p.label))),r.createElement("div",{className:"nav-auth"},r.createElement("button",{className:"btn primary",onClick:m},"Sign Out"))))),r.createElement(hd,{toast:s,onDismiss:i}))}function Sd(e){return e==="admin"||e==="owner"?"/admin":e==="manager"?"/manager":"/schedule"}console.log("[main] loaded");const Cg=document.getElementById("root");Cg?ed(document.getElementById("root")).render(r.createElement(r.StrictMode,null,r.createElement(Hh,null,r.createElement(ey,null,r.createElement(Sg,null))))):document.body.innerHTML='<pre style="color:red">#root not found in index.html</pre>';
